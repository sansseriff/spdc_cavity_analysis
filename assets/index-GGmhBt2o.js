var Za=Object.defineProperty;var Wa=(e,t,n)=>t in e?Za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var di=(e,t,n)=>(Wa(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();function Sn(){}function po(e){return e()}function vu(){return Object.create(null)}function Rn(e){e.forEach(po)}function Do(e){return typeof e=="function"}function go(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Va(e){return Object.keys(e).length===0}function x(e,t){e.appendChild(t)}function mo(e,t,n){e.insertBefore(t,n||null)}function Wi(e){e.parentNode&&e.parentNode.removeChild(e)}function Z(e){return document.createElement(e)}function Xa(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ge(e){return document.createTextNode(e)}function Q(){return Ge(" ")}function De(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function O(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function yt(e){return e===""?null:+e}function Ya(e){return Array.from(e.childNodes)}function an(e,t){t=""+t,e.data!==t&&(e.data=t)}function he(e,t){e.value=t??""}function ae(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ce(e,t,n){e.classList.toggle(t,!!n)}let Tn;function xn(e){Tn=e}function Ja(){if(!Tn)throw new Error("Function called outside component initialization");return Tn}function Ga(e){Ja().$$.on_mount.push(e)}const cn=[],kn=[];let hn=[];const Ei=[],Ka=Promise.resolve();let bi=!1;function Qa(){bi||(bi=!0,Ka.then(vo))}function Ci(e){hn.push(e)}function ja(e){Ei.push(e)}const pi=new Set;let sn=0;function vo(){if(sn!==0)return;const e=Tn;do{try{for(;sn<cn.length;){const t=cn[sn];sn++,xn(t),es(t.$$)}}catch(t){throw cn.length=0,sn=0,t}for(xn(null),cn.length=0,sn=0;kn.length;)kn.pop()();for(let t=0;t<hn.length;t+=1){const n=hn[t];pi.has(n)||(pi.add(n),n())}hn.length=0}while(cn.length);for(;Ei.length;)Ei.pop()();bi=!1,pi.clear(),xn(e)}function es(e){if(e.fragment!==null){e.update(),Rn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ci)}}function ts(e){const t=[],n=[];hn.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),hn=t}const vr=new Set;let ns;function wo(e,t){e&&e.i&&(vr.delete(e),e.i(t))}function rs(e,t,n,r){if(e&&e.o){if(vr.has(e))return;vr.add(e),ns.c.push(()=>{vr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function is(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function us(e){e&&e.c()}function yo(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),Ci(()=>{const u=e.$$.on_mount.map(po).filter(Do);e.$$.on_destroy?e.$$.on_destroy.push(...u):Rn(u),e.$$.on_mount=[]}),i.forEach(Ci)}function _o(e,t){const n=e.$$;n.fragment!==null&&(ts(n.after_update),Rn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function os(e,t){e.$$.dirty[0]===-1&&(cn.push(e),Qa(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ao(e,t,n,r,i,u,a=null,f=[-1]){const l=Tn;xn(e);const h=e.$$={fragment:null,ctx:[],props:u,update:Sn,not_equal:i,bound:vu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:vu(),dirty:f,skip_bound:!1,root:t.target||l.$$.root};a&&a(h.root);let s=!1;if(h.ctx=n?n(e,t.props||{},(o,c,...p)=>{const _=p.length?p[0]:c;return h.ctx&&i(h.ctx[o],h.ctx[o]=_)&&(!h.skip_bound&&h.bound[o]&&h.bound[o](_),s&&os(e,o)),c}):[],h.update(),s=!0,Rn(h.before_update),h.fragment=r?r(h.ctx):!1,t.target){if(t.hydrate){const o=Ya(t.target);h.fragment&&h.fragment.l(o),o.forEach(Wi)}else h.fragment&&h.fragment.c();t.intro&&wo(e.$$.fragment),yo(e,t.target,t.anchor),vo()}xn(l)}class Fo{constructor(){di(this,"$$");di(this,"$$set")}$destroy(){_o(this,1),this.$destroy=Sn}$on(t,n){if(!Do(n))return Sn;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Va(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const as="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(as);function wr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ss(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eo(e){let t,n,r;e.length!==2?(t=wr,n=(f,l)=>wr(e(f),l),r=(f,l)=>e(f)-l):(t=e===wr||e===ss?e:fs,n=e,r=e);function i(f,l,h=0,s=f.length){if(h<s){if(t(l,l)!==0)return s;do{const o=h+s>>>1;n(f[o],l)<0?h=o+1:s=o}while(h<s)}return h}function u(f,l,h=0,s=f.length){if(h<s){if(t(l,l)!==0)return s;do{const o=h+s>>>1;n(f[o],l)<=0?h=o+1:s=o}while(h<s)}return h}function a(f,l,h=0,s=f.length){const o=i(f,l,h,s-1);return o>h&&r(f[o-1],l)>-r(f[o],l)?o-1:o}return{left:i,center:a,right:u}}function fs(){return 0}function cs(e){return e===null?NaN:+e}const ls=Eo(wr),hs=ls.right;Eo(cs).center;function ds(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let u of e)(u=t(u,++i,e))!=null&&(n===void 0?u>=u&&(n=r=u):(n>u&&(n=u),r<u&&(r=u)))}return[n,r]}const ps=Math.sqrt(50),Ds=Math.sqrt(10),gs=Math.sqrt(2);function br(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),u=r/Math.pow(10,i),a=u>=ps?10:u>=Ds?5:u>=gs?2:1;let f,l,h;return i<0?(h=Math.pow(10,-i)/a,f=Math.round(e*h),l=Math.round(t*h),f/h<e&&++f,l/h>t&&--l,h=-h):(h=Math.pow(10,i)*a,f=Math.round(e/h),l=Math.round(t/h),f*h<e&&++f,l*h>t&&--l),l<f&&.5<=n&&n<2?br(e,t,n*2):[f,l,h]}function ms(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,u,a]=r?br(t,e,n):br(e,t,n);if(!(u>=i))return[];const f=u-i+1,l=new Array(f);if(r)if(a<0)for(let h=0;h<f;++h)l[h]=(u-h)/-a;else for(let h=0;h<f;++h)l[h]=(u-h)*a;else if(a<0)for(let h=0;h<f;++h)l[h]=(i+h)/-a;else for(let h=0;h<f;++h)l[h]=(i+h)*a;return l}function Ni(e,t,n){return t=+t,e=+e,n=+n,br(e,t,n)[2]}function vs(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ni(t,e,n):Ni(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ws(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ys(e){return e}var Di=1,gi=2,Bi=3,bn=4,wu=1e-6;function _s(e){return"translate("+e+",0)"}function As(e){return"translate(0,"+e+")"}function Fs(e){return t=>+e(t)}function Es(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function bs(){return!this.__axis}function bo(e,t){var n=[],r=null,i=null,u=6,a=6,f=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===Di||e===bn?-1:1,s=e===bn||e===gi?"x":"y",o=e===Di||e===Bi?_s:As;function c(p){var _=r??(t.ticks?t.ticks.apply(t,n):t.domain()),d=i??(t.tickFormat?t.tickFormat.apply(t,n):ys),g=Math.max(u,0)+f,D=t.range(),v=+D[0]+l,m=+D[D.length-1]+l,A=(t.bandwidth?Es:Fs)(t.copy(),l),y=p.selection?p.selection():p,E=y.selectAll(".domain").data([null]),B=y.selectAll(".tick").data(_,t).order(),C=B.exit(),k=B.enter().append("g").attr("class","tick"),z=B.select("line"),b=B.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(k),z=z.merge(k.append("line").attr("stroke","currentColor").attr(s+"2",h*u)),b=b.merge(k.append("text").attr("fill","currentColor").attr(s,h*g).attr("dy",e===Di?"0em":e===Bi?"0.71em":"0.32em")),p!==y&&(E=E.transition(p),B=B.transition(p),z=z.transition(p),b=b.transition(p),C=C.transition(p).attr("opacity",wu).attr("transform",function(M){return isFinite(M=A(M))?o(M+l):this.getAttribute("transform")}),k.attr("opacity",wu).attr("transform",function(M){var W=this.parentNode.__axis;return o((W&&isFinite(W=W(M))?W:A(M))+l)})),C.remove(),E.attr("d",e===bn||e===gi?a?"M"+h*a+","+v+"H"+l+"V"+m+"H"+h*a:"M"+l+","+v+"V"+m:a?"M"+v+","+h*a+"V"+l+"H"+m+"V"+h*a:"M"+v+","+l+"H"+m),B.attr("opacity",1).attr("transform",function(M){return o(A(M)+l)}),z.attr(s+"2",h*u),b.attr(s,h*g).text(d),y.filter(bs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===gi?"start":e===bn?"end":"middle"),y.each(function(){this.__axis=A})}return c.scale=function(p){return arguments.length?(t=p,c):t},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),c):n.slice()},c.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),c):r&&r.slice()},c.tickFormat=function(p){return arguments.length?(i=p,c):i},c.tickSize=function(p){return arguments.length?(u=a=+p,c):u},c.tickSizeInner=function(p){return arguments.length?(u=+p,c):u},c.tickSizeOuter=function(p){return arguments.length?(a=+p,c):a},c.tickPadding=function(p){return arguments.length?(f=+p,c):f},c.offset=function(p){return arguments.length?(l=+p,c):l},c}function Cs(e){return bo(Bi,e)}function Ns(e){return bo(bn,e)}var Bs={value:()=>{}};function Co(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yr(n)}function yr(e){this._=e}function xs(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yr.prototype=Co.prototype={constructor:yr,on:function(e,t){var n=this._,r=xs(e+"",n),i,u=-1,a=r.length;if(arguments.length<2){for(;++u<a;)if((i=(e=r[u]).type)&&(i=Ms(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<a;)if(i=(e=r[u]).type)n[i]=yu(n[i],e.name,t);else if(t==null)for(i in n)n[i]=yu(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new yr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,u;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],r=0,i=u.length;r<i;++r)u[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,u=r.length;i<u;++i)r[i].value.apply(t,n)}};function Ms(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function yu(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Bs,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var xi="http://www.w3.org/1999/xhtml";const _u={svg:"http://www.w3.org/2000/svg",xhtml:xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_u.hasOwnProperty(t)?{space:_u[t],local:e}:e}function Ss(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xi&&t.documentElement.namespaceURI===xi?t.createElement(e):t.createElementNS(n,e)}}function Ts(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function No(e){var t=Xr(e);return(t.local?Ts:Ss)(t)}function ks(){}function Vi(e){return e==null?ks:function(){return this.querySelector(e)}}function Is(e){typeof e!="function"&&(e=Vi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u=t[i],a=u.length,f=r[i]=new Array(a),l,h,s=0;s<a;++s)(l=u[s])&&(h=e.call(l,l.__data__,s,u))&&("__data__"in l&&(h.__data__=l.__data__),f[s]=h);return new nt(r,this._parents)}function Os(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ps(){return[]}function Bo(e){return e==null?Ps:function(){return this.querySelectorAll(e)}}function zs(e){return function(){return Os(e.apply(this,arguments))}}function $s(e){typeof e=="function"?e=zs(e):e=Bo(e);for(var t=this._groups,n=t.length,r=[],i=[],u=0;u<n;++u)for(var a=t[u],f=a.length,l,h=0;h<f;++h)(l=a[h])&&(r.push(e.call(l,l.__data__,h,a)),i.push(l));return new nt(r,i)}function xo(e){return function(){return this.matches(e)}}function Mo(e){return function(t){return t.matches(e)}}var Rs=Array.prototype.find;function Ls(e){return function(){return Rs.call(this.children,e)}}function qs(){return this.firstElementChild}function Us(e){return this.select(e==null?qs:Ls(typeof e=="function"?e:Mo(e)))}var Hs=Array.prototype.filter;function Zs(){return Array.from(this.children)}function Ws(e){return function(){return Hs.call(this.children,e)}}function Vs(e){return this.selectAll(e==null?Zs:Ws(typeof e=="function"?e:Mo(e)))}function Xs(e){typeof e!="function"&&(e=xo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u=t[i],a=u.length,f=r[i]=[],l,h=0;h<a;++h)(l=u[h])&&e.call(l,l.__data__,h,u)&&f.push(l);return new nt(r,this._parents)}function So(e){return new Array(e.length)}function Ys(){return new nt(this._enter||this._groups.map(So),this._parents)}function Cr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cr.prototype={constructor:Cr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Js(e){return function(){return e}}function Gs(e,t,n,r,i,u){for(var a=0,f,l=t.length,h=u.length;a<h;++a)(f=t[a])?(f.__data__=u[a],r[a]=f):n[a]=new Cr(e,u[a]);for(;a<l;++a)(f=t[a])&&(i[a]=f)}function Ks(e,t,n,r,i,u,a){var f,l,h=new Map,s=t.length,o=u.length,c=new Array(s),p;for(f=0;f<s;++f)(l=t[f])&&(c[f]=p=a.call(l,l.__data__,f,t)+"",h.has(p)?i[f]=l:h.set(p,l));for(f=0;f<o;++f)p=a.call(e,u[f],f,u)+"",(l=h.get(p))?(r[f]=l,l.__data__=u[f],h.delete(p)):n[f]=new Cr(e,u[f]);for(f=0;f<s;++f)(l=t[f])&&h.get(c[f])===l&&(i[f]=l)}function Qs(e){return e.__data__}function js(e,t){if(!arguments.length)return Array.from(this,Qs);var n=t?Ks:Gs,r=this._parents,i=this._groups;typeof e!="function"&&(e=Js(e));for(var u=i.length,a=new Array(u),f=new Array(u),l=new Array(u),h=0;h<u;++h){var s=r[h],o=i[h],c=o.length,p=ef(e.call(s,s&&s.__data__,h,r)),_=p.length,d=f[h]=new Array(_),g=a[h]=new Array(_),D=l[h]=new Array(c);n(s,o,d,g,D,p,t);for(var v=0,m=0,A,y;v<_;++v)if(A=d[v]){for(v>=m&&(m=v+1);!(y=g[m])&&++m<_;);A._next=y||null}}return a=new nt(a,r),a._enter=f,a._exit=l,a}function ef(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tf(){return new nt(this._exit||this._groups.map(So),this._parents)}function nf(e,t,n){var r=this.enter(),i=this,u=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?u.remove():n(u),r&&i?r.merge(i).order():i}function rf(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,u=r.length,a=Math.min(i,u),f=new Array(i),l=0;l<a;++l)for(var h=n[l],s=r[l],o=h.length,c=f[l]=new Array(o),p,_=0;_<o;++_)(p=h[_]||s[_])&&(c[_]=p);for(;l<i;++l)f[l]=n[l];return new nt(f,this._parents)}function uf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,u=r[i],a;--i>=0;)(a=r[i])&&(u&&a.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(a,u),u=a);return this}function of(e){e||(e=af);function t(o,c){return o&&c?e(o.__data__,c.__data__):!o-!c}for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u){for(var a=n[u],f=a.length,l=i[u]=new Array(f),h,s=0;s<f;++s)(h=a[s])&&(l[s]=h);l.sort(t)}return new nt(i,this._parents).order()}function af(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ff(){return Array.from(this)}function cf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,u=r.length;i<u;++i){var a=r[i];if(a)return a}return null}function lf(){let e=0;for(const t of this)++e;return e}function hf(){return!this.node()}function df(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],u=0,a=i.length,f;u<a;++u)(f=i[u])&&e.call(f,f.__data__,u,i);return this}function pf(e){return function(){this.removeAttribute(e)}}function Df(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gf(e,t){return function(){this.setAttribute(e,t)}}function mf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function wf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yf(e,t){var n=Xr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Df:pf:typeof t=="function"?n.local?wf:vf:n.local?mf:gf)(n,t))}function To(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _f(e){return function(){this.style.removeProperty(e)}}function Af(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ff(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ef(e,t,n){return arguments.length>1?this.each((t==null?_f:typeof t=="function"?Ff:Af)(e,t,n??"")):Dn(this.node(),e)}function Dn(e,t){return e.style.getPropertyValue(t)||To(e).getComputedStyle(e,null).getPropertyValue(t)}function bf(e){return function(){delete this[e]}}function Cf(e,t){return function(){this[e]=t}}function Nf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Bf(e,t){return arguments.length>1?this.each((t==null?bf:typeof t=="function"?Nf:Cf)(e,t)):this.node()[e]}function ko(e){return e.trim().split(/^|\s+/)}function Xi(e){return e.classList||new Io(e)}function Io(e){this._node=e,this._names=ko(e.getAttribute("class")||"")}Io.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Oo(e,t){for(var n=Xi(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Po(e,t){for(var n=Xi(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function xf(e){return function(){Oo(this,e)}}function Mf(e){return function(){Po(this,e)}}function Sf(e,t){return function(){(t.apply(this,arguments)?Oo:Po)(this,e)}}function Tf(e,t){var n=ko(e+"");if(arguments.length<2){for(var r=Xi(this.node()),i=-1,u=n.length;++i<u;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Sf:t?xf:Mf)(n,t))}function kf(){this.textContent=""}function If(e){return function(){this.textContent=e}}function Of(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Pf(e){return arguments.length?this.each(e==null?kf:(typeof e=="function"?Of:If)(e)):this.node().textContent}function zf(){this.innerHTML=""}function $f(e){return function(){this.innerHTML=e}}function Rf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Lf(e){return arguments.length?this.each(e==null?zf:(typeof e=="function"?Rf:$f)(e)):this.node().innerHTML}function qf(){this.nextSibling&&this.parentNode.appendChild(this)}function Uf(){return this.each(qf)}function Hf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zf(){return this.each(Hf)}function Wf(e){var t=typeof e=="function"?e:No(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Vf(){return null}function Xf(e,t){var n=typeof e=="function"?e:No(e),r=t==null?Vf:typeof t=="function"?t:Vi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Yf(){var e=this.parentNode;e&&e.removeChild(this)}function Jf(){return this.each(Yf)}function Gf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qf(e){return this.select(e?Kf:Gf)}function jf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ec(e){return function(t){e.call(this,t,this.__data__)}}function tc(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nc(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,u;n<i;++n)u=t[n],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++r]=u;++r?t.length=r:delete this.__on}}}function rc(e,t,n){return function(){var r=this.__on,i,u=ec(t);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=n),i.value=t;return}}this.addEventListener(e.type,u,n),i={type:e.type,name:e.name,value:t,listener:u,options:n},r?r.push(i):this.__on=[i]}}function ic(e,t,n){var r=tc(e+""),i,u=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var l=0,h=f.length,s;l<h;++l)for(i=0,s=f[l];i<u;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=t?rc:nc,i=0;i<u;++i)this.each(f(r[i],t,n));return this}function zo(e,t,n){var r=To(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function uc(e,t){return function(){return zo(this,e,t)}}function oc(e,t){return function(){return zo(this,e,t.apply(this,arguments))}}function ac(e,t){return this.each((typeof t=="function"?oc:uc)(e,t))}function*sc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,u=r.length,a;i<u;++i)(a=r[i])&&(yield a)}var $o=[null];function nt(e,t){this._groups=e,this._parents=t}function Ln(){return new nt([[document.documentElement]],$o)}function fc(){return this}nt.prototype=Ln.prototype={constructor:nt,select:Is,selectAll:$s,selectChild:Us,selectChildren:Vs,filter:Xs,data:js,enter:Ys,exit:tf,join:nf,merge:rf,selection:fc,order:uf,sort:of,call:sf,nodes:ff,node:cf,size:lf,empty:hf,each:df,attr:yf,style:Ef,property:Bf,classed:Tf,text:Pf,html:Lf,raise:Uf,lower:Zf,append:Wf,insert:Xf,remove:Jf,clone:Qf,datum:jf,on:ic,dispatch:ac,[Symbol.iterator]:sc};function Au(e){return typeof e=="string"?new nt([[document.querySelector(e)]],[document.documentElement]):new nt([[e]],$o)}function Yi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ro(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qn(){}var In=.7,Nr=1/In,dn="\\s*([+-]?\\d+)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cc=/^#([0-9a-f]{3,8})$/,lc=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),hc=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),dc=new RegExp(`^rgba\\(${dn},${dn},${dn},${On}\\)$`),pc=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${On}\\)$`),Dc=new RegExp(`^hsl\\(${On},${Ft},${Ft}\\)$`),gc=new RegExp(`^hsla\\(${On},${Ft},${Ft},${On}\\)$`),Fu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yi(qn,Ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eu,formatHex:Eu,formatHex8:mc,formatHsl:vc,formatRgb:bu,toString:bu});function Eu(){return this.rgb().formatHex()}function mc(){return this.rgb().formatHex8()}function vc(){return Lo(this).formatHsl()}function bu(){return this.rgb().formatRgb()}function Ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cu(t):n===3?new Qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lc.exec(e))?new Qe(t[1],t[2],t[3],1):(t=hc.exec(e))?new Qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dc.exec(e))?dr(t[1],t[2],t[3],t[4]):(t=pc.exec(e))?dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dc.exec(e))?xu(t[1],t[2]/100,t[3]/100,1):(t=gc.exec(e))?xu(t[1],t[2]/100,t[3]/100,t[4]):Fu.hasOwnProperty(e)?Cu(Fu[e]):e==="transparent"?new Qe(NaN,NaN,NaN,0):null}function Cu(e){return new Qe(e>>16&255,e>>8&255,e&255,1)}function dr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qe(e,t,n,r)}function wc(e){return e instanceof qn||(e=Ut(e)),e?(e=e.rgb(),new Qe(e.r,e.g,e.b,e.opacity)):new Qe}function Mi(e,t,n,r){return arguments.length===1?wc(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yi(Qe,Mi,Ro(qn,{brighter(e){return e=e==null?Nr:Math.pow(Nr,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qe(Kt(this.r),Kt(this.g),Kt(this.b),Br(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nu,formatHex:Nu,formatHex8:yc,formatRgb:Bu,toString:Bu}));function Nu(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function yc(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bu(){const e=Br(this.opacity);return`${e===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${e===1?")":`, ${e})`}`}function Br(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gt(e){return e=Kt(e),(e<16?"0":"")+e.toString(16)}function xu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dt(e,t,n,r)}function Lo(e){if(e instanceof dt)return new dt(e.h,e.s,e.l,e.opacity);if(e instanceof qn||(e=Ut(e)),!e)return new dt;if(e instanceof dt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),u=Math.max(t,n,r),a=NaN,f=u-i,l=(u+i)/2;return f?(t===u?a=(n-r)/f+(n<r)*6:n===u?a=(r-t)/f+2:a=(t-n)/f+4,f/=l<.5?u+i:2-u-i,a*=60):f=l>0&&l<1?0:a,new dt(a,f,l,e.opacity)}function _c(e,t,n,r){return arguments.length===1?Lo(e):new dt(e,t,n,r??1)}function dt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yi(dt,_c,Ro(qn,{brighter(e){return e=e==null?Nr:Math.pow(Nr,e),new dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qe(mi(e>=240?e-240:e+120,i,r),mi(e,i,r),mi(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new dt(Mu(this.h),pr(this.s),pr(this.l),Br(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Br(this.opacity);return`${e===1?"hsl(":"hsla("}${Mu(this.h)}, ${pr(this.s)*100}%, ${pr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mu(e){return e=(e||0)%360,e<0?e+360:e}function pr(e){return Math.max(0,Math.min(1,e||0))}function mi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ji=e=>()=>e;function Ac(e,t){return function(n){return e+n*t}}function Fc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ec(e){return(e=+e)==1?qo:function(t,n){return n-t?Fc(t,n,e):Ji(isNaN(t)?n:t)}}function qo(e,t){var n=t-e;return n?Ac(e,n):Ji(isNaN(e)?t:e)}const xr=function e(t){var n=Ec(t);function r(i,u){var a=n((i=Mi(i)).r,(u=Mi(u)).r),f=n(i.g,u.g),l=n(i.b,u.b),h=qo(i.opacity,u.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=l(s),i.opacity=h(s),i+""}}return r.gamma=e,r}(1);function bc(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(u){for(i=0;i<n;++i)r[i]=e[i]*(1-u)+t[i]*u;return r}}function Cc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nc(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),u=new Array(n),a;for(a=0;a<r;++a)i[a]=Yr(e[a],t[a]);for(;a<n;++a)u[a]=t[a];return function(f){for(a=0;a<r;++a)u[a]=i[a](f);return u}}function Bc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ht(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xc(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Yr(e[i],t[i]):r[i]=t[i];return function(u){for(i in n)r[i]=n[i](u);return r}}var Si=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vi=new RegExp(Si.source,"g");function Mc(e){return function(){return e}}function Sc(e){return function(t){return e(t)+""}}function Uo(e,t){var n=Si.lastIndex=vi.lastIndex=0,r,i,u,a=-1,f=[],l=[];for(e=e+"",t=t+"";(r=Si.exec(e))&&(i=vi.exec(t));)(u=i.index)>n&&(u=t.slice(n,u),f[a]?f[a]+=u:f[++a]=u),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,l.push({i:a,x:ht(r,i)})),n=vi.lastIndex;return n<t.length&&(u=t.slice(n),f[a]?f[a]+=u:f[++a]=u),f.length<2?l[0]?Sc(l[0].x):Mc(t):(t=l.length,function(h){for(var s=0,o;s<t;++s)f[(o=l[s]).i]=o.x(h);return f.join("")})}function Yr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ji(t):(n==="number"?ht:n==="string"?(r=Ut(t))?(t=r,xr):Uo:t instanceof Ut?xr:t instanceof Date?Bc:Cc(t)?bc:Array.isArray(t)?Nc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xc:ht)(e,t)}function Ho(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Su=180/Math.PI,Ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zo(e,t,n,r,i,u){var a,f,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,l/=f),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:u,rotate:Math.atan2(t,e)*Su,skewX:Math.atan(l)*Su,scaleX:a,scaleY:f}}var Dr;function Tc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ti:Zo(t.a,t.b,t.c,t.d,t.e,t.f)}function kc(e){return e==null||(Dr||(Dr=document.createElementNS("http://www.w3.org/2000/svg","g")),Dr.setAttribute("transform",e),!(e=Dr.transform.baseVal.consolidate()))?Ti:(e=e.matrix,Zo(e.a,e.b,e.c,e.d,e.e,e.f))}function Wo(e,t,n,r){function i(h){return h.length?h.pop()+" ":""}function u(h,s,o,c,p,_){if(h!==o||s!==c){var d=p.push("translate(",null,t,null,n);_.push({i:d-4,x:ht(h,o)},{i:d-2,x:ht(s,c)})}else(o||c)&&p.push("translate("+o+t+c+n)}function a(h,s,o,c){h!==s?(h-s>180?s+=360:s-h>180&&(h+=360),c.push({i:o.push(i(o)+"rotate(",null,r)-2,x:ht(h,s)})):s&&o.push(i(o)+"rotate("+s+r)}function f(h,s,o,c){h!==s?c.push({i:o.push(i(o)+"skewX(",null,r)-2,x:ht(h,s)}):s&&o.push(i(o)+"skewX("+s+r)}function l(h,s,o,c,p,_){if(h!==o||s!==c){var d=p.push(i(p)+"scale(",null,",",null,")");_.push({i:d-4,x:ht(h,o)},{i:d-2,x:ht(s,c)})}else(o!==1||c!==1)&&p.push(i(p)+"scale("+o+","+c+")")}return function(h,s){var o=[],c=[];return h=e(h),s=e(s),u(h.translateX,h.translateY,s.translateX,s.translateY,o,c),a(h.rotate,s.rotate,o,c),f(h.skewX,s.skewX,o,c),l(h.scaleX,h.scaleY,s.scaleX,s.scaleY,o,c),h=s=null,function(p){for(var _=-1,d=c.length,g;++_<d;)o[(g=c[_]).i]=g.x(p);return o.join("")}}}var Ic=Wo(Tc,"px, ","px)","deg)"),Oc=Wo(kc,", ",")",")"),gn=0,Cn=0,En=0,Vo=1e3,Mr,Nn,Sr=0,Qt=0,Jr=0,Pn=typeof performance=="object"&&performance.now?performance:Date,Xo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gi(){return Qt||(Xo(Pc),Qt=Pn.now()+Jr)}function Pc(){Qt=0}function Tr(){this._call=this._time=this._next=null}Tr.prototype=Yo.prototype={constructor:Tr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Gi():+n)+(t==null?0:+t),!this._next&&Nn!==this&&(Nn?Nn._next=this:Mr=this,Nn=this),this._call=e,this._time=n,ki()},stop:function(){this._call&&(this._call=null,this._time=1/0,ki())}};function Yo(e,t,n){var r=new Tr;return r.restart(e,t,n),r}function zc(){Gi(),++gn;for(var e=Mr,t;e;)(t=Qt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gn}function Tu(){Qt=(Sr=Pn.now())+Jr,gn=Cn=0;try{zc()}finally{gn=0,Rc(),Qt=0}}function $c(){var e=Pn.now(),t=e-Sr;t>Vo&&(Jr-=t,Sr=e)}function Rc(){for(var e,t=Mr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mr=n);Nn=e,ki(r)}function ki(e){if(!gn){Cn&&(Cn=clearTimeout(Cn));var t=e-Qt;t>24?(e<1/0&&(Cn=setTimeout(Tu,e-Pn.now()-Jr)),En&&(En=clearInterval(En))):(En||(Sr=Pn.now(),En=setInterval($c,Vo)),gn=1,Xo(Tu))}}function ku(e,t,n){var r=new Tr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Lc=Co("start","end","cancel","interrupt"),qc=[],Jo=0,Iu=1,Ii=2,_r=3,Ou=4,Oi=5,Ar=6;function Gr(e,t,n,r,i,u){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Uc(e,n,{name:t,index:r,group:i,on:Lc,tween:qc,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Jo})}function Ki(e,t){var n=gt(e,t);if(n.state>Jo)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=gt(e,t);if(n.state>_r)throw new Error("too late; already running");return n}function gt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Uc(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Yo(u,0,n.time);function u(h){n.state=Iu,n.timer.restart(a,n.delay,n.time),n.delay<=h&&a(h-n.delay)}function a(h){var s,o,c,p;if(n.state!==Iu)return l();for(s in r)if(p=r[s],p.name===n.name){if(p.state===_r)return ku(a);p.state===Ou?(p.state=Ar,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[s]):+s<t&&(p.state=Ar,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[s])}if(ku(function(){n.state===_r&&(n.state=Ou,n.timer.restart(f,n.delay,n.time),f(h))}),n.state=Ii,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ii){for(n.state=_r,i=new Array(c=n.tween.length),s=0,o=-1;s<c;++s)(p=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(i[++o]=p);i.length=o+1}}function f(h){for(var s=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(l),n.state=Oi,1),o=-1,c=i.length;++o<c;)i[o].call(e,s);n.state===Oi&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ar,n.timer.stop(),delete r[t];for(var h in r)return;delete e.__transition}}function Hc(e,t){var n=e.__transition,r,i,u=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){u=!1;continue}i=r.state>Ii&&r.state<Oi,r.state=Ar,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}u&&delete e.__transition}}function Zc(e){return this.each(function(){Hc(this,e)})}function Wc(e,t){var n,r;return function(){var i=bt(this,e),u=i.tween;if(u!==n){r=n=u;for(var a=0,f=r.length;a<f;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Vc(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var u=bt(this,e),a=u.tween;if(a!==r){i=(r=a).slice();for(var f={name:t,value:n},l=0,h=i.length;l<h;++l)if(i[l].name===t){i[l]=f;break}l===h&&i.push(f)}u.tween=i}}function Xc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=gt(this.node(),n).tween,i=0,u=r.length,a;i<u;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Wc:Vc)(n,e,t))}function Qi(e,t,n){var r=e._id;return e.each(function(){var i=bt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return gt(i,r).value[t]}}function Go(e,t){var n;return(typeof t=="number"?ht:t instanceof Ut?xr:(n=Ut(t))?(t=n,xr):Uo)(e,t)}function Yc(e){return function(){this.removeAttribute(e)}}function Jc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gc(e,t,n){var r,i=n+"",u;return function(){var a=this.getAttribute(e);return a===i?null:a===r?u:u=t(r=a,n)}}function Kc(e,t,n){var r,i=n+"",u;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?u:u=t(r=a,n)}}function Qc(e,t,n){var r,i,u;return function(){var a,f=n(this),l;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=f+"",a===l?null:a===r&&l===i?u:(i=l,u=t(r=a,f)))}}function jc(e,t,n){var r,i,u;return function(){var a,f=n(this),l;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=f+"",a===l?null:a===r&&l===i?u:(i=l,u=t(r=a,f)))}}function e0(e,t){var n=Xr(e),r=n==="transform"?Oc:Go;return this.attrTween(e,typeof t=="function"?(n.local?jc:Qc)(n,r,Qi(this,"attr."+e,t)):t==null?(n.local?Jc:Yc)(n):(n.local?Kc:Gc)(n,r,t))}function t0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function n0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function r0(e,t){var n,r;function i(){var u=t.apply(this,arguments);return u!==r&&(n=(r=u)&&n0(e,u)),n}return i._value=t,i}function i0(e,t){var n,r;function i(){var u=t.apply(this,arguments);return u!==r&&(n=(r=u)&&t0(e,u)),n}return i._value=t,i}function u0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Xr(e);return this.tween(n,(r.local?r0:i0)(r,t))}function o0(e,t){return function(){Ki(this,e).delay=+t.apply(this,arguments)}}function a0(e,t){return t=+t,function(){Ki(this,e).delay=t}}function s0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?o0:a0)(t,e)):gt(this.node(),t).delay}function f0(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function c0(e,t){return t=+t,function(){bt(this,e).duration=t}}function l0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?f0:c0)(t,e)):gt(this.node(),t).duration}function h0(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function d0(e){var t=this._id;return arguments.length?this.each(h0(t,e)):gt(this.node(),t).ease}function p0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,e).ease=n}}function D0(e){if(typeof e!="function")throw new Error;return this.each(p0(this._id,e))}function g0(e){typeof e!="function"&&(e=xo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u=t[i],a=u.length,f=r[i]=[],l,h=0;h<a;++h)(l=u[h])&&e.call(l,l.__data__,h,u)&&f.push(l);return new It(r,this._parents,this._name,this._id)}function m0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,u=Math.min(r,i),a=new Array(r),f=0;f<u;++f)for(var l=t[f],h=n[f],s=l.length,o=a[f]=new Array(s),c,p=0;p<s;++p)(c=l[p]||h[p])&&(o[p]=c);for(;f<r;++f)a[f]=t[f];return new It(a,this._parents,this._name,this._id)}function v0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function w0(e,t,n){var r,i,u=v0(t)?Ki:bt;return function(){var a=u(this,e),f=a.on;f!==r&&(i=(r=f).copy()).on(t,n),a.on=i}}function y0(e,t){var n=this._id;return arguments.length<2?gt(this.node(),n).on.on(e):this.each(w0(n,e,t))}function _0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A0(){return this.on("end.remove",_0(this._id))}function F0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vi(e));for(var r=this._groups,i=r.length,u=new Array(i),a=0;a<i;++a)for(var f=r[a],l=f.length,h=u[a]=new Array(l),s,o,c=0;c<l;++c)(s=f[c])&&(o=e.call(s,s.__data__,c,f))&&("__data__"in s&&(o.__data__=s.__data__),h[c]=o,Gr(h[c],t,n,c,h,gt(s,n)));return new It(u,this._parents,t,n)}function E0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Bo(e));for(var r=this._groups,i=r.length,u=[],a=[],f=0;f<i;++f)for(var l=r[f],h=l.length,s,o=0;o<h;++o)if(s=l[o]){for(var c=e.call(s,s.__data__,o,l),p,_=gt(s,n),d=0,g=c.length;d<g;++d)(p=c[d])&&Gr(p,t,n,d,c,_);u.push(c),a.push(s)}return new It(u,a,t,n)}var b0=Ln.prototype.constructor;function C0(){return new b0(this._groups,this._parents)}function N0(e,t){var n,r,i;return function(){var u=Dn(this,e),a=(this.style.removeProperty(e),Dn(this,e));return u===a?null:u===n&&a===r?i:i=t(n=u,r=a)}}function Ko(e){return function(){this.style.removeProperty(e)}}function B0(e,t,n){var r,i=n+"",u;return function(){var a=Dn(this,e);return a===i?null:a===r?u:u=t(r=a,n)}}function x0(e,t,n){var r,i,u;return function(){var a=Dn(this,e),f=n(this),l=f+"";return f==null&&(l=f=(this.style.removeProperty(e),Dn(this,e))),a===l?null:a===r&&l===i?u:(i=l,u=t(r=a,f))}}function M0(e,t){var n,r,i,u="style."+t,a="end."+u,f;return function(){var l=bt(this,e),h=l.on,s=l.value[u]==null?f||(f=Ko(t)):void 0;(h!==n||i!==s)&&(r=(n=h).copy()).on(a,i=s),l.on=r}}function S0(e,t,n){var r=(e+="")=="transform"?Ic:Go;return t==null?this.styleTween(e,N0(e,r)).on("end.style."+e,Ko(e)):typeof t=="function"?this.styleTween(e,x0(e,r,Qi(this,"style."+e,t))).each(M0(this._id,e)):this.styleTween(e,B0(e,r,t),n).on("end.style."+e,null)}function T0(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function k0(e,t,n){var r,i;function u(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&T0(e,a,n)),r}return u._value=t,u}function I0(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,k0(e,t,n??""))}function O0(e){return function(){this.textContent=e}}function P0(e){return function(){var t=e(this);this.textContent=t??""}}function z0(e){return this.tween("text",typeof e=="function"?P0(Qi(this,"text",e)):O0(e==null?"":e+""))}function $0(e){return function(t){this.textContent=e.call(this,t)}}function R0(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$0(i)),t}return r._value=e,r}function L0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,R0(e))}function q0(){for(var e=this._name,t=this._id,n=Qo(),r=this._groups,i=r.length,u=0;u<i;++u)for(var a=r[u],f=a.length,l,h=0;h<f;++h)if(l=a[h]){var s=gt(l,t);Gr(l,e,n,h,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new It(r,this._parents,e,n)}function U0(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(u,a){var f={value:a},l={value:function(){--i===0&&u()}};n.each(function(){var h=bt(this,r),s=h.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(l)),h.on=t}),i===0&&u()})}var H0=0;function It(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Qo(){return++H0}var Mt=Ln.prototype;It.prototype={constructor:It,select:F0,selectAll:E0,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:g0,merge:m0,selection:C0,transition:q0,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:y0,attr:e0,attrTween:u0,style:S0,styleTween:I0,text:z0,textTween:L0,remove:A0,tween:Xc,delay:s0,duration:l0,ease:d0,easeVarying:D0,end:U0,[Symbol.iterator]:Mt[Symbol.iterator]};function Z0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W0={time:null,delay:0,duration:250,ease:Z0};function V0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function X0(e){var t,n;e instanceof It?(t=e._id,e=e._name):(t=Qo(),(n=W0).time=Gi(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var a=r[u],f=a.length,l,h=0;h<f;++h)(l=a[h])&&Gr(l,e,t,h,a,n||V0(l,t));return new It(r,this._parents,e,t)}Ln.prototype.interrupt=Zc;Ln.prototype.transition=X0;function Y0(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mn(e){return e=kr(Math.abs(e)),e?e[1]:NaN}function J0(e,t){return function(n,r){for(var i=n.length,u=[],a=0,f=e[0],l=0;i>0&&f>0&&(l+f+1>r&&(f=Math.max(1,r-l)),u.push(n.substring(i-=f,i+f)),!((l+=f+1)>r));)f=e[a=(a+1)%e.length];return u.reverse().join(t)}}function G0(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var K0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ir(e){if(!(t=K0.exec(e)))throw new Error("invalid format: "+e);var t;return new ji({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ir.prototype=ji.prototype;function ji(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ji.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q0(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var jo;function j0(e,t){var n=kr(e,t);if(!n)return e+"";var r=n[0],i=n[1],u=i-(jo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return u===a?r:u>a?r+new Array(u-a+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+kr(e,Math.max(0,t+u-1))[0]}function Pu(e,t){var n=kr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Y0,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pu(e*100,t),r:Pu,s:j0,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $u(e){return e}var Ru=Array.prototype.map,Lu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function el(e){var t=e.grouping===void 0||e.thousands===void 0?$u:J0(Ru.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?$u:G0(Ru.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"â":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function h(o){o=Ir(o);var c=o.fill,p=o.align,_=o.sign,d=o.symbol,g=o.zero,D=o.width,v=o.comma,m=o.precision,A=o.trim,y=o.type;y==="n"?(v=!0,y="g"):zu[y]||(m===void 0&&(m=12),A=!0,y="g"),(g||c==="0"&&p==="=")&&(g=!0,c="0",p="=");var E=d==="$"?n:d==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",B=d==="$"?r:/[%p]/.test(y)?a:"",C=zu[y],k=/[defgprs%]/.test(y);m=m===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function z(b){var M=E,W=B,U,X,H;if(y==="c")W=C(b)+W,b="";else{b=+b;var te=b<0||1/b<0;if(b=isNaN(b)?l:C(Math.abs(b),m),A&&(b=Q0(b)),te&&+b==0&&_!=="+"&&(te=!1),M=(te?_==="("?_:f:_==="-"||_==="("?"":_)+M,W=(y==="s"?Lu[8+jo/3]:"")+W+(te&&_==="("?")":""),k){for(U=-1,X=b.length;++U<X;)if(H=b.charCodeAt(U),48>H||H>57){W=(H===46?i+b.slice(U+1):b.slice(U))+W,b=b.slice(0,U);break}}}v&&!g&&(b=t(b,1/0));var fe=M.length+b.length+W.length,Y=fe<D?new Array(D-fe+1).join(c):"";switch(v&&g&&(b=t(Y+b,Y.length?D-W.length:1/0),Y=""),p){case"<":b=M+b+W+Y;break;case"=":b=M+Y+b+W;break;case"^":b=Y.slice(0,fe=Y.length>>1)+M+b+W+Y.slice(fe);break;default:b=Y+M+b+W;break}return u(b)}return z.toString=function(){return o+""},z}function s(o,c){var p=h((o=Ir(o),o.type="f",o)),_=Math.max(-8,Math.min(8,Math.floor(mn(c)/3)))*3,d=Math.pow(10,-_),g=Lu[8+_/3];return function(D){return p(d*D)+g}}return{format:h,formatPrefix:s}}var gr,ea,ta;tl({thousands:",",grouping:[3],currency:["$",""]});function tl(e){return gr=el(e),ea=gr.format,ta=gr.formatPrefix,gr}function nl(e){return Math.max(0,-mn(Math.abs(e)))}function rl(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mn(t)/3)))*3-mn(Math.abs(e)))}function il(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mn(t)-mn(e))+1}function ul(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ol(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function al(e){return function(){return e}}function sl(e){return+e}var qu=[0,1];function Lt(e){return e}function Pi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:al(isNaN(t)?NaN:.5)}function fl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function cl(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=Pi(i,r),u=n(a,u)):(r=Pi(r,i),u=n(u,a)),function(f){return u(r(f))}}function ll(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Pi(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(f){var l=hs(e,f,1,r)-1;return u[l](i[l](f))}}function hl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dl(){var e=qu,t=qu,n=Yr,r,i,u,a=Lt,f,l,h;function s(){var c=Math.min(e.length,t.length);return a!==Lt&&(a=fl(e[0],e[c-1])),f=c>2?ll:cl,l=h=null,o}function o(c){return c==null||isNaN(c=+c)?u:(l||(l=f(e.map(r),t,n)))(r(a(c)))}return o.invert=function(c){return a(i((h||(h=f(t,e.map(r),ht)))(c)))},o.domain=function(c){return arguments.length?(e=Array.from(c,sl),s()):e.slice()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.rangeRound=function(c){return t=Array.from(c),n=Ho,s()},o.clamp=function(c){return arguments.length?(a=c?!0:Lt,s()):a!==Lt},o.interpolate=function(c){return arguments.length?(n=c,s()):n},o.unknown=function(c){return arguments.length?(u=c,o):u},function(c,p){return r=c,i=p,s()}}function pl(){return dl()(Lt,Lt)}function Dl(e,t,n,r){var i=vs(e,t,n),u;switch(r=Ir(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(u=rl(i,a))&&(r.precision=u),ta(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=il(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=nl(i))&&(r.precision=u-(r.type==="%")*2);break}}return ea(r)}function na(e){var t=e.domain;return e.ticks=function(n){var r=t();return ms(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Dl(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,u=r.length-1,a=r[i],f=r[u],l,h,s=10;for(f<a&&(h=a,a=f,f=h,h=i,i=u,u=h);s-- >0;){if(h=Ni(a,f,n),h===l)return r[i]=a,r[u]=f,t(r);if(h>0)a=Math.floor(a/h)*h,f=Math.ceil(f/h)*h;else if(h<0)a=Math.ceil(a*h)/h,f=Math.floor(f*h)/h;else break;l=h}return e},e}function zi(){var e=pl();return e.copy=function(){return hl(e,zi())},ul.apply(e,arguments),na(e)}function gl(){var e=0,t=1,n,r,i,u,a=Lt,f=!1,l;function h(o){return o==null||isNaN(o=+o)?l:a(i===0?.5:(o=(u(o)-n)*i,f?Math.max(0,Math.min(1,o)):o))}h.domain=function(o){return arguments.length?([e,t]=o,n=u(e=+e),r=u(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(o){return arguments.length?(f=!!o,h):f},h.interpolator=function(o){return arguments.length?(a=o,h):a};function s(o){return function(c){var p,_;return arguments.length?([p,_]=c,a=o(p,_),h):[a(0),a(1)]}}return h.range=s(Yr),h.rangeRound=s(Ho),h.unknown=function(o){return arguments.length?(l=o,h):l},function(o){return u=o,n=o(e),r=o(t),i=n===r?0:1/(r-n),h}}function ml(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ra(){var e=na(gl()(Lt));return e.copy=function(){return ml(e,ra())},ol.apply(e,arguments)}function Kr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Qr(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const vl=Qr(Kr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Qr(Kr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Qr(Kr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Qr(Kr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Bn(e,t,n){this.k=e,this.x=t,this.y=n}Bn.prototype={constructor:Bn,scale:function(e){return e===1?this:new Bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Bn.prototype;function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}var ia={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function de(e){return typeof e=="number"}function Oe(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function ua(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function oa(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function aa(e){return e&&e.constructor.prototype.isUnit===!0||!1}function _t(e){return typeof e=="string"}var ve=Array.isArray;function At(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Pr(e){return Array.isArray(e)||At(e)}function wl(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function yl(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function _l(e){return e&&e.constructor.prototype.isRange===!0||!1}function eu(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Al(e){return typeof e=="boolean"}function Fl(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function El(e){return e&&e.constructor.prototype.isHelp===!0||!1}function bl(e){return typeof e=="function"}function Cl(e){return e instanceof Date}function Nl(e){return e instanceof RegExp}function tu(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!ua(e)&&!oa(e))}function Bl(e){return e===null}function xl(e){return e===void 0}function Ml(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sl(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Tl(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function kl(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Il(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ol(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pl(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function zl(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function $l(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Rl(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ll(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function ql(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ul(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hl(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zl(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wl(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vl(e){return e&&e.constructor.prototype.isChain===!0||!1}function Mn(e){var t=typeof e;return t==="object"?e===null?"null":Oe(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Me(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Me(n)});if(e instanceof Date)return new Date(e.valueOf());if(Oe(e))return e;if(tu(e))return Xl(e,Me);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Xl(e,t){var n={};for(var r in e)zn(e,r)&&(n[r]=t(e[r]));return n}function Yl(e,t){for(var n in t)zn(t,n)&&(e[n]=t[n]);return e}function vn(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!vn(e[r],t[r]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!vn(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function zn(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Jl(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],u=e[i];u!==void 0&&(n[i]=u)}return n}var Gl=["Matrix","Array"],Kl=["number","BigNumber","Fraction"],Wt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ia)};Or(Wt,ia,{MATRIX_OPTIONS:Gl,NUMBER_OPTIONS:Kl});function Uu(){return!0}function ft(){return!1}function fn(){}const Hu="Argument is not a typed-function.";function sa(){function e(w){return typeof w=="object"&&w!==null&&w.constructor===Object}const t=[{name:"number",test:function(w){return typeof w=="number"}},{name:"string",test:function(w){return typeof w=="string"}},{name:"boolean",test:function(w){return typeof w=="boolean"}},{name:"Function",test:function(w){return typeof w=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(w){return w instanceof Date}},{name:"RegExp",test:function(w){return w instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(w){return w===null}},{name:"undefined",test:function(w){return w===void 0}}],n={name:"any",test:Uu,isAny:!0};let r,i,u=0,a={createCount:0};function f(w){const F=r.get(w);if(F)return F;let N='Unknown type "'+w+'"';const S=w.toLowerCase();let $;for($ of i)if($.toLowerCase()===S){N+='. Did you mean "'+$+'" ?';break}throw new TypeError(N)}function l(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=F?f(F).index:i.length,S=[];for(let T=0;T<w.length;++T){if(!w[T]||typeof w[T].name!="string"||typeof w[T].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const L=w[T].name;if(r.has(L))throw new TypeError('Duplicate type name "'+L+'"');S.push(L),r.set(L,{name:L,test:w[T].test,isAny:w[T].isAny,index:N+T,conversionsTo:[]})}const $=i.slice(N);i=i.slice(0,N).concat(S).concat($);for(let T=N+S.length;T<i.length;++T)r.get(i[T]).index=T}function h(){r=new Map,i=[],u=0,l([n],!1)}h(),l(t);function s(){let w;for(w of i)r.get(w).conversionsTo=[];u=0}function o(w){const F=i.filter(N=>{const S=r.get(N);return!S.isAny&&S.test(w)});return F.length?F:["any"]}function c(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function p(w,F,N){if(!c(w))throw new TypeError(Hu);const S=N&&N.exact,$=Array.isArray(F)?F.join(","):F,T=A($),L=g(T);if(!S||L in w.signatures){const j=w._typedFunctionData.signatureMap.get(L);if(j)return j}const R=T.length;let q;if(S){q=[];let j;for(j in w.signatures)q.push(w._typedFunctionData.signatureMap.get(j))}else q=w._typedFunctionData.signatures;for(let j=0;j<R;++j){const oe=T[j],ne=[];let pe;for(pe of q){const re=C(pe.params,j);if(!(!re||oe.restParam&&!re.restParam)){if(!re.hasAny){const _e=m(re);if(oe.types.some(Ze=>!_e.has(Ze.name)))continue}ne.push(pe)}}if(q=ne,q.length===0)break}let I;for(I of q)if(I.params.length<=R)return I;throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+g(T,", ")+"))")}function _(w,F,N){return p(w,F,N).implementation}function d(w,F){const N=f(F);if(N.test(w))return w;const S=N.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+F+" defined.");for(let $=0;$<S.length;$++)if(f(S[$].from).test(w))return S[$].convert(w);throw new Error("Cannot convert "+w+" to "+F)}function g(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(N=>N.name).join(F)}function D(w){const F=w.indexOf("...")===0,S=(F?w.length>3?w.slice(3):"any":w).split("|").map(R=>f(R.trim()));let $=!1,T=F?"...":"";return{types:S.map(function(R){return $=R.isAny||$,T+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:T.slice(0,-1),hasAny:$,hasConversion:!1,restParam:F}}function v(w){const F=w.types.map(L=>L.name),N=te(F);let S=w.hasAny,$=w.name;const T=N.map(function(L){const R=f(L.from);return S=R.isAny||S,$+="|"+L.from,{name:L.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:L,conversionIndex:L.index}});return{types:w.types.concat(T),name:$,hasAny:S,hasConversion:T.length>0,restParam:w.restParam}}function m(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(F=>w.typeSet.add(F.name))),w.typeSet}function A(w){const F=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");const N=w.trim();if(N==="")return F;const S=N.split(",");for(let $=0;$<S.length;++$){const T=D(S[$].trim());if(T.restParam&&$!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[$]+'": only allowed for the last parameter');if(T.types.length===0)return null;F.push(T)}return F}function y(w){const F=ze(w);return F?F.restParam:!1}function E(w){if(!w||w.types.length===0)return Uu;if(w.types.length===1)return f(w.types[0].name).test;if(w.types.length===2){const F=f(w.types[0].name).test,N=f(w.types[1].name).test;return function($){return F($)||N($)}}else{const F=w.types.map(function(N){return f(N.name).test});return function(S){for(let $=0;$<F.length;$++)if(F[$](S))return!0;return!1}}}function B(w){let F,N,S;if(y(w)){F=ct(w).map(E);const $=F.length,T=E(ze(w)),L=function(R){for(let q=$;q<R.length;q++)if(!T(R[q]))return!1;return!0};return function(q){for(let I=0;I<F.length;I++)if(!F[I](q[I]))return!1;return L(q)&&q.length>=$+1}}else return w.length===0?function(T){return T.length===0}:w.length===1?(N=E(w[0]),function(T){return N(T[0])&&T.length===1}):w.length===2?(N=E(w[0]),S=E(w[1]),function(T){return N(T[0])&&S(T[1])&&T.length===2}):(F=w.map(E),function(T){for(let L=0;L<F.length;L++)if(!F[L](T[L]))return!1;return T.length===F.length})}function C(w,F){return F<w.length?w[F]:y(w)?ze(w):null}function k(w,F){const N=C(w,F);return N?m(N):new Set}function z(w){return w.conversion===null||w.conversion===void 0}function b(w,F){const N=new Set;return w.forEach(S=>{const $=k(S.params,F);let T;for(T of $)N.add(T)}),N.has("any")?["any"]:Array.from(N)}function M(w,F,N){let S,$;const T=w||"unnamed";let L=N,R;for(R=0;R<F.length;R++){const oe=[];if(L.forEach(ne=>{const pe=C(ne.params,R),re=E(pe);(R<ne.params.length||y(ne.params))&&re(F[R])&&oe.push(ne)}),oe.length===0){if($=b(L,R),$.length>0){const ne=o(F[R]);return S=new TypeError("Unexpected type of argument in function "+T+" (expected: "+$.join(" or ")+", actual: "+ne.join(" | ")+", index: "+R+")"),S.data={category:"wrongType",fn:T,index:R,actual:ne,expected:$},S}}else L=oe}const q=L.map(function(oe){return y(oe.params)?1/0:oe.params.length});if(F.length<Math.min.apply(null,q))return $=b(L,R),S=new TypeError("Too few arguments in function "+T+" (expected: "+$.join(" or ")+", index: "+F.length+")"),S.data={category:"tooFewArgs",fn:T,index:F.length,expected:$},S;const I=Math.max.apply(null,q);if(F.length>I)return S=new TypeError("Too many arguments in function "+T+" (expected: "+I+", actual: "+F.length+")"),S.data={category:"tooManyArgs",fn:T,index:F.length,expectedLength:I},S;const j=[];for(let oe=0;oe<F.length;++oe)j.push(o(F[oe]).join("|"));return S=new TypeError('Arguments of type "'+j.join(", ")+'" do not match any of the defined signatures of function '+T+"."),S.data={category:"mismatch",actual:j},S}function W(w){let F=i.length+1;for(let N=0;N<w.types.length;N++)z(w.types[N])&&(F=Math.min(F,w.types[N].typeIndex));return F}function U(w){let F=u+1;for(let N=0;N<w.types.length;N++)z(w.types[N])||(F=Math.min(F,w.types[N].conversionIndex));return F}function X(w,F){if(w.hasAny){if(!F.hasAny)return 1}else if(F.hasAny)return-1;if(w.restParam){if(!F.restParam)return 1}else if(F.restParam)return-1;if(w.hasConversion){if(!F.hasConversion)return 1}else if(F.hasConversion)return-1;const N=W(w)-W(F);if(N<0)return-1;if(N>0)return 1;const S=U(w)-U(F);return S<0?-1:S>0?1:0}function H(w,F){const N=w.params,S=F.params,$=ze(N),T=ze(S),L=y(N),R=y(S);if(L&&$.hasAny){if(!R||!T.hasAny)return 1}else if(R&&T.hasAny)return-1;let q=0,I=0,j;for(j of N)j.hasAny&&++q,j.hasConversion&&++I;let oe=0,ne=0;for(j of S)j.hasAny&&++oe,j.hasConversion&&++ne;if(q!==oe)return q-oe;if(L&&$.hasConversion){if(!R||!T.hasConversion)return 1}else if(R&&T.hasConversion)return-1;if(I!==ne)return I-ne;if(L){if(!R)return 1}else if(R)return-1;const pe=(N.length-S.length)*(L?-1:1);if(pe!==0)return pe;const re=[];let _e=0;for(let Ne=0;Ne<N.length;++Ne){const xt=X(N[Ne],S[Ne]);re.push(xt),_e+=xt}if(_e!==0)return _e;let Ze;for(Ze of re)if(Ze!==0)return Ze;return 0}function te(w){if(w.length===0)return[];const F=w.map(f);w.length>1&&F.sort(($,T)=>$.index-T.index);let N=F[0].conversionsTo;if(w.length===1)return N;N=N.concat([]);const S=new Set(w);for(let $=1;$<F.length;++$){let T;for(T of F[$].conversionsTo)S.has(T.from)||(N.push(T),S.add(T.from))}return N}function fe(w,F){let N=F;if(w.some($=>$.hasConversion)){const $=y(w),T=w.map(Y);N=function(){const R=[],q=$?arguments.length-1:arguments.length;for(let I=0;I<q;I++)R[I]=T[I](arguments[I]);return $&&(R[q]=arguments[q].map(T[q])),F.apply(this,R)}}let S=N;if(y(w)){const $=w.length-1;S=function(){return N.apply(this,zt(arguments,0,$).concat([zt(arguments,$)]))}}return S}function Y(w){let F,N,S,$;const T=[],L=[];switch(w.types.forEach(function(R){R.conversion&&(T.push(f(R.conversion.from).test),L.push(R.conversion.convert))}),L.length){case 0:return function(q){return q};case 1:return F=T[0],S=L[0],function(q){return F(q)?S(q):q};case 2:return F=T[0],N=T[1],S=L[0],$=L[1],function(q){return F(q)?S(q):N(q)?$(q):q};default:return function(q){for(let I=0;I<L.length;I++)if(T[I](q))return L[I](q);return q}}}function ge(w){function F(N,S,$){if(S<N.length){const T=N[S];let L=[];if(T.restParam){const R=T.types.filter(z);R.length<T.types.length&&L.push({types:R,name:"..."+R.map(q=>q.name).join("|"),hasAny:R.some(q=>q.isAny),hasConversion:!1,restParam:!0}),L.push(T)}else L=T.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return tt(L,function(R){return F(N,S+1,$.concat([R]))})}else return[$]}return F(w,0,[])}function Pt(w,F){const N=Math.max(w.length,F.length);for(let R=0;R<N;R++){const q=k(w,R),I=k(F,R);let j=!1,oe;for(oe of I)if(q.has(oe)){j=!0;break}if(!j)return!1}const S=w.length,$=F.length,T=y(w),L=y(F);return T?L?S===$:$>=S:L?S>=$:S===$}function Ct(w){return w.map(F=>Re(F)?He(F.referToSelf.callback):me(F)?Te(F.referTo.references,F.referTo.callback):F)}function Fe(w,F,N){const S=[];let $;for($ of w){let T=N[$];if(typeof T!="number")throw new TypeError('No definition for referenced signature "'+$+'"');if(T=F[T],typeof T!="function")return!1;S.push(T)}return S}function Nt(w,F,N){const S=Ct(w),$=new Array(S.length).fill(!1);let T=!0;for(;T;){T=!1;let L=!0;for(let R=0;R<S.length;++R){if($[R])continue;const q=S[R];if(Re(q))S[R]=q.referToSelf.callback(N),S[R].referToSelf=q.referToSelf,$[R]=!0,L=!1;else if(me(q)){const I=Fe(q.referTo.references,S,F);I?(S[R]=q.referTo.callback.apply(this,I),S[R].referTo=q.referTo,$[R]=!0,L=!1):T=!0}}if(L&&T)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function mt(w){const F=/\bthis(\(|\.signatures\b)/;Object.keys(w).forEach(N=>{const S=w[N];if(F.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function tn(w,F){if(a.createCount++,Object.keys(F).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&mt(F);const N=[],S=[],$={},T=[];let L;for(L in F){if(!Object.prototype.hasOwnProperty.call(F,L))continue;const se=A(L);if(!se)continue;N.forEach(function($t){if(Pt($t,se))throw new TypeError('Conflicting signatures "'+g($t)+'" and "'+g(se)+'".')}),N.push(se);const ke=S.length;S.push(F[L]);const ir=se.map(v);let Ue;for(Ue of ge(ir)){const $t=g(Ue);T.push({params:Ue,name:$t,fn:ke}),Ue.every(Je=>!Je.hasConversion)&&($[$t]=ke)}}T.sort(H);const R=Nt(S,$,wt);let q;for(q in $)Object.prototype.hasOwnProperty.call($,q)&&($[q]=R[$[q]]);const I=[],j=new Map;for(q of T)j.has(q.name)||(q.fn=R[q.fn],I.push(q),j.set(q.name,q));const oe=I[0]&&I[0].params.length<=2&&!y(I[0].params),ne=I[1]&&I[1].params.length<=2&&!y(I[1].params),pe=I[2]&&I[2].params.length<=2&&!y(I[2].params),re=I[3]&&I[3].params.length<=2&&!y(I[3].params),_e=I[4]&&I[4].params.length<=2&&!y(I[4].params),Ze=I[5]&&I[5].params.length<=2&&!y(I[5].params),Ne=oe&&ne&&pe&&re&&_e&&Ze;for(let se=0;se<I.length;++se)I[se].test=B(I[se].params);const xt=oe?E(I[0].params[0]):ft,Vn=ne?E(I[1].params[0]):ft,We=pe?E(I[2].params[0]):ft,Xn=re?E(I[3].params[0]):ft,Xt=_e?E(I[4].params[0]):ft,nn=Ze?E(I[5].params[0]):ft,_n=oe?E(I[0].params[1]):ft,Yn=ne?E(I[1].params[1]):ft,Jn=pe?E(I[2].params[1]):ft,Ve=re?E(I[3].params[1]):ft,rn=_e?E(I[4].params[1]):ft,Gn=Ze?E(I[5].params[1]):ft;for(let se=0;se<I.length;++se)I[se].implementation=fe(I[se].params,I[se].fn);const Xe=oe?I[0].implementation:fn,Kn=ne?I[1].implementation:fn,Yt=pe?I[2].implementation:fn,un=re?I[3].implementation:fn,An=_e?I[4].implementation:fn,Qn=Ze?I[5].implementation:fn,jn=oe?I[0].params.length:-1,Ee=ne?I[1].params.length:-1,on=pe?I[2].params.length:-1,er=re?I[3].params.length:-1,Ye=_e?I[4].params.length:-1,tr=Ze?I[5].params.length:-1,vt=Ne?6:0,nr=I.length,rt=I.map(se=>se.test),rr=I.map(se=>se.implementation),Jt=function(){for(let ke=vt;ke<nr;ke++)if(rt[ke](arguments))return rr[ke].apply(this,arguments);return a.onMismatch(w,arguments,I)};function wt(se,ke){return arguments.length===jn&&xt(se)&&_n(ke)?Xe.apply(this,arguments):arguments.length===Ee&&Vn(se)&&Yn(ke)?Kn.apply(this,arguments):arguments.length===on&&We(se)&&Jn(ke)?Yt.apply(this,arguments):arguments.length===er&&Xn(se)&&Ve(ke)?un.apply(this,arguments):arguments.length===Ye&&Xt(se)&&rn(ke)?An.apply(this,arguments):arguments.length===tr&&nn(se)&&Gn(ke)?Qn.apply(this,arguments):Jt.apply(this,arguments)}try{Object.defineProperty(wt,"name",{value:w})}catch{}return wt.signatures=$,wt._typedFunctionData={signatures:I,signatureMap:j},wt}function Bt(w,F,N){throw M(w,F,N)}function ct(w){return zt(w,0,w.length-1)}function ze(w){return w[w.length-1]}function zt(w,F,N){return Array.prototype.slice.call(w,F,N)}function V(w,F){for(let N=0;N<w.length;N++)if(F(w[N]))return w[N]}function tt(w,F){return Array.prototype.concat.apply([],w.map(F))}function $e(){const w=ct(arguments).map(N=>g(A(N))),F=ze(arguments);if(typeof F!="function")throw new TypeError("Callback function expected as last argument");return Te(w,F)}function Te(w,F){return{referTo:{references:w,callback:F}}}function He(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function me(w){return w&&typeof w.referTo=="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function Re(w){return w&&typeof w.referToSelf=="object"&&typeof w.referToSelf.callback=="function"}function lt(w,F){if(!w)return F;if(F&&F!==w){const N=new Error("Function names do not match (expected: "+w+", actual: "+F+")");throw N.data={actual:F,expected:w},N}return w}function Le(w){let F;for(const N in w)Object.prototype.hasOwnProperty.call(w,N)&&(c(w[N])||typeof w[N].signature=="string")&&(F=lt(F,w[N].name));return F}function Ae(w,F){let N;for(N in F)if(Object.prototype.hasOwnProperty.call(F,N)){if(N in w&&F[N]!==w[N]){const S=new Error('Signature "'+N+'" is defined twice');throw S.data={signature:N,sourceFunction:F[N],destFunction:w[N]},S}w[N]=F[N]}}const xe=a;a=function(w){const F=typeof w=="string",N=F?1:0;let S=F?w:"";const $={};for(let T=N;T<arguments.length;++T){const L=arguments[T];let R={},q;if(typeof L=="function"?(q=L.name,typeof L.signature=="string"?R[L.signature]=L:c(L)&&(R=L.signatures)):e(L)&&(R=L,F||(q=Le(L))),Object.keys(R).length===0){const I=new TypeError("Argument to 'typed' at index "+T+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw I.data={index:T,argument:L},I}F||(S=lt(S,q)),Ae($,R)}return tn(S||"",$)},a.create=sa,a.createCount=xe.createCount,a.onMismatch=Bt,a.throwMismatchError=Bt,a.createError=M,a.clear=h,a.clearConversions=s,a.addTypes=l,a._findType=f,a.referTo=$e,a.referToSelf=He,a.convert=d,a.findSignature=p,a.find=_,a.isTypedFunction=c,a.warnAgainstDeprecatedThis=!0,a.addType=function(w,F){let N="any";F!==!1&&r.has("Object")&&(N="Object"),a.addTypes([w],N)};function ye(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return a.addConversion=function(w){ye(w);const F=f(w.to);if(F.conversionsTo.every(function(N){return N.from!==w.from}))F.conversionsTo.push({from:w.from,convert:w.convert,index:u++});else throw new Error('There is already a conversion from "'+w.from+'" to "'+F.name+'"')},a.addConversions=function(w){w.forEach(a.addConversion)},a.removeConversion=function(w){ye(w);const F=f(w.to),N=V(F.conversionsTo,$=>$.from===w.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(N.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");const S=F.conversionsTo.indexOf(N);F.conversionsTo.splice(S,1)},a.resolve=function(w,F){if(!c(w))throw new TypeError(Hu);const N=w._typedFunctionData.signatures;for(let S=0;S<N.length;++S)if(N[S].test(F))return N[S];return null},a}const Zu=sa();function Se(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function wi(e,t,n){var r={2:"0b",8:"0o",16:"0x"},i=r[t],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Se(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Se(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),u="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(t)).concat(u)}function $i(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=fa(t);switch(n){case"fixed":return jl(e,r);case"exponential":return ca(e,r);case"engineering":return Ql(e,r);case"bin":return wi(e,2,i);case"oct":return wi(e,8,i);case"hex":return wi(e,16,i);case"auto":return eh(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fa(e){var t="auto",n,r;if(e!==void 0)if(de(e))n=e;else if(Oe(e))n=e.toNumber();else if(tu(e))e.precision!==void 0&&(n=Wu(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(r=Wu(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:n,wordSize:r}}function jr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),u=r.indexOf(".");i+=u!==-1?u-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(f){return i-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return a.length===0&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function Ql(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=jr(e),r=ei(n,t),i=r.exponent,u=r.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(de(t))for(;t>u.length||i-a+1>u.length;)u.push(0);else for(var f=Math.abs(i-a)-(u.length-1),l=0;l<f;l++)u.push(0);for(var h=Math.abs(i-a),s=1;h>0;)s++,h--;var o=u.slice(s).join(""),c=de(t)&&o.length||o.match(/[1-9]/)?"."+o:"",p=u.slice(0,s).join("")+c+"e"+(i>=0?"+":"")+a.toString();return r.sign+p}function jl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=jr(e),r=typeof t=="number"?ei(n,n.exponent+1+t):n,i=r.coefficients,u=r.exponent+1,a=u+(t||0);return i.length<a&&(i=i.concat(pn(a-i.length))),u<0&&(i=pn(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),r.sign+i.join("")}function ca(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=jr(e),r=t?ei(n,t):n,i=r.coefficients,u=r.exponent;i.length<t&&(i=i.concat(pn(t-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function eh(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=Vu(n==null?void 0:n.lowerExp,-3),i=Vu(n==null?void 0:n.upperExp,5),u=jr(e),a=t?ei(u,t):u;if(a.exponent<r||a.exponent>=i)return ca(e,t);var f=a.coefficients,l=a.exponent;f.length<t&&(f=f.concat(pn(t-f.length))),f=f.concat(pn(l-f.length+1+(f.length<t?t-f.length:0))),f=pn(-l).concat(f);var h=l>0?l:0;return h<f.length-1&&f.splice(h+1,0,"."),a.sign+f.join("")}function ei(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t){var i=r.splice(t,r.length-t);if(i[0]>=5){var u=t-1;for(r[u]++;r[u]===10;)r.pop(),u===0&&(r.unshift(0),n.exponent++,u++),u--,r[u]++}}return n}function pn(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function th(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var nh=Number.EPSILON||2220446049250313e-31;function Ht(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=nh?!0:r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function Wu(e,t){if(de(e))return e;if(Oe(e))return e.toNumber();t()}function Vu(e,t){return de(e)?e:Oe(e)?e.toNumber():t}function yi(e,t,n){var r=e.constructor,i=new r(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Se(n))throw new Error("size must be an integer");if(e.greaterThan(i.pow(n-1).sub(1))||e.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(n))),u="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function rh(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=fa(t);switch(n){case"fixed":return uh(e,r);case"exponential":return Xu(e,r);case"engineering":return ih(e,r);case"bin":return yi(e,2,i);case"oct":return yi(e,8,i);case"hex":return yi(e,16,i);case"auto":{var u=Yu(t==null?void 0:t.lowerExp,-3),a=Yu(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var f,l=e.toSignificantDigits(r),h=l.e;return h>=u&&h<a?f=l.toFixed():f=Xu(e,r),f.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ih(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),u=i.toPrecision(t);if(u.indexOf("e")!==-1){var a=e.constructor;u=new a(u).toFixed()}return u+"e"+(n>=0?"+":"")+r.toString()}function Xu(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function uh(e,t){return e.toFixed(t)}function Yu(e,t){return de(e)?e:Oe(e)?e.toNumber():t}function Ke(e,t){var n=oh(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function oh(e,t){if(typeof e=="number")return $i(e,t);if(Oe(e))return rh(e,t);if(ah(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return la(e,t);if(_t(e))return Ju(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(r=>Ju(r)+": "+Ke(e[r],t));return"{"+n.join(", ")+"}"}return String(e)}function Ju(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in Gu?Gu[i]:i,r++}return'"'+n+'"'}var Gu={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function la(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=la(e[i],t);return n+="]",n}else return Ke(e,t)}function ah(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function ce(e,t,n){if(!(this instanceof ce))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}ce.prototype=new RangeError;ce.prototype.constructor=RangeError;ce.prototype.name="DimensionError";ce.prototype.isDimensionError=!0;function jt(e,t,n){if(!(this instanceof jt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}jt.prototype=new RangeError;jt.prototype.constructor=RangeError;jt.prototype.name="IndexError";jt.prototype.isIndexError=!0;function kt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function ha(e,t,n){var r,i=e.length;if(i!==t[n])throw new ce(i,t[n]);if(n<t.length-1){var u=n+1;for(r=0;r<i;r++){var a=e[r];if(!Array.isArray(a))throw new ce(t.length-1,t.length,"<");ha(e[r],t,u)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new ce(t.length+1,t.length,">")}function Ku(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new ce(e.length,0)}else ha(e,t,0)}function we(e,t){if(e!==void 0){if(!de(e)||!Se(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new jt(e,t)}}function Qu(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!de(i)||!Se(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ke(t)+")")}),(de(e)||Oe(e))&&(e=[e]);var r=n!==void 0?n:0;return Ri(e,t,0,r),e}function Ri(e,t,n,r){var i,u,a=e.length,f=t[n],l=Math.min(a,f);if(e.length=f,n<t.length-1){var h=n+1;for(i=0;i<l;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Ri(u,t,h,r);for(i=l;i<f;i++)u=[],e[i]=u,Ri(u,t,h,r)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<f;i++)e[i]=r}}function da(e,t){var n=fh(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new ce(0,r,"!=");t=nu(t,r);var i=pa(t);if(r!==i)throw new ce(i,r,"!=");try{return sh(n,t)}catch(u){throw u instanceof ce?new ce(i,r,"!="):u}}function nu(e,t){var n=pa(e),r=e.slice(),i=-1,u=e.indexOf(i),a=e.indexOf(i,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var f=u>=0,l=t%n===0;if(f)if(l)r[u]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return r}function pa(e){return e.reduce((t,n)=>t*n,1)}function sh(e,t){for(var n=e,r,i=t.length-1;i>0;i--){var u=t[i];r=[];for(var a=n.length/u,f=0;f<a;f++)r.push(n.slice(f*u,(f+1)*u));n=r}return n}function Da(e,t,n,r){var i=r||kt(e);if(n)for(var u=0;u<n;u++)e=[e],i.unshift(1);for(e=ga(e,t,0);i.length<t;)i.push(1);return e}function ga(e,t,n){var r,i;if(Array.isArray(e)){var u=n+1;for(r=0,i=e.length;r<i;r++)e[r]=ga(e[r],t,u)}else for(var a=n;a<t;a++)e=[e];return e}function fh(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(r){Array.isArray(r)?r.forEach(n):t.push(r)}),t}function zr(e,t){for(var n,r=0,i=0;i<e.length;i++){var u=e[i],a=Array.isArray(u);if(i===0&&a&&(r=u.length),a&&u.length!==r)return;var f=a?zr(u,t):t(u);if(n===void 0)n=f;else if(n!==f)return"mixed"}return n}function ma(e,t,n,r){if(r<n){if(e.length!==t.length)throw new ce(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=ma(e[u],t[u],n,r+1);return i}else return e.concat(t)}function va(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,r){return ma(n,r,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function ch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(c=>c.length),i=Math.max(...r),u=new Array(i).fill(null),a=0;a<t.length;a++)for(var f=t[a],l=r[a],h=0;h<l;h++){var s=i-l+h;f[h]>u[s]&&(u[s]=f[h])}for(var o=0;o<t.length;o++)$r(t[o],u);return u}function $r(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var u=n-r+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[u]))}}function ju(e,t){var n=kt(e);if(vn(n,t))return e;$r(n,t);var r=ch(n,t),i=r.length,u=[...Array(i-n.length).fill(1),...n],a=hh(e);n.length<i&&(a=da(a,u),n=kt(a));for(var f=0;f<i;f++)n[f]<r[f]&&(a=lh(a,r[f],f),n=kt(a));return a}function lh(e,t,n){return va(...Array(t).fill(e),n)}function hh(e){return Or([],e)}function ue(e,t,n,r){function i(u){var a=Jl(u,t.map(Dh));return dh(e,t,u),n(a)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function dh(e,t,n){var r=t.filter(u=>!ph(u)).every(u=>n[u]!==void 0);if(!r){var i=t.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function ph(e){return e&&e[0]==="?"}function Dh(e){return e&&e[0]==="?"?e.slice(1):e}function gh(e,t){if(ya(e)&&wa(e,t))return e[t];throw typeof e[t]=="function"&&wh(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function mh(e,t,n){if(ya(e)&&wa(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function vh(e,t){return t in e}function wa(e,t){return!e||typeof e!="object"?!1:zn(yh,t)?!0:!(t in Object.prototype||t in Function.prototype)}function wh(e,t){return e==null||typeof e[t]!="function"||zn(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:zn(_h,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ya(e){return typeof e=="object"&&e&&e.constructor===Object}var yh={length:!0,name:!0},_h={toString:!0,valueOf:!0,toLocaleString:!0};class Ah{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject).values()}get(t){return gh(this.wrappedObject,t)}set(t,n){return mh(this.wrappedObject,t,n),this}has(t){return vh(this.wrappedObject,t)}entries(){return Fh(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var n of this.keys())t(this.get(n),n,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Fh(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function Eh(e){return e?e instanceof Map||e instanceof Ah||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var _a=function(){return _a=Zu.create,Zu},bh=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ch=ue("typed",bh,function(t){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:u}=t,a=_a();return a.clear(),a.addTypes([{name:"number",test:de},{name:"Complex",test:ua},{name:"BigNumber",test:Oe},{name:"Fraction",test:oa},{name:"Unit",test:aa},{name:"identifier",test:f=>_t&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(f)},{name:"string",test:_t},{name:"Chain",test:Vl},{name:"Array",test:ve},{name:"Matrix",test:At},{name:"DenseMatrix",test:wl},{name:"SparseMatrix",test:yl},{name:"Range",test:_l},{name:"Index",test:eu},{name:"boolean",test:Al},{name:"ResultSet",test:Fl},{name:"Help",test:El},{name:"function",test:bl},{name:"Date",test:Cl},{name:"RegExp",test:Nl},{name:"null",test:Bl},{name:"undefined",test:xl},{name:"AccessorNode",test:Ml},{name:"ArrayNode",test:Sl},{name:"AssignmentNode",test:Tl},{name:"BlockNode",test:kl},{name:"ConditionalNode",test:Il},{name:"ConstantNode",test:Ol},{name:"FunctionNode",test:zl},{name:"FunctionAssignmentNode",test:Pl},{name:"IndexNode",test:$l},{name:"Node",test:Rl},{name:"ObjectNode",test:Ll},{name:"OperatorNode",test:ql},{name:"ParenthesisNode",test:Ul},{name:"RangeNode",test:Hl},{name:"RelationalNode",test:Zl},{name:"SymbolNode",test:Wl},{name:"Map",test:Eh},{name:"Object",test:tu}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||_i(l),th(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return r||mr(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||mr(l),new r(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||mr(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||Ai(l);var h=new u(l);if(h.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(l){var h=Number(l);if(isNaN(h))throw new Error('Cannot convert "'+l+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(l){n||_i(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){u||Ai(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||mr(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||_i(l),new n(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||Ai(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||Nh(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(f,l,h)=>{var s=a.createError(f,l,h);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&Pr(l[0])&&h.some(c=>!c.params.includes(","))){var o=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw o.data=s.data,o}throw s},a.onMismatch=(f,l,h)=>{var s=a.createError(f,l,h);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&Pr(l[0])&&h.some(c=>!c.params.includes(","))){var o=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw o.data=s.data,o}throw s},a});function _i(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function mr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Nh(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ai(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ln=9e15,Vt=1e9,Li="0123456789abcdef",Rr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Lr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",qi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ln,maxE:ln,crypto:!1},Aa,Tt,ee=!0,ti="[DecimalError] ",Zt=ti+"Invalid argument: ",Fa=ti+"Precision limit exceeded",Ea=ti+"crypto unavailable",ba="[object Decimal]",qe=Math.floor,Be=Math.pow,Bh=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,xh=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Mh=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ca=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dt=1e7,K=7,Sh=9007199254740991,Th=Rr.length-1,Ui=Lr.length-1,P={toStringTag:ba};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),J(e)};P.ceil=function(){return J(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Zt+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};P.comparedTo=P.cmp=function(e){var t,n,r,i,u=this,a=u.d,f=(e=new u.constructor(e)).d,l=u.s,h=e.s;if(!a||!f)return!l||!h?NaN:l!==h?l:a===f?0:!a^l<0?1:-1;if(!a[0]||!f[0])return a[0]?l:f[0]?-h:0;if(l!==h)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(r=a.length,i=f.length,t=0,n=r<i?r:i;t<n;++t)if(a[t]!==f[t])return a[t]>f[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};P.cosine=P.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+K,r.rounding=1,n=kh(r,Sa(r,n)),r.precision=e,r.rounding=t,J(Tt==2||Tt==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};P.cubeRoot=P.cbrt=function(){var e,t,n,r,i,u,a,f,l,h,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(ee=!1,u=s.s*Be(s.s*s,1/3),!u||Math.abs(u)==1/0?(n=Pe(s.d),e=s.e,(u=(e-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=Be(n,1/3),e=qe((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?n="5e"+e:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new o(n),r.s=s.s):r=new o(u.toString()),a=(e=o.precision)+3;;)if(f=r,l=f.times(f).times(f),h=l.plus(s),r=le(h.plus(s).times(f),h.plus(l),a+2,1),Pe(f.d).slice(0,a)===(n=Pe(r.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!i&&n=="4999"){if(!i&&(J(f,e+1,0),f.times(f).times(f).eq(s))){r=f;break}a+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(J(r,e+1,1),t=!r.times(r).times(r).eq(s));break}return ee=!0,J(r,e,o.rounding,t)};P.decimalPlaces=P.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-qe(this.e/K))*K,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};P.dividedBy=P.div=function(e){return le(this,new this.constructor(e))};P.dividedToIntegerBy=P.divToInt=function(e){var t=this,n=t.constructor;return J(le(t,new n(e),0,1,1),n.precision,n.rounding)};P.equals=P.eq=function(e){return this.cmp(e)===0};P.floor=function(){return J(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){var t=this.cmp(e);return t==1||t===0};P.hyperbolicCosine=P.cosh=function(){var e,t,n,r,i,u=this,a=u.constructor,f=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return f;n=a.precision,r=a.rounding,a.precision=n+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/ri(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=wn(a,1,u.times(t),new a(1),!0);for(var l,h=e,s=new a(8);h--;)l=u.times(u),u=f.minus(l.times(s.minus(l.times(s))));return J(u,a.precision=n,a.rounding=r,!0)};P.hyperbolicSine=P.sinh=function(){var e,t,n,r,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,n=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,r=i.d.length,r<3)i=wn(u,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/ri(5,e)),i=wn(u,2,i,i,!0);for(var a,f=new u(5),l=new u(16),h=new u(20);e--;)a=i.times(i),i=i.times(f.plus(a.times(l.times(a).plus(h))))}return u.precision=t,u.rounding=n,J(i,t,n,!0)};P.hyperbolicTangent=P.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,le(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};P.inverseCosine=P.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,u=n.rounding;return r!==-1?r===0?t.isNeg()?pt(n,i,u):new n(0):new n(NaN):t.isZero()?pt(n,i+4,u).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=pt(n,i+4,u).times(.5),n.precision=i,n.rounding=u,e.minus(t))};P.inverseHyperbolicCosine=P.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ee=!1,n=n.times(n).minus(1).sqrt().plus(n),ee=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};P.inverseHyperbolicSine=P.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ee=!1,n=n.times(n).plus(1).sqrt().plus(n),ee=!0,r.precision=e,r.rounding=t,n.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var e,t,n,r,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?J(new u(i),e,t,!0):(u.precision=n=r-i.e,i=le(i.plus(1),new u(1).minus(i),n+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};P.inverseSine=P.asin=function(){var e,t,n,r,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),n=u.precision,r=u.rounding,t!==-1?t===0?(e=pt(u,n+4,r).times(.5),e.s=i.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=r,i.times(2)))};P.inverseTangent=P.atan=function(){var e,t,n,r,i,u,a,f,l,h=this,s=h.constructor,o=s.precision,c=s.rounding;if(h.isFinite()){if(h.isZero())return new s(h);if(h.abs().eq(1)&&o+4<=Ui)return a=pt(s,o+4,c).times(.25),a.s=h.s,a}else{if(!h.s)return new s(NaN);if(o+4<=Ui)return a=pt(s,o+4,c).times(.5),a.s=h.s,a}for(s.precision=f=o+10,s.rounding=1,n=Math.min(28,f/K+2|0),e=n;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(ee=!1,t=Math.ceil(f/K),r=1,l=h.times(h),a=new s(h),i=h;e!==-1;)if(i=i.times(l),u=a.minus(i.div(r+=2)),i=i.times(l),a=u.plus(i.div(r+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===u.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),ee=!0,J(a,s.precision=o,s.rounding=c,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&qe(this.e/K)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n,r,i,u,a,f,l,h=this,s=h.constructor,o=s.precision,c=s.rounding,p=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new s(n&&!n[0]?-1/0:h.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)u=!0;else{for(i=n[0];i%10===0;)i/=10;u=i!==1}if(ee=!1,f=o+p,a=qt(h,f),r=t?qr(s,f+10):qt(e,f),l=le(a,r,f,1),$n(l.d,i=o,c))do if(f+=10,a=qt(h,f),r=t?qr(s,f+10):qt(e,f),l=le(a,r,f,1),!u){+Pe(l.d).slice(i+1,i+15)+1==1e14&&(l=J(l,o+1,0));break}while($n(l.d,i+=10,c));return ee=!0,J(l,o,c)};P.minus=P.sub=function(e){var t,n,r,i,u,a,f,l,h,s,o,c,p=this,_=p.constructor;if(e=new _(e),!p.d||!e.d)return!p.s||!e.s?e=new _(NaN):p.d?e.s=-e.s:e=new _(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(h=p.d,c=e.d,f=_.precision,l=_.rounding,!h[0]||!c[0]){if(c[0])e.s=-e.s;else if(h[0])e=new _(p);else return new _(l===3?-0:0);return ee?J(e,f,l):e}if(n=qe(e.e/K),s=qe(p.e/K),h=h.slice(),u=s-n,u){for(o=u<0,o?(t=h,u=-u,a=c.length):(t=c,n=s,a=h.length),r=Math.max(Math.ceil(f/K),a)+2,u>r&&(u=r,t.length=1),t.reverse(),r=u;r--;)t.push(0);t.reverse()}else{for(r=h.length,a=c.length,o=r<a,o&&(a=r),r=0;r<a;r++)if(h[r]!=c[r]){o=h[r]<c[r];break}u=0}for(o&&(t=h,h=c,c=t,e.s=-e.s),a=h.length,r=c.length-a;r>0;--r)h[a++]=0;for(r=c.length;r>u;){if(h[--r]<c[r]){for(i=r;i&&h[--i]===0;)h[i]=Dt-1;--h[i],h[r]+=Dt}h[r]-=c[r]}for(;h[--a]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(e.d=h,e.e=ni(h,n),ee?J(e,f,l):e):new _(l===3?-0:0)};P.modulo=P.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?J(new r(n),r.precision,r.rounding):(ee=!1,r.modulo==9?(t=le(n,e.abs(),0,3,1),t.s*=e.s):t=le(n,e,0,r.modulo,1),t=t.times(e),ee=!0,n.minus(t))};P.naturalExponential=P.exp=function(){return Hi(this)};P.naturalLogarithm=P.ln=function(){return qt(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,J(e)};P.plus=P.add=function(e){var t,n,r,i,u,a,f,l,h,s,o=this,c=o.constructor;if(e=new c(e),!o.d||!e.d)return!o.s||!e.s?e=new c(NaN):o.d||(e=new c(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(h=o.d,s=e.d,f=c.precision,l=c.rounding,!h[0]||!s[0])return s[0]||(e=new c(o)),ee?J(e,f,l):e;if(u=qe(o.e/K),r=qe(e.e/K),h=h.slice(),i=u-r,i){for(i<0?(n=h,i=-i,a=s.length):(n=s,r=u,a=h.length),u=Math.ceil(f/K),a=u>a?u+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=h.length,i=s.length,a-i<0&&(i=a,n=s,s=h,h=n),t=0;i;)t=(h[--i]=h[i]+s[i]+t)/Dt|0,h[i]%=Dt;for(t&&(h.unshift(t),++r),a=h.length;h[--a]==0;)h.pop();return e.d=h,e.e=ni(h,r),ee?J(e,f,l):e};P.precision=P.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zt+e);return n.d?(t=Na(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};P.round=function(){var e=this,t=e.constructor;return J(new t(e),e.e+1,t.rounding)};P.sine=P.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+K,r.rounding=1,n=Oh(r,Sa(r,n)),r.precision=e,r.rounding=t,J(Tt>2?n.neg():n,e,t,!0)):new r(NaN)};P.squareRoot=P.sqrt=function(){var e,t,n,r,i,u,a=this,f=a.d,l=a.e,h=a.s,s=a.constructor;if(h!==1||!f||!f[0])return new s(!h||h<0&&(!f||f[0])?NaN:f?a:1/0);for(ee=!1,h=Math.sqrt(+a),h==0||h==1/0?(t=Pe(f),(t.length+l)%2==0&&(t+="0"),h=Math.sqrt(t),l=qe((l+1)/2)-(l<0||l%2),h==1/0?t="5e"+l:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),r=new s(t)):r=new s(h.toString()),n=(l=s.precision)+3;;)if(u=r,r=u.plus(le(a,u,n+2,1)).times(.5),Pe(u.d).slice(0,n)===(t=Pe(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(J(u,l+1,0),u.times(u).eq(a))){r=u;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(J(r,l+1,1),e=!r.times(r).eq(a));break}return ee=!0,J(r,l,s.rounding,e)};P.tangent=P.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=le(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,J(Tt==2||Tt==4?n.neg():n,e,t,!0)):new r(NaN)};P.times=P.mul=function(e){var t,n,r,i,u,a,f,l,h,s=this,o=s.constructor,c=s.d,p=(e=new o(e)).d;if(e.s*=s.s,!c||!c[0]||!p||!p[0])return new o(!e.s||c&&!c[0]&&!p||p&&!p[0]&&!c?NaN:!c||!p?e.s/0:e.s*0);for(n=qe(s.e/K)+qe(e.e/K),l=c.length,h=p.length,l<h&&(u=c,c=p,p=u,a=l,l=h,h=a),u=[],a=l+h,r=a;r--;)u.push(0);for(r=h;--r>=0;){for(t=0,i=l+r;i>r;)f=u[i]+p[r]*c[i-r-1]+t,u[i--]=f%Dt|0,t=f/Dt|0;u[i]=(u[i]+t)%Dt|0}for(;!u[--a];)u.pop();return t?++n:u.shift(),e.d=u,e.e=ni(u,n),ee?J(e,o.precision,o.rounding):e};P.toBinary=function(e,t){return ru(this,2,e,t)};P.toDecimalPlaces=P.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(je(e,0,Vt),t===void 0?t=r.rounding:je(t,0,8),J(n,e+n.e+1,t))};P.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Et(r,!0):(je(e,0,Vt),t===void 0?t=i.rounding:je(t,0,8),r=J(new i(r),e+1,t),n=Et(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};P.toFixed=function(e,t){var n,r,i=this,u=i.constructor;return e===void 0?n=Et(i):(je(e,0,Vt),t===void 0?t=u.rounding:je(t,0,8),r=J(new u(i),e+i.e+1,t),n=Et(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};P.toFraction=function(e){var t,n,r,i,u,a,f,l,h,s,o,c,p=this,_=p.d,d=p.constructor;if(!_)return new d(p);if(h=n=new d(1),r=l=new d(0),t=new d(r),u=t.e=Na(_)-p.e-1,a=u%K,t.d[0]=Be(10,a<0?K+a:a),e==null)e=u>0?t:h;else{if(f=new d(e),!f.isInt()||f.lt(h))throw Error(Zt+f);e=f.gt(t)?u>0?t:h:f}for(ee=!1,f=new d(Pe(_)),s=d.precision,d.precision=u=_.length*K*2;o=le(f,t,0,1,1),i=n.plus(o.times(r)),i.cmp(e)!=1;)n=r,r=i,i=h,h=l.plus(o.times(i)),l=i,i=t,t=f.minus(o.times(i)),f=i;return i=le(e.minus(n),r,0,1,1),l=l.plus(i.times(h)),n=n.plus(i.times(r)),l.s=h.s=p.s,c=le(h,r,u,1).minus(p).abs().cmp(le(l,n,u,1).minus(p).abs())<1?[h,r]:[l,n],d.precision=s,ee=!0,c};P.toHexadecimal=P.toHex=function(e,t){return ru(this,16,e,t)};P.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:je(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ee=!1,n=le(n,e,0,t,1).times(e),ee=!0,J(n)):(e.s=n.s,n=e),n};P.toNumber=function(){return+this};P.toOctal=function(e,t){return ru(this,8,e,t)};P.toPower=P.pow=function(e){var t,n,r,i,u,a,f=this,l=f.constructor,h=+(e=new l(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new l(Be(+f,h));if(f=new l(f),f.eq(1))return f;if(r=l.precision,u=l.rounding,e.eq(1))return J(f,r,u);if(t=qe(e.e/K),t>=e.d.length-1&&(n=h<0?-h:h)<=Sh)return i=Ba(l,f,n,r),e.s<0?new l(1).div(i):J(i,r,u);if(a=f.s,a<0){if(t<e.d.length-1)return new l(NaN);if(e.d[t]&1||(a=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=a,f}return n=Be(+f,h),t=n==0||!isFinite(n)?qe(h*(Math.log("0."+Pe(f.d))/Math.LN10+f.e+1)):new l(n+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(ee=!1,l.rounding=f.s=1,n=Math.min(12,(t+"").length),i=Hi(e.times(qt(f,r+n)),r),i.d&&(i=J(i,r+5,1),$n(i.d,r,u)&&(t=r+10,i=J(Hi(e.times(qt(f,t+n)),t),t+5,1),+Pe(i.d).slice(r+1,r+15)+1==1e14&&(i=J(i,r+1,0)))),i.s=a,ee=!0,l.rounding=u,J(i,r,u))};P.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Et(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(je(e,1,Vt),t===void 0?t=i.rounding:je(t,0,8),r=J(new i(r),e,t),n=Et(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};P.toSignificantDigits=P.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(je(e,1,Vt),t===void 0?t=r.rounding:je(t,0,8)),J(new r(n),e,t)};P.toString=function(){var e=this,t=e.constructor,n=Et(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};P.truncated=P.trunc=function(){return J(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,n=Et(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Pe(e){var t,n,r,i=e.length-1,u="",a=e[0];if(i>0){for(u+=a,t=1;t<i;t++)r=e[t]+"",n=K-r.length,n&&(u+=Rt(n)),u+=r;a=e[t],r=a+"",n=K-r.length,n&&(u+=Rt(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function je(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zt+e)}function $n(e,t,n,r){var i,u,a,f;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=K,i=0):(i=Math.ceil((t+1)/K),t%=K),u=Be(10,K-t),f=e[i]%u|0,r==null?t<3?(t==0?f=f/100|0:t==1&&(f=f/10|0),a=n<4&&f==99999||n>3&&f==49999||f==5e4||f==0):a=(n<4&&f+1==u||n>3&&f+1==u/2)&&(e[i+1]/u/100|0)==Be(10,t-2)-1||(f==u/2||f==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?f=f/1e3|0:t==1?f=f/100|0:t==2&&(f=f/10|0),a=(r||n<4)&&f==9999||!r&&n>3&&f==4999):a=((r||n<4)&&f+1==u||!r&&n>3&&f+1==u/2)&&(e[i+1]/u/1e3|0)==Be(10,t-3)-1,a}function Fr(e,t,n){for(var r,i=[0],u,a=0,f=e.length;a<f;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Li.indexOf(e.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function kh(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/ri(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=wn(e,1,t.times(i),new e(1));for(var u=n;u--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}var le=function(){function e(r,i,u){var a,f=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+f,r[l]=a%u|0,f=a/u|0;return f&&r.unshift(f),r}function t(r,i,u,a){var f,l;if(u!=a)l=u>a?1:-1;else for(f=l=0;f<u;f++)if(r[f]!=i[f]){l=r[f]>i[f]?1:-1;break}return l}function n(r,i,u,a){for(var f=0;u--;)r[u]-=f,f=r[u]<i[u]?1:0,r[u]=f*a+r[u]-i[u];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,u,a,f,l){var h,s,o,c,p,_,d,g,D,v,m,A,y,E,B,C,k,z,b,M,W=r.constructor,U=r.s==i.s?1:-1,X=r.d,H=i.d;if(!X||!X[0]||!H||!H[0])return new W(!r.s||!i.s||(X?H&&X[0]==H[0]:!H)?NaN:X&&X[0]==0||!H?U*0:U/0);for(l?(p=1,s=r.e-i.e):(l=Dt,p=K,s=qe(r.e/p)-qe(i.e/p)),b=H.length,k=X.length,D=new W(U),v=D.d=[],o=0;H[o]==(X[o]||0);o++);if(H[o]>(X[o]||0)&&s--,u==null?(E=u=W.precision,a=W.rounding):f?E=u+(r.e-i.e)+1:E=u,E<0)v.push(1),_=!0;else{if(E=E/p+2|0,o=0,b==1){for(c=0,H=H[0],E++;(o<k||c)&&E--;o++)B=c*l+(X[o]||0),v[o]=B/H|0,c=B%H|0;_=c||o<k}else{for(c=l/(H[0]+1)|0,c>1&&(H=e(H,c,l),X=e(X,c,l),b=H.length,k=X.length),C=b,m=X.slice(0,b),A=m.length;A<b;)m[A++]=0;M=H.slice(),M.unshift(0),z=H[0],H[1]>=l/2&&++z;do c=0,h=t(H,m,b,A),h<0?(y=m[0],b!=A&&(y=y*l+(m[1]||0)),c=y/z|0,c>1?(c>=l&&(c=l-1),d=e(H,c,l),g=d.length,A=m.length,h=t(d,m,g,A),h==1&&(c--,n(d,b<g?M:H,g,l))):(c==0&&(h=c=1),d=H.slice()),g=d.length,g<A&&d.unshift(0),n(m,d,A,l),h==-1&&(A=m.length,h=t(H,m,b,A),h<1&&(c++,n(m,b<A?M:H,A,l))),A=m.length):h===0&&(c++,m=[0]),v[o++]=c,h&&m[0]?m[A++]=X[C]||0:(m=[X[C]],A=1);while((C++<k||m[0]!==void 0)&&E--);_=m[0]!==void 0}v[0]||v.shift()}if(p==1)D.e=s,Aa=_;else{for(o=1,c=v[0];c>=10;c/=10)o++;D.e=o+s*p-1,J(D,f?u+D.e+1:u,a,_)}return D}}();function J(e,t,n,r){var i,u,a,f,l,h,s,o,c,p=e.constructor;e:if(t!=null){if(o=e.d,!o)return e;for(i=1,f=o[0];f>=10;f/=10)i++;if(u=t-i,u<0)u+=K,a=t,s=o[c=0],l=s/Be(10,i-a-1)%10|0;else if(c=Math.ceil((u+1)/K),f=o.length,c>=f)if(r){for(;f++<=c;)o.push(0);s=l=0,i=1,u%=K,a=u-K+1}else break e;else{for(s=f=o[c],i=1;f>=10;f/=10)i++;u%=K,a=u-K+i,l=a<0?0:s/Be(10,i-a-1)%10|0}if(r=r||t<0||o[c+1]!==void 0||(a<0?s:s%Be(10,i-a-1)),h=n<4?(l||r)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||r||n==6&&(u>0?a>0?s/Be(10,i-a):0:o[c-1])%10&1||n==(e.s<0?8:7)),t<1||!o[0])return o.length=0,h?(t-=e.e+1,o[0]=Be(10,(K-t%K)%K),e.e=-t||0):o[0]=e.e=0,e;if(u==0?(o.length=c,f=1,c--):(o.length=c+1,f=Be(10,K-u),o[c]=a>0?(s/Be(10,i-a)%Be(10,a)|0)*f:0),h)for(;;)if(c==0){for(u=1,a=o[0];a>=10;a/=10)u++;for(a=o[0]+=f,f=1;a>=10;a/=10)f++;u!=f&&(e.e++,o[0]==Dt&&(o[0]=1));break}else{if(o[c]+=f,o[c]!=Dt)break;o[c--]=0,f=1}for(u=o.length;o[--u]===0;)o.pop()}return ee&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function Et(e,t,n){if(!e.isFinite())return Ma(e);var r,i=e.e,u=Pe(e.d),a=u.length;return t?(n&&(r=n-a)>0?u=u.charAt(0)+"."+u.slice(1)+Rt(r):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+Rt(-i-1)+u,n&&(r=n-a)>0&&(u+=Rt(r))):i>=a?(u+=Rt(i+1-a),n&&(r=n-i-1)>0&&(u=u+"."+Rt(r))):((r=i+1)<a&&(u=u.slice(0,r)+"."+u.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(u+="."),u+=Rt(r))),u}function ni(e,t){var n=e[0];for(t*=K;n>=10;n/=10)t++;return t}function qr(e,t,n){if(t>Th)throw ee=!0,n&&(e.precision=n),Error(Fa);return J(new e(Rr),t,1,!0)}function pt(e,t,n){if(t>Ui)throw Error(Fa);return J(new e(Lr),t,n,!0)}function Na(e){var t=e.length-1,n=t*K+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Rt(e){for(var t="";e--;)t+="0";return t}function Ba(e,t,n,r){var i,u=new e(1),a=Math.ceil(r/K+4);for(ee=!1;;){if(n%2&&(u=u.times(t),to(u.d,a)&&(i=!0)),n=qe(n/2),n===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}t=t.times(t),to(t.d,a)}return ee=!0,u}function eo(e){return e.d[e.d.length-1]&1}function xa(e,t,n){for(var r,i=new e(t[0]),u=0;++u<t.length;)if(r=new e(t[u]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function Hi(e,t){var n,r,i,u,a,f,l,h=0,s=0,o=0,c=e.constructor,p=c.rounding,_=c.precision;if(!e.d||!e.d[0]||e.e>17)return new c(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ee=!1,l=_):l=t,f=new c(.03125);e.e>-2;)e=e.times(f),o+=5;for(r=Math.log(Be(2,o))/Math.LN10*2+5|0,l+=r,n=u=a=new c(1),c.precision=l;;){if(u=J(u.times(e),l,1),n=n.times(++s),f=a.plus(le(u,n,l,1)),Pe(f.d).slice(0,l)===Pe(a.d).slice(0,l)){for(i=o;i--;)a=J(a.times(a),l,1);if(t==null)if(h<3&&$n(a.d,l-r,p,h))c.precision=l+=10,n=u=f=new c(1),s=0,h++;else return J(a,c.precision=_,p,ee=!0);else return c.precision=_,a}a=f}}function qt(e,t){var n,r,i,u,a,f,l,h,s,o,c,p=1,_=10,d=e,g=d.d,D=d.constructor,v=D.rounding,m=D.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new D(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(t==null?(ee=!1,s=m):s=t,D.precision=s+=_,n=Pe(g),r=n.charAt(0),Math.abs(u=d.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(e),n=Pe(d.d),r=n.charAt(0),p++;u=d.e,r>1?(d=new D("0."+n),u++):d=new D(r+"."+n.slice(1))}else return h=qr(D,s+2,m).times(u+""),d=qt(new D(r+"."+n.slice(1)),s-_).plus(h),D.precision=m,t==null?J(d,m,v,ee=!0):d;for(o=d,l=a=d=le(d.minus(1),d.plus(1),s,1),c=J(d.times(d),s,1),i=3;;){if(a=J(a.times(c),s,1),h=l.plus(le(a,new D(i),s,1)),Pe(h.d).slice(0,s)===Pe(l.d).slice(0,s))if(l=l.times(2),u!==0&&(l=l.plus(qr(D,s+2,m).times(u+""))),l=le(l,new D(p),s,1),t==null)if($n(l.d,s-_,v,f))D.precision=s+=_,h=a=d=le(o.minus(1),o.plus(1),s,1),c=J(d.times(d),s,1),i=f=1;else return J(l,D.precision=m,v,ee=!0);else return D.precision=m,l;l=h,i+=2}}function Ma(e){return String(e.s*e.s/0)}function Zi(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%K,n<0&&(r+=K),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=K;r<i;)e.d.push(+t.slice(r,r+=K));t=t.slice(r),r=K-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),ee&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Ih(e,t){var n,r,i,u,a,f,l,h,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Ca.test(t))return Zi(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(xh.test(t))n=16,t=t.toLowerCase();else if(Bh.test(t))n=2;else if(Mh.test(t))n=8;else throw Error(Zt+t);for(u=t.search(/p/i),u>0?(l=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),a=u>=0,r=e.constructor,a&&(t=t.replace(".",""),f=t.length,u=f-u,i=Ba(r,new r(n),u,u*2)),h=Fr(t,n,Dt),s=h.length-1,u=s;h[u]===0;--u)h.pop();return u<0?new r(e.s*0):(e.e=ni(h,s),e.d=h,ee=!1,a&&(e=le(e,i,f*4)),l&&(e=e.times(Math.abs(l)<54?Be(2,l):yn.pow(2,l))),ee=!0,e)}function Oh(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:wn(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/ri(5,n)),t=wn(e,2,t,t);for(var i,u=new e(5),a=new e(16),f=new e(20);n--;)i=t.times(t),t=t.times(u.plus(i.times(a.times(i).minus(f))));return t}function wn(e,t,n,r,i){var u,a,f,l,h=e.precision,s=Math.ceil(h/K);for(ee=!1,l=n.times(n),f=new e(r);;){if(a=le(f.times(l),new e(t++*t++),h,1),f=i?r.plus(a):r.minus(a),r=le(a.times(l),new e(t++*t++),h,1),a=f.plus(r),a.d[s]!==void 0){for(u=s;a.d[u]===f.d[u]&&u--;);if(u==-1)break}u=f,f=r,r=a,a=u}return ee=!0,a.d.length=s+1,a}function ri(e,t){for(var n=e;--t;)n*=e;return n}function Sa(e,t){var n,r=t.s<0,i=pt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return Tt=r?4:1,t;if(n=t.divToInt(i),n.isZero())Tt=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(u))return Tt=eo(n)?r?2:3:r?4:1,t;Tt=eo(n)?r?1:4:r?3:2}return t.minus(i).abs()}function ru(e,t,n,r){var i,u,a,f,l,h,s,o,c,p=e.constructor,_=n!==void 0;if(_?(je(n,1,Vt),r===void 0?r=p.rounding:je(r,0,8)):(n=p.precision,r=p.rounding),!e.isFinite())s=Ma(e);else{for(s=Et(e),a=s.indexOf("."),_?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,a>=0&&(s=s.replace(".",""),c=new p(1),c.e=s.length-a,c.d=Fr(Et(c),10,i),c.e=c.d.length),o=Fr(s,10,i),u=l=o.length;o[--l]==0;)o.pop();if(!o[0])s=_?"0p+0":"0";else{if(a<0?u--:(e=new p(e),e.d=o,e.e=u,e=le(e,c,n,r,0,i),o=e.d,u=e.e,h=Aa),a=o[n],f=i/2,h=h||o[n+1]!==void 0,h=r<4?(a!==void 0||h)&&(r===0||r===(e.s<0?3:2)):a>f||a===f&&(r===4||h||r===6&&o[n-1]&1||r===(e.s<0?8:7)),o.length=n,h)for(;++o[--n]>i-1;)o[n]=0,n||(++u,o.unshift(1));for(l=o.length;!o[l-1];--l);for(a=0,s="";a<l;a++)s+=Li.charAt(o[a]);if(_){if(l>1)if(t==16||t==8){for(a=t==16?4:3,--l;l%a;l++)s+="0";for(o=Fr(s,i,t),l=o.length;!o[l-1];--l);for(a=1,s="1.";a<l;a++)s+=Li.charAt(o[a])}else s=s.charAt(0)+"."+s.slice(1);s=s+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)s="0"+s;s="0."+s}else if(++u>l)for(u-=l;u--;)s+="0";else u<l&&(s=s.slice(0,u)+"."+s.slice(u))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function to(e,t){if(e.length>t)return e.length=t,!0}function Ph(e){return new this(e).abs()}function zh(e){return new this(e).acos()}function $h(e){return new this(e).acosh()}function Rh(e,t){return new this(e).plus(t)}function Lh(e){return new this(e).asin()}function qh(e){return new this(e).asinh()}function Uh(e){return new this(e).atan()}function Hh(e){return new this(e).atanh()}function Zh(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,u=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=pt(this,u,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?pt(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=pt(this,u,1).times(.5),n.s=e.s):t.s<0?(this.precision=u,this.rounding=1,n=this.atan(le(e,t,u,1)),t=pt(this,u,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(le(e,t,u,1)),n}function Wh(e){return new this(e).cbrt()}function Vh(e){return J(e=new this(e),e.e+1,2)}function Xh(e,t,n){return new this(e).clamp(t,n)}function Yh(e){if(!e||typeof e!="object")throw Error(ti+"Object expected");var t,n,r,i=e.defaults===!0,u=["precision",1,Vt,"rounding",0,8,"toExpNeg",-ln,0,"toExpPos",0,ln,"maxE",0,ln,"minE",-ln,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(n=u[t],i&&(this[n]=qi[n]),(r=e[n])!==void 0)if(qe(r)===r&&r>=u[t+1]&&r<=u[t+2])this[n]=r;else throw Error(Zt+n+": "+r);if(n="crypto",i&&(this[n]=qi[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Ea);else this[n]=!1;else throw Error(Zt+n+": "+r);return this}function Jh(e){return new this(e).cos()}function Gh(e){return new this(e).cosh()}function Ta(e){var t,n,r;function i(u){var a,f,l,h=this;if(!(h instanceof i))return new i(u);if(h.constructor=i,no(u)){h.s=u.s,ee?!u.d||u.e>i.maxE?(h.e=NaN,h.d=null):u.e<i.minE?(h.e=0,h.d=[0]):(h.e=u.e,h.d=u.d.slice()):(h.e=u.e,h.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){h.s=1/u<0?-1:1,h.e=0,h.d=[0];return}if(u<0?(u=-u,h.s=-1):h.s=1,u===~~u&&u<1e7){for(a=0,f=u;f>=10;f/=10)a++;ee?a>i.maxE?(h.e=NaN,h.d=null):a<i.minE?(h.e=0,h.d=[0]):(h.e=a,h.d=[u]):(h.e=a,h.d=[u]);return}else if(u*0!==0){u||(h.s=NaN),h.e=NaN,h.d=null;return}return Zi(h,u.toString())}else if(l!=="string")throw Error(Zt+u);return(f=u.charCodeAt(0))===45?(u=u.slice(1),h.s=-1):(f===43&&(u=u.slice(1)),h.s=1),Ca.test(u)?Zi(h,u):Ih(h,u)}if(i.prototype=P,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Yh,i.clone=Ta,i.isDecimal=no,i.abs=Ph,i.acos=zh,i.acosh=$h,i.add=Rh,i.asin=Lh,i.asinh=qh,i.atan=Uh,i.atanh=Hh,i.atan2=Zh,i.cbrt=Wh,i.ceil=Vh,i.clamp=Xh,i.cos=Jh,i.cosh=Gh,i.div=Kh,i.exp=Qh,i.floor=jh,i.hypot=e1,i.ln=t1,i.log=n1,i.log10=i1,i.log2=r1,i.max=u1,i.min=o1,i.mod=a1,i.mul=s1,i.pow=f1,i.random=c1,i.round=l1,i.sign=h1,i.sin=d1,i.sinh=p1,i.sqrt=D1,i.sub=g1,i.sum=m1,i.tan=v1,i.tanh=w1,i.trunc=y1,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Kh(e,t){return new this(e).div(t)}function Qh(e){return new this(e).exp()}function jh(e){return J(e=new this(e),e.e+1,3)}function e1(){var e,t,n=new this(0);for(ee=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ee=!0,new this(1/0);n=t}return ee=!0,n.sqrt()}function no(e){return e instanceof yn||e&&e.toStringTag===ba||!1}function t1(e){return new this(e).ln()}function n1(e,t){return new this(e).log(t)}function r1(e){return new this(e).log(2)}function i1(e){return new this(e).log(10)}function u1(){return xa(this,arguments,"lt")}function o1(){return xa(this,arguments,"gt")}function a1(e,t){return new this(e).mod(t)}function s1(e,t){return new this(e).mul(t)}function f1(e,t){return new this(e).pow(t)}function c1(e){var t,n,r,i,u=0,a=new this(1),f=[];if(e===void 0?e=this.precision:je(e,1,Vt),r=Math.ceil(e/K),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));u<r;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:f[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);u<r;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(f.push(i%1e7),u+=4);u=r/4}else throw Error(Ea);else for(;u<r;)f[u++]=Math.random()*1e7|0;for(r=f[--u],e%=K,r&&e&&(i=Be(10,K-e),f[u]=(r/i|0)*i);f[u]===0;u--)f.pop();if(u<0)n=0,f=[0];else{for(n=-1;f[0]===0;n-=K)f.shift();for(r=1,i=f[0];i>=10;i/=10)r++;r<K&&(n-=K-r)}return a.e=n,a.d=f,a}function l1(e){return J(e=new this(e),e.e+1,this.rounding)}function h1(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function d1(e){return new this(e).sin()}function p1(e){return new this(e).sinh()}function D1(e){return new this(e).sqrt()}function g1(e,t){return new this(e).sub(t)}function m1(){var e=0,t=arguments,n=new this(t[e]);for(ee=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ee=!0,J(n,this.precision,this.rounding)}function v1(e){return new this(e).tan()}function w1(e){return new this(e).tanh()}function y1(e){return J(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var yn=P.constructor=Ta(qi);Rr=new yn(Rr);Lr=new yn(Lr);var _1="BigNumber",A1=["?on","config"],F1=ue(_1,A1,e=>{var{on:t,config:n}=e,r=yn.clone({precision:n.precision,modulo:yn.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&r.config({precision:i.precision})}),r},{isClass:!0});function ka(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ia={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},i=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},u=function(o){var c=Math.PI/4;if(-c>o||o>c)return Math.cos(o)-1;var p=o*o;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(o,c){var p=Math.abs(o),_=Math.abs(c);return p<3e3&&_<3e3?Math.sqrt(p*p+_*_):(p<_?(p=_,_=o/c):_=c/o,p*Math.sqrt(1+_*_))},f=function(){throw SyntaxError("Invalid Param")};function l(o,c){var p=Math.abs(o),_=Math.abs(c);return o===0?Math.log(_):c===0?Math.log(p):p<3e3&&_<3e3?Math.log(o*o+c*c)*.5:(o=o/2,c=c/2,.5*Math.log(o*o+c*c)+Math.LN2)}var h=function(o,c){var p={re:0,im:0};if(o==null)p.re=p.im=0;else if(c!==void 0)p.re=o,p.im=c;else switch(typeof o){case"object":if("im"in o&&"re"in o)p.re=o.re,p.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;p.re=o.abs*Math.cos(o.arg),p.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;p.re=o.r*Math.cos(o.phi),p.im=o.r*Math.sin(o.phi)}else o.length===2?(p.re=o[0],p.im=o[1]):f();break;case"string":p.im=p.re=0;var _=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),d=1,g=0;_===null&&f();for(var D=0;D<_.length;D++){var v=_[D];v===" "||v==="	"||v===`
`||(v==="+"?d++:v==="-"?g++:v==="i"||v==="I"?(d+g===0&&f(),_[D+1]!==" "&&!isNaN(_[D+1])?(p.im+=parseFloat((g%2?"-":"")+_[D+1]),D++):p.im+=parseFloat((g%2?"-":"")+"1"),d=g=0):((d+g===0||isNaN(v))&&f(),_[D+1]==="i"||_[D+1]==="I"?(p.im+=parseFloat((g%2?"-":"")+v),D++):p.re+=parseFloat((g%2?"-":"")+v),d=g=0))}d+g>0&&f();break;case"number":p.im=0,p.re=o;break;default:f()}return isNaN(p.re)||isNaN(p.im),p};function s(o,c){if(!(this instanceof s))return new s(o,c);var p=h(o,c);this.re=p.re,this.im=p.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,c){var p=new s(o,c);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re+p.re,this.im+p.im)},sub:function(o,c){var p=new s(o,c);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re-p.re,this.im-p.im)},mul:function(o,c){var p=new s(o,c);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:p.im===0&&this.im===0?new s(this.re*p.re,0):new s(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(o,c){var p=new s(o,c);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return s.NAN;if(this.isInfinite()||p.isZero())return s.INFINITY;if(this.isZero()||p.isInfinite())return s.ZERO;o=this.re,c=this.im;var _=p.re,d=p.im,g,D;return d===0?new s(o/_,c/_):Math.abs(_)<Math.abs(d)?(D=_/d,g=_*D+d,new s((o*D+c)/g,(c*D-o)/g)):(D=d/_,g=d*D+_,new s((o+c*D)/g,(c-o*D)/g))},pow:function(o,c){var p=new s(o,c);if(o=this.re,c=this.im,p.isZero())return s.ONE;if(p.im===0){if(c===0&&o>0)return new s(Math.pow(o,p.re),0);if(o===0)switch((p.re%4+4)%4){case 0:return new s(Math.pow(c,p.re),0);case 1:return new s(0,Math.pow(c,p.re));case 2:return new s(-Math.pow(c,p.re),0);case 3:return new s(0,-Math.pow(c,p.re))}}if(o===0&&c===0&&p.re>0&&p.im>=0)return s.ZERO;var _=Math.atan2(c,o),d=l(o,c);return o=Math.exp(p.re*d-p.im*_),c=p.im*d+p.re*_,new s(o*Math.cos(c),o*Math.sin(c))},sqrt:function(){var o=this.re,c=this.im,p=this.abs(),_,d;if(o>=0){if(c===0)return new s(Math.sqrt(o),0);_=.5*Math.sqrt(2*(p+o))}else _=Math.abs(c)/Math.sqrt(2*(p-o));return o<=0?d=.5*Math.sqrt(2*(p-o)):d=Math.abs(c)/Math.sqrt(2*(p+o)),new s(_,c<0?-d:d)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,c=this.im;return new s(Math.expm1(o)*Math.cos(c)+u(c),Math.exp(o)*Math.sin(c))},log:function(){var o=this.re,c=this.im;return new s(l(o,c),Math.atan2(c,o))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,c=this.im;return new s(Math.sin(o)*r(c),Math.cos(o)*i(c))},cos:function(){var o=this.re,c=this.im;return new s(Math.cos(o)*r(c),-Math.sin(o)*i(c))},tan:function(){var o=2*this.re,c=2*this.im,p=Math.cos(o)+r(c);return new s(Math.sin(o)/p,i(c)/p)},cot:function(){var o=2*this.re,c=2*this.im,p=Math.cos(o)-r(c);return new s(-Math.sin(o)/p,i(c)/p)},sec:function(){var o=this.re,c=this.im,p=.5*r(2*c)+.5*Math.cos(2*o);return new s(Math.cos(o)*r(c)/p,Math.sin(o)*i(c)/p)},csc:function(){var o=this.re,c=this.im,p=.5*r(2*c)-.5*Math.cos(2*o);return new s(Math.sin(o)*r(c)/p,-Math.cos(o)*i(c)/p)},asin:function(){var o=this.re,c=this.im,p=new s(c*c-o*o+1,-2*o*c).sqrt(),_=new s(p.re-c,p.im+o).log();return new s(_.im,-_.re)},acos:function(){var o=this.re,c=this.im,p=new s(c*c-o*o+1,-2*o*c).sqrt(),_=new s(p.re-c,p.im+o).log();return new s(Math.PI/2-_.im,_.re)},atan:function(){var o=this.re,c=this.im;if(o===0){if(c===1)return new s(0,1/0);if(c===-1)return new s(0,-1/0)}var p=o*o+(1-c)*(1-c),_=new s((1-c*c-o*o)/p,-2*o/p).log();return new s(-.5*_.im,.5*_.re)},acot:function(){var o=this.re,c=this.im;if(c===0)return new s(Math.atan2(1,o),0);var p=o*o+c*c;return p!==0?new s(o/p,-c/p).atan():new s(o!==0?o/0:0,c!==0?-c/0:0).atan()},asec:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new s(0,1/0);var p=o*o+c*c;return p!==0?new s(o/p,-c/p).acos():new s(o!==0?o/0:0,c!==0?-c/0:0).acos()},acsc:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new s(Math.PI/2,1/0);var p=o*o+c*c;return p!==0?new s(o/p,-c/p).asin():new s(o!==0?o/0:0,c!==0?-c/0:0).asin()},sinh:function(){var o=this.re,c=this.im;return new s(i(o)*Math.cos(c),r(o)*Math.sin(c))},cosh:function(){var o=this.re,c=this.im;return new s(r(o)*Math.cos(c),i(o)*Math.sin(c))},tanh:function(){var o=2*this.re,c=2*this.im,p=r(o)+Math.cos(c);return new s(i(o)/p,Math.sin(c)/p)},coth:function(){var o=2*this.re,c=2*this.im,p=r(o)-Math.cos(c);return new s(i(o)/p,-Math.sin(c)/p)},csch:function(){var o=this.re,c=this.im,p=Math.cos(2*c)-r(2*o);return new s(-2*i(o)*Math.cos(c)/p,2*r(o)*Math.sin(c)/p)},sech:function(){var o=this.re,c=this.im,p=Math.cos(2*c)+r(2*o);return new s(2*r(o)*Math.cos(c)/p,-2*i(o)*Math.sin(c)/p)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var c=this.asin();return this.re=-this.im,this.im=o,o=c.re,c.re=-c.im,c.im=o,c},acosh:function(){var o=this.acos();if(o.im<=0){var c=o.re;o.re=-o.im,o.im=c}else{var c=o.im;o.im=-o.re,o.re=c}return o},atanh:function(){var o=this.re,c=this.im,p=o>1&&c===0,_=1-o,d=1+o,g=_*_+c*c,D=g!==0?new s((d*_-c*c)/g,(c*_+d*c)/g):new s(o!==-1?o/0:0,c!==0?c/0:0),v=D.re;return D.re=l(D.re,D.im)/2,D.im=Math.atan2(D.im,v)/2,p&&(D.im=-D.im),D},acoth:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new s(0,Math.PI/2);var p=o*o+c*c;return p!==0?new s(o/p,-c/p).atanh():new s(o!==0?o/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var o=this.re,c=this.im;if(c===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var p=o*o+c*c;return p!==0?new s(o/p,-c/p).asinh():new s(o!==0?o/0:0,c!==0?-c/0:0).asinh()},asech:function(){var o=this.re,c=this.im;if(this.isZero())return s.INFINITY;var p=o*o+c*c;return p!==0?new s(o/p,-c/p).acosh():new s(o!==0?o/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,c=this.im,p=o*o+c*c;return new s(o/p,-c/p)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,c){var p=new s(o,c);return Math.abs(p.re-this.re)<=s.EPSILON&&Math.abs(p.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,c=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(c)<s.EPSILON&&(c=0),c===0?p+o:(o!==0?(p+=o,p+=" ",c<0?(c=-c,p+="-"):p+="+",p+=" "):c<0&&(c=-c,p+="-"),c!==1&&(p+=c),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(Ia);var E1=Ia.exports;const Ie=ka(E1);var b1="Complex",C1=[],N1=ue(b1,C1,()=>(Object.defineProperty(Ie,"name",{value:"Complex"}),Ie.prototype.constructor=Ie,Ie.prototype.type="Complex",Ie.prototype.isComplex=!0,Ie.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ie.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ie.prototype.format=function(e){var t="",n=this.im,r=this.re,i=$i(this.re,e),u=$i(this.im,e),a=de(e)?e:e?e.precision:null;if(a!==null){var f=Math.pow(10,-a);Math.abs(r/n)<f&&(r=0),Math.abs(n/r)<f&&(n=0)}return n===0?t=i:r===0?n===1?t="i":n===-1?t="-i":t=u+"i":n<0?n===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":n===1?t=i+" + i":t=i+" + "+u+"i",t},Ie.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Ie(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(de(n)){if(aa(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),de(r))return new Ie({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ie.prototype.valueOf=Ie.prototype.toString,Ie.fromJSON=function(e){return new Ie(e)},Ie.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Ie),{isClass:!0}),Oa={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=2e3,i={s:1,n:0,d:1};function u(D,v){if(isNaN(D=parseInt(D,10)))throw d();return D*v}function a(D,v){if(v===0)throw _();var m=Object.create(p.prototype);m.s=D<0?-1:1,D=D<0?-D:D;var A=c(D,v);return m.n=D/A,m.d=v/A,m}function f(D){for(var v={},m=D,A=2,y=4;y<=m;){for(;m%A===0;)m/=A,v[A]=(v[A]||0)+1;y+=1+2*A++}return m!==D?m>1&&(v[m]=(v[m]||0)+1):v[D]=(v[D]||0)+1,v}var l=function(D,v){var m=0,A=1,y=1,E=0,B=0,C=0,k=1,z=1,b=0,M=1,W=1,U=1,X=1e7,H;if(D!=null)if(v!==void 0){if(m=D,A=v,y=m*A,m%1!==0||A%1!==0)throw g()}else switch(typeof D){case"object":{if("d"in D&&"n"in D)m=D.n,A=D.d,"s"in D&&(m*=D.s);else if(0 in D)m=D[0],1 in D&&(A=D[1]);else throw d();y=m*A;break}case"number":{if(D<0&&(y=D,D=-D),D%1===0)m=D;else if(D>0){for(D>=1&&(z=Math.pow(10,Math.floor(1+Math.log(D)/Math.LN10)),D/=z);M<=X&&U<=X;)if(H=(b+W)/(M+U),D===H){M+U<=X?(m=b+W,A=M+U):U>M?(m=W,A=U):(m=b,A=M);break}else D>H?(b+=W,M+=U):(W+=b,U+=M),M>X?(m=W,A=U):(m=b,A=M);m*=z}else(isNaN(D)||isNaN(v))&&(A=m=NaN);break}case"string":{if(M=D.match(/\d+|./g),M===null)throw d();if(M[b]==="-"?(y=-1,b++):M[b]==="+"&&b++,M.length===b+1?B=u(M[b++],y):M[b+1]==="."||M[b]==="."?(M[b]!=="."&&(E=u(M[b++],y)),b++,(b+1===M.length||M[b+1]==="("&&M[b+3]===")"||M[b+1]==="'"&&M[b+3]==="'")&&(B=u(M[b],y),k=Math.pow(10,M[b].length),b++),(M[b]==="("&&M[b+2]===")"||M[b]==="'"&&M[b+2]==="'")&&(C=u(M[b+1],y),z=Math.pow(10,M[b+1].length)-1,b+=3)):M[b+1]==="/"||M[b+1]===":"?(B=u(M[b],y),k=u(M[b+2],1),b+=3):M[b+3]==="/"&&M[b+1]===" "&&(E=u(M[b],y),B=u(M[b+2],y),k=u(M[b+4],1),b+=5),M.length<=b){A=k*z,y=m=C+A*E+z*B;break}}default:throw d()}if(A===0)throw _();i.s=y<0?-1:1,i.n=Math.abs(m),i.d=Math.abs(A)};function h(D,v,m){for(var A=1;v>0;D=D*D%m,v>>=1)v&1&&(A=A*D%m);return A}function s(D,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var m=10%v,A=1;m!==1;A++)if(m=m*10%v,A>r)return 0;return A}function o(D,v,m){for(var A=1,y=h(10,m,v),E=0;E<300;E++){if(A===y)return E;A=A*10%v,y=y*10%v}return 0}function c(D,v){if(!D)return v;if(!v)return D;for(;;){if(D%=v,!D)return v;if(v%=D,!v)return D}}function p(D,v){if(l(D,v),this instanceof p)D=c(i.d,i.n),this.s=i.s,this.n=i.n/D,this.d=i.d/D;else return a(i.s*i.n,i.d)}var _=function(){return new Error("Division by Zero")},d=function(){return new Error("Invalid argument")},g=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(D,v){return l(D,v),a(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(D,v){return l(D,v),a(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(D,v){return l(D,v),a(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(D,v){return l(D,v),a(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(D,v){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(D===void 0)return a(this.s*this.n%this.d,1);if(l(D,v),i.n===0&&this.d===0)throw _();return a(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(D,v){return l(D,v),a(c(i.n,this.n)*c(i.d,this.d),i.d*this.d)},lcm:function(D,v){return l(D,v),i.n===0&&this.n===0?a(0,1):a(i.n*this.n,c(i.n,this.n)*c(i.d,this.d))},ceil:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):a(Math.ceil(D*this.s*this.n/this.d),D)},floor:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):a(Math.floor(D*this.s*this.n/this.d),D)},round:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):a(Math.round(D*this.s*this.n/this.d),D)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(D,v){if(l(D,v),i.d===1)return i.s<0?a(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):a(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var m=f(this.n),A=f(this.d),y=1,E=1;for(var B in m)if(B!=="1"){if(B==="0"){y=0;break}if(m[B]*=i.n,m[B]%i.d===0)m[B]/=i.d;else return null;y*=Math.pow(B,m[B])}for(var B in A)if(B!=="1"){if(A[B]*=i.n,A[B]%i.d===0)A[B]/=i.d;else return null;E*=Math.pow(B,A[B])}return i.s<0?a(E,y):a(y,E)},equals:function(D,v){return l(D,v),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(D,v){l(D,v);var m=this.s*this.n*i.d-i.s*i.n*this.d;return(0<m)-(m<0)},simplify:function(D){if(isNaN(this.n)||isNaN(this.d))return this;D=D||.001;for(var v=this.abs(),m=v.toContinued(),A=1;A<m.length;A++){for(var y=a(m[A-1],1),E=A-2;E>=0;E--)y=y.inverse().add(m[E]);if(Math.abs(y.sub(v).valueOf())<D)return y.mul(this.s)}return this},divisible:function(D,v){return l(D,v),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(D){var v,m="",A=this.n,y=this.d;return this.s<0&&(m+="-"),y===1?m+=A:(D&&(v=Math.floor(A/y))>0&&(m+=v,m+=" ",A%=y),m+=A,m+="/",m+=y),m},toLatex:function(D){var v,m="",A=this.n,y=this.d;return this.s<0&&(m+="-"),y===1?m+=A:(D&&(v=Math.floor(A/y))>0&&(m+=v,A%=y),m+="\\frac{",m+=A,m+="}{",m+=y,m+="}"),m},toContinued:function(){var D,v=this.n,m=this.d,A=[];if(isNaN(v)||isNaN(m))return A;do A.push(Math.floor(v/m)),D=v%m,v=m,m=D;while(v!==1);return A},toString:function(D){var v=this.n,m=this.d;if(isNaN(v)||isNaN(m))return"NaN";D=D||15;var A=s(v,m),y=o(v,m,A),E=this.s<0?"-":"";if(E+=v/m|0,v%=m,v*=10,v&&(E+="."),A){for(var B=y;B--;)E+=v/m|0,v%=m,v*=10;E+="(";for(var B=A;B--;)E+=v/m|0,v%=m,v*=10;E+=")"}else for(var B=D;v&&B--;)E+=v/m|0,v%=m,v*=10;return E}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,e.exports=p})()})(Oa);var B1=Oa.exports;const St=ka(B1);var x1="Fraction",M1=[],S1=ue(x1,M1,()=>(Object.defineProperty(St,"name",{value:"Fraction"}),St.prototype.constructor=St,St.prototype.type="Fraction",St.prototype.isFraction=!0,St.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},St.fromJSON=function(e){return new St(e)},St),{isClass:!0}),T1="Matrix",k1=[],I1=ue(T1,k1,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Pa(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var r=(n.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}var O1="DenseMatrix",P1=["Matrix"],z1=ue(O1,P1,e=>{var{Matrix:t}=e;function n(s,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!_t(o))throw new Error("Invalid datatype: "+o);if(At(s))s.type==="DenseMatrix"?(this._data=Me(s._data),this._size=Me(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&ve(s.data)&&ve(s.size))this._data=s.data,this._size=s.size,Ku(this._data,this._size),this._datatype=o||s.datatype;else if(ve(s))this._data=h(s),this._size=kt(this._data),Ku(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+Mn(s)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new t,n.prototype.createDenseMatrix=function(s,o){return new n(s,o)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return zr(this._data,Mn)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,o){return new n(s,o)},n.prototype.subset=function(s,o,c){switch(arguments.length){case 1:return r(this,s);case 2:case 3:return u(this,s,o,c);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!ve(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ce(s.length,this._size.length);for(var o=0;o<s.length;o++)we(s[o],this._size[o]);for(var c=this._data,p=0,_=s.length;p<_;p++){var d=s[p];we(d,c.length),c=c[d]}return c},n.prototype.set=function(s,o,c){if(!ve(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new ce(s.length,this._size.length,"<");var p,_,d,g=s.map(function(v){return v+1});l(this,g,c);var D=this._data;for(p=0,_=s.length-1;p<_;p++)d=s[p],we(d,D.length),D=D[d];return d=s[s.length-1],we(d,D.length),D[d]=o,this};function r(s,o){if(!eu(o))throw new TypeError("Invalid index");var c=o.isScalar();if(c)return s.get(o.min());var p=o.size();if(p.length!==s._size.length)throw new ce(p.length,s._size.length);for(var _=o.min(),d=o.max(),g=0,D=s._size.length;g<D;g++)we(_[g],s._size[g]),we(d[g],s._size[g]);return new n(i(s._data,o,p.length,0),s._datatype)}function i(s,o,c,p){var _=p===c-1,d=o.dimension(p);return _?d.map(function(g){return we(g,s.length),s[g]}).valueOf():d.map(function(g){we(g,s.length);var D=s[g];return i(D,o,c,p+1)}).valueOf()}function u(s,o,c,p){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var _=o.size(),d=o.isScalar(),g;if(At(c)?(g=c.size(),c=c.valueOf()):g=kt(c),d){if(g.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),c,p)}else{if(!vn(g,_))try{g.length===0?c=ju([c],_):c=ju(c,_),g=kt(c)}catch{}if(_.length<s._size.length)throw new ce(_.length,s._size.length,"<");if(g.length<_.length){for(var D=0,v=0;_[D]===1&&g[D]===1;)D++;for(;_[D]===1;)v++,D++;c=Da(c,_.length,v,g)}if(!vn(_,g))throw new ce(_,g,">");var m=o.max().map(function(E){return E+1});l(s,m,p);var A=_.length,y=0;a(s._data,o,c,A,y)}return s}function a(s,o,c,p,_){var d=_===p-1,g=o.dimension(_);d?g.forEach(function(D,v){we(D),s[D]=c[v[0]]}):g.forEach(function(D,v){we(D),a(s[D],o,c[v[0]],p,_+1)})}n.prototype.resize=function(s,o,c){if(!Pr(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),_=c?this.clone():this;return f(_,p,o)};function f(s,o,c){if(o.length===0){for(var p=s._data;ve(p);)p=p[0];return p}return s._size=o.slice(0),s._data=Qu(s._data,s._size,c),s}n.prototype.reshape=function(s,o){var c=o?this.clone():this;c._data=da(c._data,s);var p=c._size.reduce((_,d)=>_*d);return c._size=nu(s,p),c};function l(s,o,c){for(var p=s._size.slice(0),_=!1;p.length<o.length;)p.push(0),_=!0;for(var d=0,g=o.length;d<g;d++)o[d]>p[d]&&(p[d]=o[d],_=!0);_&&f(s,p,c)}n.prototype.clone=function(){var s=new n({data:Me(this._data),size:Me(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var o=this,c=Pa(s),p=function g(D,v){return ve(D)?D.map(function(m,A){return g(m,v.concat(A))}):c===1?s(D):c===2?s(D,v):s(D,v,o)},_=p(this._data,[]),d=this._datatype!==void 0?zr(_,Mn):void 0;return new n(_,d)},n.prototype.forEach=function(s){var o=this,c=function p(_,d){ve(_)?_.forEach(function(g,D){p(g,d.concat(D))}):s(_,d,o)};c(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*o(c,p){if(ve(c))for(var _=0;_<c.length;_++)yield*o(c[_],p.concat(_));else yield{value:c,index:p}};yield*s(this._data,[])},n.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var p of c)s.push(new n([p],this._datatype));return s},n.prototype.columns=function(){var s=this,o=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,_=function(D){var v=p.map(m=>[m[D]]);o.push(new n(v,s._datatype))},d=0;d<c[1];d++)_(d);return o},n.prototype.toArray=function(){return Me(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return Ke(this._data,s)},n.prototype.toString=function(){return Ke(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(Oe(s)&&(s=s.toNumber()),!de(s)||!Se(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,c=s<0?-s:0,p=this._size[0],_=this._size[1],d=Math.min(p-c,_-o),g=[],D=0;D<d;D++)g[D]=this._data[D+c][D+o];return new n({data:g,size:[d],datatype:this._datatype})},n.diagonal=function(s,o,c,p){if(!ve(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(B){if(Oe(B)&&(B=B.toNumber()),!de(B)||!Se(B)||B<1)throw new Error("Size values must be positive integers");return B}),c){if(Oe(c)&&(c=c.toNumber()),!de(c)||!Se(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var _=c>0?c:0,d=c<0?-c:0,g=s[0],D=s[1],v=Math.min(g-d,D-_),m;if(ve(o)){if(o.length!==v)throw new Error("Invalid value array length");m=function(C){return o[C]}}else if(At(o)){var A=o.size();if(A.length!==1||A[0]!==v)throw new Error("Invalid matrix length");m=function(C){return o.get([C])}}else m=function(){return o};p||(p=Oe(m(0))?m(0).mul(0):0);var y=[];if(s.length>0){y=Qu(y,s,p);for(var E=0;E<v;E++)y[E+d][E+_]=m(E)}return new n({data:y,size:[g,D]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,o){if(!de(s)||!Se(s)||!de(o)||!Se(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return we(s,this._size[0]),we(o,this._size[0]),n._swapRows(s,o,this._data),this},n._swapRows=function(s,o,c){var p=c[s];c[s]=c[o],c[o]=p};function h(s){return At(s)?h(s.valueOf()):ve(s)?s.map(h):s}return n},{isClass:!0});function ii(e,t,n){return e&&typeof e.map=="function"?e.map(function(r){return ii(r,t)}):t(e)}var ro="isInteger",$1=["typed"],R1=ue(ro,$1,e=>{var{typed:t}=e;return t(ro,{number:Se,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":t.referToSelf(n=>r=>ii(r,n))})}),L1="number, number";function za(e,t){return e+t}za.signature=L1;var q1="number";function $a(e){return e>0}$a.signature=q1;var io="isPositive",U1=["typed"],H1=ue(io,U1,e=>{var{typed:t}=e;return t(io,{number:$a,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>ii(r,n))})});function Un(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}function Z1(e,t,n){return Ht(e.re,t.re,n)&&Ht(e.im,t.im,n)}var Hn=ue("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),Ur="equalScalar",W1=["typed","config"],V1=ue(Ur,W1,e=>{var{typed:t,config:n}=e,r=Hn({typed:t});return t(Ur,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return Ht(u,a,n.epsilon)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||Un(u,a,n.epsilon)},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return Z1(u,a,n.epsilon)}},r)});ue(Ur,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Ur,{"number, number":function(i,u){return Ht(i,u,n.epsilon)}})});var X1="SparseMatrix",Y1=["typed","equalScalar","Matrix"],J1=ue(X1,Y1,e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!_t(g))throw new Error("Invalid datatype: "+g);if(At(d))u(this,d,g);else if(d&&ve(d.index)&&ve(d.ptr)&&ve(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(ve(d))a(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+Mn(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(d,g,D){g.type==="SparseMatrix"?(d._values=g._values?Me(g._values):void 0,d._index=Me(g._index),d._ptr=Me(g._ptr),d._size=Me(g._size),d._datatype=D||g._datatype):a(d,g.valueOf(),D||g._datatype)}function a(d,g,D){d._values=[],d._index=[],d._ptr=[],d._datatype=D;var v=g.length,m=0,A=n,y=0;if(_t(D)&&(A=t.find(n,[D,D])||n,y=t.convert(0,D)),v>0){var E=0;do{d._ptr.push(d._index.length);for(var B=0;B<v;B++){var C=g[B];if(ve(C)){if(E===0&&m<C.length&&(m=C.length),E<C.length){var k=C[E];A(k,y)||(d._values.push(k),d._index.push(B))}}else E===0&&m<1&&(m=1),A(C,y)||(d._values.push(C),d._index.push(B))}E++}while(E<m)}d._ptr.push(d._index.length),d._size=[v,m]}i.prototype=new r,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return zr(this._values,Mn)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,d);case 2:case 3:return l(this,d,g,D);default:throw new SyntaxError("Wrong number of arguments")}};function f(d,g){if(!eu(g))throw new TypeError("Invalid index");var D=g.isScalar();if(D)return d.get(g.min());var v=g.size();if(v.length!==d._size.length)throw new ce(v.length,d._size.length);var m,A,y,E,B=g.min(),C=g.max();for(m=0,A=d._size.length;m<A;m++)we(B[m],d._size[m]),we(C[m],d._size[m]);var k=d._values,z=d._index,b=d._ptr,M=g.dimension(0),W=g.dimension(1),U=[],X=[];M.forEach(function(Y,ge){X[Y]=ge[0],U[Y]=!0});var H=k?[]:void 0,te=[],fe=[];return W.forEach(function(Y){for(fe.push(te.length),y=b[Y],E=b[Y+1];y<E;y++)m=z[y],U[m]===!0&&(te.push(X[m]),H&&H.push(k[y]))}),fe.push(te.length),new i({values:H,index:te,ptr:fe,size:v,datatype:d._datatype})}function l(d,g,D,v){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var m=g.size(),A=g.isScalar(),y;if(At(D)?(y=D.size(),D=D.toArray()):y=kt(D),A){if(y.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),D,v)}else{if(m.length!==1&&m.length!==2)throw new ce(m.length,d._size.length,"<");if(y.length<m.length){for(var E=0,B=0;m[E]===1&&y[E]===1;)E++;for(;m[E]===1;)B++,E++;D=Da(D,m.length,B,y)}if(!vn(m,y))throw new ce(m,y,">");if(m.length===1){var C=g.dimension(0);C.forEach(function(b,M){we(b),d.set([b,0],D[M[0]],v)})}else{var k=g.dimension(0),z=g.dimension(1);k.forEach(function(b,M){we(b),z.forEach(function(W,U){we(W),d.set([b,W],D[M[0]][U[0]],v)})})}}return d}i.prototype.get=function(d){if(!ve(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ce(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],D=d[1];we(g,this._size[0]),we(D,this._size[1]);var v=h(g,this._ptr[D],this._ptr[D+1],this._index);return v<this._ptr[D+1]&&this._index[v]===g?this._values[v]:0},i.prototype.set=function(d,g,D){if(!ve(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ce(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var v=d[0],m=d[1],A=this._size[0],y=this._size[1],E=n,B=0;_t(this._datatype)&&(E=t.find(n,[this._datatype,this._datatype])||n,B=t.convert(0,this._datatype)),(v>A-1||m>y-1)&&(c(this,Math.max(v+1,A),Math.max(m+1,y),D),A=this._size[0],y=this._size[1]),we(v,A),we(m,y);var C=h(v,this._ptr[m],this._ptr[m+1],this._index);return C<this._ptr[m+1]&&this._index[C]===v?E(g,B)?s(C,m,this._values,this._index,this._ptr):this._values[C]=g:E(g,B)||o(C,v,m,g,this._values,this._index,this._ptr),this};function h(d,g,D,v){if(D-g===0)return D;for(var m=g;m<D;m++)if(v[m]===d)return m;return g}function s(d,g,D,v,m){D.splice(d,1),v.splice(d,1);for(var A=g+1;A<m.length;A++)m[A]--}function o(d,g,D,v,m,A,y){m.splice(d,0,v),A.splice(d,0,g);for(var E=D+1;E<y.length;E++)y[E]++}i.prototype.resize=function(d,g,D){if(!Pr(d))throw new TypeError("Array or Matrix expected");var v=d.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(v.length!==2)throw new Error("Only two dimensions matrix are supported");v.forEach(function(A){if(!de(A)||!Se(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ke(v)+")")});var m=D?this.clone():this;return c(m,v[0],v[1],g)};function c(d,g,D,v){var m=v||0,A=n,y=0;_t(d._datatype)&&(A=t.find(n,[d._datatype,d._datatype])||n,y=t.convert(0,d._datatype),m=t.convert(m,d._datatype));var E=!A(m,y),B=d._size[0],C=d._size[1],k,z,b;if(D>C){for(z=C;z<D;z++)if(d._ptr[z]=d._values.length,E)for(k=0;k<B;k++)d._values.push(m),d._index.push(k);d._ptr[D]=d._values.length}else D<C&&(d._ptr.splice(D+1,C-D),d._values.splice(d._ptr[D],d._values.length),d._index.splice(d._ptr[D],d._index.length));if(C=D,g>B){if(E){var M=0;for(z=0;z<C;z++){d._ptr[z]=d._ptr[z]+M,b=d._ptr[z+1]+M;var W=0;for(k=B;k<g;k++,W++)d._values.splice(b+W,0,m),d._index.splice(b+W,0,k),M++}d._ptr[C]=d._values.length}}else if(g<B){var U=0;for(z=0;z<C;z++){d._ptr[z]=d._ptr[z]-U;var X=d._ptr[z],H=d._ptr[z+1]-U;for(b=X;b<H;b++)k=d._index[b],k>g-1&&(d._values.splice(b,1),d._index.splice(b,1),U++)}d._ptr[z]=d._values.length}return d._size[0]=g,d._size[1]=D,d}i.prototype.reshape=function(d,g){if(!ve(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(Y){if(!de(Y)||!Se(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ke(d)+")")});var D=this._size[0]*this._size[1];d=nu(d,D);var v=d[0]*d[1];if(D!==v)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var m=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return m;for(var A=[],y=0;y<m._ptr.length;y++)for(var E=0;E<m._ptr[y+1]-m._ptr[y];E++)A.push(y);for(var B=m._values.slice(),C=m._index.slice(),k=0;k<m._index.length;k++){var z=C[k],b=A[k],M=z*m._size[1]+b;A[k]=M%d[1],C[k]=Math.floor(M/d[1])}m._values.length=0,m._index.length=0,m._ptr.length=d[1]+1,m._size=d.slice();for(var W=0;W<m._ptr.length;W++)m._ptr[W]=0;for(var U=0;U<B.length;U++){var X=C[U],H=A[U],te=B[U],fe=h(X,m._ptr[H],m._ptr[H+1],m._index);o(fe,X,H,te,m._values,m._index,m._ptr)}return m},i.prototype.clone=function(){var d=new i({values:this._values?Me(this._values):void 0,index:Me(this._index),ptr:Me(this._ptr),size:Me(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,v=this._size[0],m=this._size[1],A=Pa(d),y=function(B,C,k){return A===1?d(B):A===2?d(B,[C,k]):d(B,[C,k],D)};return p(this,0,v-1,0,m-1,y,g)};function p(d,g,D,v,m,A,y){var E=[],B=[],C=[],k=n,z=0;_t(d._datatype)&&(k=t.find(n,[d._datatype,d._datatype])||n,z=t.convert(0,d._datatype));for(var b=function(Fe,Nt,mt){Fe=A(Fe,Nt,mt),k(Fe,z)||(E.push(Fe),B.push(Nt))},M=v;M<=m;M++){C.push(E.length);var W=d._ptr[M],U=d._ptr[M+1];if(y)for(var X=W;X<U;X++){var H=d._index[X];H>=g&&H<=D&&b(d._values[X],H-g,M-v)}else{for(var te={},fe=W;fe<U;fe++){var Y=d._index[fe];te[Y]=d._values[fe]}for(var ge=g;ge<=D;ge++){var Pt=ge in te?te[ge]:0;b(Pt,ge-g,M-v)}}}return C.push(E.length),new i({values:E,index:B,ptr:C,size:[D-g+1,m-v+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,v=this._size[0],m=this._size[1],A=0;A<m;A++){var y=this._ptr[A],E=this._ptr[A+1];if(g)for(var B=y;B<E;B++){var C=this._index[B];d(this._values[B],[C,A],D)}else{for(var k={},z=y;z<E;z++){var b=this._index[z];k[b]=this._values[z]}for(var M=0;M<v;M++){var W=M in k?k[M]:0;d(W,[M,A],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var D=this._ptr[g],v=this._ptr[g+1],m=D;m<v;m++){var A=this._index[m];yield{value:this._values[m],index:[A,g]}}},i.prototype.toArray=function(){return _(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return _(this._values,this._index,this._ptr,this._size,!1)};function _(d,g,D,v,m){var A=v[0],y=v[1],E=[],B,C;for(B=0;B<A;B++)for(E[B]=[],C=0;C<y;C++)E[B][C]=0;for(C=0;C<y;C++)for(var k=D[C],z=D[C+1],b=k;b<z;b++)B=g[b],E[B][C]=d?m?Me(d[b]):d[b]:1;return E}return i.prototype.format=function(d){for(var g=this._size[0],D=this._size[1],v=this.density(),m="Sparse Matrix ["+Ke(g,d)+" x "+Ke(D,d)+"] density: "+Ke(v,d)+`
`,A=0;A<D;A++)for(var y=this._ptr[A],E=this._ptr[A+1],B=y;B<E;B++){var C=this._index[B];m+=`
    (`+Ke(C,d)+", "+Ke(A,d)+") ==> "+(this._values?Ke(this._values[B],d):"X")}return m},i.prototype.toString=function(){return Ke(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(Oe(d)&&(d=d.toNumber()),!de(d)||!Se(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,D=d<0?-d:0,v=this._size[0],m=this._size[1],A=Math.min(v-D,m-g),y=[],E=[],B=[];B[0]=0;for(var C=g;C<m&&y.length<A;C++)for(var k=this._ptr[C],z=this._ptr[C+1],b=k;b<z;b++){var M=this._index[b];if(M===C-g+D){y.push(this._values[b]),E[y.length-1]=M-D;break}}return B.push(y.length),new i({values:y,index:E,ptr:B,size:[A,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,D,v,m){if(!ve(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(Y){if(Oe(Y)&&(Y=Y.toNumber()),!de(Y)||!Se(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),D){if(Oe(D)&&(D=D.toNumber()),!de(D)||!Se(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var A=n,y=0;_t(m)&&(A=t.find(n,[m,m])||n,y=t.convert(0,m));var E=D>0?D:0,B=D<0?-D:0,C=d[0],k=d[1],z=Math.min(C-B,k-E),b;if(ve(g)){if(g.length!==z)throw new Error("Invalid value array length");b=function(ge){return g[ge]}}else if(At(g)){var M=g.size();if(M.length!==1||M[0]!==z)throw new Error("Invalid matrix length");b=function(ge){return g.get([ge])}}else b=function(){return g};for(var W=[],U=[],X=[],H=0;H<k;H++){X.push(W.length);var te=H-E;if(te>=0&&te<z){var fe=b(te);A(fe,y)||(U.push(te+B),W.push(fe))}}return X.push(W.length),new i({values:W,index:U,ptr:X,size:[C,k]})},i.prototype.swapRows=function(d,g){if(!de(d)||!Se(d)||!de(g)||!Se(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return we(d,this._size[0]),we(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,D,v,m){for(var A=v[d],y=v[d+1],E=A;E<y;E++)m(D[E],g[E])},i._swapRows=function(d,g,D,v,m,A){for(var y=0;y<D;y++){var E=A[y],B=A[y+1],C=h(d,E,B,m),k=h(g,E,B,m);if(C<B&&k<B&&m[C]===d&&m[k]===g){if(v){var z=v[C];v[C]=v[k],v[k]=z}continue}if(C<B&&m[C]===d&&(k>=B||m[k]!==g)){var b=v?v[C]:void 0;m.splice(k,0,g),v&&v.splice(k,0,b),m.splice(k<=C?C+1:C,1),v&&v.splice(k<=C?C+1:C,1);continue}if(k<B&&m[k]===g&&(C>=B||m[C]!==d)){var M=v?v[k]:void 0;m.splice(C,0,d),v&&v.splice(C,0,M),m.splice(C<=k?k+1:k,1),v&&v.splice(C<=k?k+1:k,1)}}},i},{isClass:!0}),G1="bignumber",K1=["typed","BigNumber"],Q1=ue(G1,K1,e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],f=n(u[1]),l=new n(2).pow(Number(a));if(f.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var h=new n(2).pow(Number(a)-1);return f.gte(h)?f.sub(l):f}return new n(i)},BigNumber:function(i){return i},Unit:t.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Fraction:function(i){return new n(i.n).div(i.d).times(i.s)},null:function(i){return new n(0)},"Array | Matrix":t.referToSelf(r=>i=>ii(i,r))})}),uo="matrix",j1=["typed","Matrix","DenseMatrix","SparseMatrix"],ed=ue(uo,j1,e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(uo,{"":function(){return u([])},string:function(f){return u([],f)},"string, string":function(f,l){return u([],f,l)},Array:function(f){return u(f)},Matrix:function(f){return u(f,f.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,f,l){if(f==="dense"||f==="default"||f===void 0)return new r(a,l);if(f==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),oo="addScalar",td=["typed"],nd=ue(oo,td,e=>{var{typed:t}=e;return t(oo,{"number, number":za,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=t.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),rd="matAlgo12xSfs",id=["typed","DenseMatrix"],ui=ue(rd,id,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,a,f){var l=i._values,h=i._index,s=i._ptr,o=i._size,c=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=o[0],_=o[1],d,g=a;typeof c=="string"&&(d=c,u=t.convert(u,d),g=t.find(a,[d,d]));for(var D=[],v=[],m=[],A=0;A<_;A++){for(var y=A+1,E=s[A],B=s[A+1],C=E;C<B;C++){var k=h[C];v[k]=l[C],m[k]=y}for(var z=0;z<p;z++)A===0&&(D[z]=[]),m[z]===y?D[z][A]=f?g(u,v[z]):g(v[z],u):D[z][A]=f?g(u,0):g(0,u)}return new n({data:D,size:[p,_],datatype:d})}}),ud="matAlgo14xDs",od=["typed"],ad=ue(ud,od,e=>{var{typed:t}=e;return function(i,u,a,f){var l=i._data,h=i._size,s=i._datatype,o,c=a;typeof s=="string"&&(o=s,u=t.convert(u,o),c=t.find(a,[o,o]));var p=h.length>0?n(c,0,h,h[0],l,u,f):[];return i.createDenseMatrix({data:p,size:Me(h),datatype:o})};function n(r,i,u,a,f,l,h){var s=[];if(i===u.length-1)for(var o=0;o<a;o++)s[o]=h?r(l,f[o]):r(f[o],l);else for(var c=0;c<a;c++)s[c]=n(r,i+1,u,u[i+1],f[c],l,h);return s}}),sd="matAlgo03xDSf",fd=["typed"],oi=ue(sd,fd,e=>{var{typed:t}=e;return function(r,i,u,a){var f=r._data,l=r._size,h=r._datatype,s=i._values,o=i._index,c=i._ptr,p=i._size,_=i._datatype;if(l.length!==p.length)throw new ce(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=l[0],g=l[1],D,v=0,m=u;typeof h=="string"&&h===_&&(D=h,v=t.convert(0,D),m=t.find(u,[D,D]));for(var A=[],y=0;y<d;y++)A[y]=[];for(var E=[],B=[],C=0;C<g;C++){for(var k=C+1,z=c[C],b=c[C+1],M=z;M<b;M++){var W=o[M];E[W]=a?m(s[M],f[W][C]):m(f[W][C],s[M]),B[W]=k}for(var U=0;U<d;U++)B[U]===k?A[U][C]=E[U]:A[U][C]=a?m(v,f[U][C]):m(f[U][C],v)}return r.createDenseMatrix({data:A,size:[d,g],datatype:D})}}),cd="matAlgo13xDD",ld=["typed"],hd=ue(cd,ld,e=>{var{typed:t}=e;return function(i,u,a){var f=i._data,l=i._size,h=i._datatype,s=u._data,o=u._size,c=u._datatype,p=[];if(l.length!==o.length)throw new ce(l.length,o.length);for(var _=0;_<l.length;_++){if(l[_]!==o[_])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");p[_]=l[_]}var d,g=a;typeof h=="string"&&h===c&&(d=h,g=t.find(a,[d,d]));var D=p.length>0?n(g,0,p,p[0],f,s):[];return i.createDenseMatrix({data:D,size:p,datatype:d})};function n(r,i,u,a,f,l){var h=[];if(i===u.length-1)for(var s=0;s<a;s++)h[s]=r(f[s],l[s]);else for(var o=0;o<a;o++)h[o]=n(r,i+1,u,u[i+1],f[o],l[o]);return h}}),dd="broadcast",pd=["concat"],Dd=ue(dd,pd,e=>{var{concat:t}=e;return function(i,u){var a=Math.max(i._size.length,u._size.length);if(i._size.length===u._size.length&&i._size.every((_,d)=>_===u._size[d]))return[i,u];for(var f=n(i._size,a,0),l=n(u._size,a,0),h=[],s=0;s<a;s++)h[s]=Math.max(f[s],l[s]);$r(f,h),$r(l,h);var o=i.clone(),c=u.clone();o._size.length<a?o.reshape(n(o._size,a,1)):c._size.length<a&&c.reshape(n(c._size,a,1));for(var p=0;p<a;p++)o._size[p]<h[p]&&(o=r(o,h[p],p)),c._size[p]<h[p]&&(c=r(c,h[p],p));return[o,c]};function n(i,u,a){return[...Array(u-i.length).fill(a),...i]}function r(i,u,a){return t(...Array(u).fill(i),a)}}),gd="matrixAlgorithmSuite",md=["typed","matrix","concat"],Zn=ue(gd,md,e=>{var{typed:t,matrix:n,concat:r}=e,i=hd({typed:t}),u=ad({typed:t}),a=Dd({concat:r});return function(l){var h=l.elop,s=l.SD||l.DS,o;h?(o={"DenseMatrix, DenseMatrix":(d,g)=>i(...a(d,g),h),"Array, Array":(d,g)=>i(...a(n(d),n(g)),h).valueOf(),"Array, DenseMatrix":(d,g)=>i(...a(n(d),g),h),"DenseMatrix, Array":(d,g)=>i(...a(d,n(g)),h)},l.SS&&(o["SparseMatrix, SparseMatrix"]=(d,g)=>l.SS(...a(d,g),h,!1)),l.DS&&(o["DenseMatrix, SparseMatrix"]=(d,g)=>l.DS(...a(d,g),h,!1),o["Array, SparseMatrix"]=(d,g)=>l.DS(...a(n(d),g),h,!1)),s&&(o["SparseMatrix, DenseMatrix"]=(d,g)=>s(...a(g,d),h,!0),o["SparseMatrix, Array"]=(d,g)=>s(...a(n(g),d),h,!0))):(o={"DenseMatrix, DenseMatrix":t.referToSelf(d=>(g,D)=>i(...a(g,D),d)),"Array, Array":t.referToSelf(d=>(g,D)=>i(...a(n(g),n(D)),d).valueOf()),"Array, DenseMatrix":t.referToSelf(d=>(g,D)=>i(...a(n(g),D),d)),"DenseMatrix, Array":t.referToSelf(d=>(g,D)=>i(...a(g,n(D)),d))},l.SS&&(o["SparseMatrix, SparseMatrix"]=t.referToSelf(d=>(g,D)=>l.SS(...a(g,D),d,!1))),l.DS&&(o["DenseMatrix, SparseMatrix"]=t.referToSelf(d=>(g,D)=>l.DS(...a(g,D),d,!1)),o["Array, SparseMatrix"]=t.referToSelf(d=>(g,D)=>l.DS(...a(n(g),D),d,!1))),s&&(o["SparseMatrix, DenseMatrix"]=t.referToSelf(d=>(g,D)=>s(...a(D,g),d,!0)),o["SparseMatrix, Array"]=t.referToSelf(d=>(g,D)=>s(...a(n(D),g),d,!0))));var c=l.scalar||"any",p=l.Ds||l.Ss;p&&(h?(o["DenseMatrix,"+c]=(d,g)=>u(d,g,h,!1),o[c+", DenseMatrix"]=(d,g)=>u(g,d,h,!0),o["Array,"+c]=(d,g)=>u(n(d),g,h,!1).valueOf(),o[c+", Array"]=(d,g)=>u(n(g),d,h,!0).valueOf()):(o["DenseMatrix,"+c]=t.referToSelf(d=>(g,D)=>u(g,D,d,!1)),o[c+", DenseMatrix"]=t.referToSelf(d=>(g,D)=>u(D,g,d,!0)),o["Array,"+c]=t.referToSelf(d=>(g,D)=>u(n(g),D,d,!1).valueOf()),o[c+", Array"]=t.referToSelf(d=>(g,D)=>u(n(D),g,d,!0).valueOf())));var _=l.sS!==void 0?l.sS:l.Ss;return h?(l.Ss&&(o["SparseMatrix,"+c]=(d,g)=>l.Ss(d,g,h,!1)),_&&(o[c+", SparseMatrix"]=(d,g)=>_(g,d,h,!0))):(l.Ss&&(o["SparseMatrix,"+c]=t.referToSelf(d=>(g,D)=>l.Ss(g,D,d,!1))),_&&(o[c+", SparseMatrix"]=t.referToSelf(d=>(g,D)=>_(D,g,d,!0)))),h&&h.signatures&&Yl(o,h.signatures),o}}),vd="matAlgo01xDSid",wd=["typed"],yd=ue(vd,wd,e=>{var{typed:t}=e;return function(r,i,u,a){var f=r._data,l=r._size,h=r._datatype,s=i._values,o=i._index,c=i._ptr,p=i._size,_=i._datatype;if(l.length!==p.length)throw new ce(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=l[0],g=l[1],D=typeof h=="string"&&h===_?h:void 0,v=D?t.find(u,[D,D]):u,m,A,y=[];for(m=0;m<d;m++)y[m]=[];var E=[],B=[];for(A=0;A<g;A++){for(var C=A+1,k=c[A],z=c[A+1],b=k;b<z;b++)m=o[b],E[m]=a?v(s[b],f[m][A]):v(f[m][A],s[b]),B[m]=C;for(m=0;m<d;m++)B[m]===C?y[m][A]=E[m]:y[m][A]=f[m][A]}return r.createDenseMatrix({data:y,size:[d,g],datatype:D})}}),_d="matAlgo04xSidSid",Ad=["typed","equalScalar"],Fd=ue(_d,Ad,e=>{var{typed:t,equalScalar:n}=e;return function(i,u,a){var f=i._values,l=i._index,h=i._ptr,s=i._size,o=i._datatype,c=u._values,p=u._index,_=u._ptr,d=u._size,g=u._datatype;if(s.length!==d.length)throw new ce(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");var D=s[0],v=s[1],m,A=n,y=0,E=a;typeof o=="string"&&o===g&&(m=o,A=t.find(n,[m,m]),y=t.convert(0,m),E=t.find(a,[m,m]));var B=f&&c?[]:void 0,C=[],k=[],z=f&&c?[]:void 0,b=f&&c?[]:void 0,M=[],W=[],U,X,H,te,fe;for(X=0;X<v;X++){k[X]=C.length;var Y=X+1;for(te=h[X],fe=h[X+1],H=te;H<fe;H++)U=l[H],C.push(U),M[U]=Y,z&&(z[U]=f[H]);for(te=_[X],fe=_[X+1],H=te;H<fe;H++)if(U=p[H],M[U]===Y){if(z){var ge=E(z[U],c[H]);A(ge,y)?M[U]=null:z[U]=ge}}else C.push(U),W[U]=Y,b&&(b[U]=c[H]);if(z&&b)for(H=k[X];H<C.length;)U=C[H],M[U]===Y?(B[H]=z[U],H++):W[U]===Y?(B[H]=b[U],H++):C.splice(H,1)}return k[v]=C.length,i.createSparseMatrix({values:B,index:C,ptr:k,size:[D,v],datatype:m})}}),Ed="matAlgo10xSids",bd=["typed","DenseMatrix"],Cd=ue(Ed,bd,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,a,f){var l=i._values,h=i._index,s=i._ptr,o=i._size,c=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=o[0],_=o[1],d,g=a;typeof c=="string"&&(d=c,u=t.convert(u,d),g=t.find(a,[d,d]));for(var D=[],v=[],m=[],A=0;A<_;A++){for(var y=A+1,E=s[A],B=s[A+1],C=E;C<B;C++){var k=h[C];v[k]=l[C],m[k]=y}for(var z=0;z<p;z++)A===0&&(D[z]=[]),m[z]===y?D[z][A]=f?g(u,v[z]):g(v[z],u):D[z][A]=u}return new n({data:D,size:[p,_],datatype:d})}}),Nd="matAlgo07xSSf",Bd=["typed","DenseMatrix"],ai=ue(Nd,Bd,e=>{var{typed:t,DenseMatrix:n}=e;return function(u,a,f){var l=u._size,h=u._datatype,s=a._size,o=a._datatype;if(l.length!==s.length)throw new ce(l.length,s.length);if(l[0]!==s[0]||l[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+s+")");var c=l[0],p=l[1],_,d=0,g=f;typeof h=="string"&&h===o&&(_=h,d=t.convert(0,_),g=t.find(f,[_,_]));var D,v,m=[];for(D=0;D<c;D++)m[D]=[];var A=[],y=[],E=[],B=[];for(v=0;v<p;v++){var C=v+1;for(r(u,v,E,A,C),r(a,v,B,y,C),D=0;D<c;D++){var k=E[D]===C?A[D]:d,z=B[D]===C?y[D]:d;m[D][v]=g(k,z)}}return new n({data:m,size:[c,p],datatype:_})};function r(i,u,a,f,l){for(var h=i._values,s=i._index,o=i._ptr,c=o[u],p=o[u+1];c<p;c++){var _=s[c];a[_]=l,f[_]=h[c]}}}),ao="concat",xd=["typed","matrix","isInteger"],Md=ue(ao,xd,e=>{var{typed:t,matrix:n,isInteger:r}=e;return t(ao,{"...Array | Matrix | number | BigNumber":function(u){var a,f=u.length,l=-1,h,s=!1,o=[];for(a=0;a<f;a++){var c=u[a];if(At(c)&&(s=!0),de(c)||Oe(c)){if(a!==f-1)throw new Error("Dimension must be specified as last argument");if(h=l,l=c.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>h)throw new jt(l,h+1)}else{var p=Me(c).valueOf(),_=kt(p);if(o[a]=p,h=l,l=_.length-1,a>0&&l!==h)throw new ce(h+1,l+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var d=o.shift();o.length;)d=va(d,o.shift(),l);return s?n(d):d},"...string":function(u){return u.join("")}})});function Sd(){throw new Error('No "bignumber" implementation available')}function Td(){throw new Error('No "matrix" implementation available')}var so="range",kd=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Id=ue(so,kd,e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:u,smallerEq:a,larger:f,largerEq:l,add:h,isPositive:s}=e;return t(so,{string:c,"string, boolean":c,"number, number":function(g,D){return o(p(g,D,1,!1))},"number, number, number":function(g,D,v){return o(p(g,D,v,!1))},"number, number, boolean":function(g,D,v){return o(p(g,D,1,v))},"number, number, number, boolean":function(g,D,v,m){return o(p(g,D,v,m))},"BigNumber, BigNumber":function(g,D){var v=g.constructor;return o(p(g,D,new v(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,D,v){return o(p(g,D,v,!1))},"BigNumber, BigNumber, boolean":function(g,D,v){var m=g.constructor;return o(p(g,D,new m(1),v))},"BigNumber, BigNumber, BigNumber, boolean":function(g,D,v,m){return o(p(g,D,v,m))},"Unit, Unit, Unit":function(g,D,v){return o(p(g,D,v,!1))},"Unit, Unit, Unit, boolean":function(g,D,v,m){return o(p(g,D,v,m))}});function o(d){return n.matrix==="Matrix"?r?r(d):Td():d}function c(d,g){var D=_(d);if(!D)throw new SyntaxError('String "'+d+'" is no valid range');return n.number==="BigNumber"?(i===void 0&&Sd(),o(p(i(D.start),i(D.end),i(D.step)))):o(p(D.start,D.end,D.step,g))}function p(d,g,D,v){for(var m=[],A=s(D)?v?a:u:v?l:f,y=d;A(y,g);)m.push(y),y=h(y,D);return m}function _(d){var g=d.split(":"),D=g.map(function(m){return Number(m)}),v=D.some(function(m){return isNaN(m)});if(v)return null;switch(D.length){case 2:return{start:D[0],end:D[1],step:1};case 3:return{start:D[0],end:D[2],step:D[1]};default:return null}}}),Hr="smaller",Od=["typed","config","matrix","DenseMatrix","concat"],Pd=ue(Hr,Od,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=oi({typed:t}),f=ai({typed:t,DenseMatrix:i}),l=ui({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Hr,zd({typed:t,config:n}),{"boolean, boolean":(o,c)=>o<c,"BigNumber, BigNumber":function(c,p){return c.lt(p)&&!Un(c,p,n.epsilon)},"Fraction, Fraction":(o,c)=>o.compare(c)===-1,"Complex, Complex":function(c,p){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:f,DS:a,Ss:l}))}),zd=ue(Hr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Hr,{"number, number":function(i,u){return i<u&&!Ht(i,u,n.epsilon)}})}),Zr="smallerEq",$d=["typed","config","matrix","DenseMatrix","concat"],Rd=ue(Zr,$d,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=oi({typed:t}),f=ai({typed:t,DenseMatrix:i}),l=ui({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Zr,Ld({typed:t,config:n}),{"boolean, boolean":(o,c)=>o<=c,"BigNumber, BigNumber":function(c,p){return c.lte(p)||Un(c,p,n.epsilon)},"Fraction, Fraction":(o,c)=>o.compare(c)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:f,DS:a,Ss:l}))}),Ld=ue(Zr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Zr,{"number, number":function(i,u){return i<=u||Ht(i,u,n.epsilon)}})}),Wr="larger",qd=["typed","config","matrix","DenseMatrix","concat"],Ud=ue(Wr,qd,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=oi({typed:t}),f=ai({typed:t,DenseMatrix:i}),l=ui({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Wr,Hd({typed:t,config:n}),{"boolean, boolean":(o,c)=>o>c,"BigNumber, BigNumber":function(c,p){return c.gt(p)&&!Un(c,p,n.epsilon)},"Fraction, Fraction":(o,c)=>o.compare(c)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:f,DS:a,Ss:l}))}),Hd=ue(Wr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Wr,{"number, number":function(i,u){return i>u&&!Ht(i,u,n.epsilon)}})}),Vr="largerEq",Zd=["typed","config","matrix","DenseMatrix","concat"],Wd=ue(Vr,Zd,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=oi({typed:t}),f=ai({typed:t,DenseMatrix:i}),l=ui({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Vr,Vd({typed:t,config:n}),{"boolean, boolean":(o,c)=>o>=c,"BigNumber, BigNumber":function(c,p){return c.gte(p)||Un(c,p,n.epsilon)},"Fraction, Fraction":(o,c)=>o.compare(c)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:f,DS:a,Ss:l}))}),Vd=ue(Vr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Vr,{"number, number":function(i,u){return i>=u||Ht(i,u,n.epsilon)}})}),fo="add",Xd=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Yd=ue(fo,Xd,e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:u,SparseMatrix:a,concat:f}=e,l=yd({typed:t}),h=Fd({typed:t,equalScalar:i}),s=Cd({typed:t,DenseMatrix:u}),o=Zn({typed:t,matrix:n,concat:f});return t(fo,{"any, any":r,"any, any, ...any":t.referToSelf(c=>(p,_,d)=>{for(var g=c(p,_),D=0;D<d.length;D++)g=c(g,d[D]);return g})},o({elop:r,DS:l,SS:h,Ss:s}))}),Ra=F1({config:Wt}),Jd=N1({}),Gd=S1({}),iu=I1({}),en=z1({Matrix:iu}),et=Ch({BigNumber:Ra,Complex:Jd,DenseMatrix:en,Fraction:Gd}),Kd=nd({typed:et}),Qd=Q1({BigNumber:Ra,typed:et}),La=V1({config:Wt,typed:et}),jd=R1({typed:et}),ep=H1({typed:et}),qa=J1({Matrix:iu,equalScalar:La,typed:et}),Ot=ed({DenseMatrix:en,Matrix:iu,SparseMatrix:qa,typed:et}),Wn=Md({isInteger:jd,matrix:Ot,typed:et}),tp=Wd({DenseMatrix:en,concat:Wn,config:Wt,matrix:Ot,typed:et}),np=Pd({DenseMatrix:en,concat:Wn,config:Wt,matrix:Ot,typed:et}),rp=Yd({DenseMatrix:en,SparseMatrix:qa,addScalar:Kd,concat:Wn,equalScalar:La,matrix:Ot,typed:et}),ip=Ud({DenseMatrix:en,concat:Wn,config:Wt,matrix:Ot,typed:et}),up=Rd({DenseMatrix:en,concat:Wn,config:Wt,matrix:Ot,typed:et}),op=Id({bignumber:Qd,matrix:Ot,add:rp,config:Wt,isPositive:ep,larger:ip,largerEq:tp,smaller:np,smallerEq:up,typed:et});function ap(e){let t,n,r,i,u,a;return{c(){t=Z("label"),n=Z("input"),r=Q(),i=Z("span"),O(n,"type","checkbox"),O(n,"class","svelte-1ds1cs7"),O(i,"class","slider round svelte-1ds1cs7"),O(t,"class","switch svelte-1ds1cs7")},m(f,l){mo(f,t,l),x(t,n),n.checked=e[0],x(t,r),x(t,i),u||(a=De(n,"change",e[1]),u=!0)},p(f,[l]){l&1&&(n.checked=f[0])},i:Sn,o:Sn,d(f){f&&Wi(t),u=!1,a()}}}function sp(e,t,n){let{isChecked:r=!1}=t;function i(){r=this.checked,n(0,r)}return e.$$set=u=>{"isChecked"in u&&n(0,r=u.isChecked)},[r,i]}class fp extends Fo{constructor(t){super(),Ao(this,t,sp,ap,go,{isChecked:0})}}function Fi(e,t,n){return op(e,t,(t-e)/(n-1),!0).toArray()}function cp(e,t,n){if(typeof t>"u"&&(t=e,e=0),typeof n>"u"&&(n=1),n>0&&e>=t||n<0&&e<=t)return[];const r=[];for(let i=e;n>0?i<t:i>t;i+=n)r.push(i);return r}function co(e,t,n){e=e*1e6;const r=24.5,i=(n-r)*(n+r+546);let u,a,f,l,h,s,o;return t==="eray"?(u=4.9048,a=.11775,f=.21802,l=.027153,h=22314e-12,s=-29671e-12,o=21429e-12):t==="oray"&&(u=4.582,a=.09921,f=.2109,l=.02194,h=52716e-12,s=-491431e-13,o=22971e-11),Math.sqrt(u+(a+h*i)/(Math.pow(e,2)-Math.pow(f+s*i,2))+o*i-l*Math.pow(e,2))}function lp(e,t,n=!1){return n&&console.log("n_ppln WL: ",e,"n: ",co(e,"eray",t)),co(e,"eray",t)}function lo(e,t,n,r,i){if(r.length!==i.length)throw new Error("neff and WL must be the same length");return r.map((a,f)=>{const l=i[f],h=2*Math.PI*n*a/l;return Math.pow(1+4*Math.sqrt(e*t)*Math.pow(Math.sin(h),2)/Math.pow(1-Math.sqrt(e*t),2),-1)})}function hp(e,t,n,r,i,u,a=!1){const f=pp(e,t,n,r,i,a);return Math.pow(Math.sin(f*u/2)/(f*u/2),2)}function dp(e,t,n,r){return n(e,r),n(t,r),1/(1/e+1/t)}function pp(e,t,n,r,i,u=!1){const a=n(e,r),f=n(t,r),l=dp(e,t,n,r),h=n(l,r);return 2*Math.PI*(h/l-a/e-f/t-1/i)}function Ua(){const e=cp(19115e10,19615e10,5e10),t=299792458,n=e.map(r=>t*1e9/r);return Math.ceil(n.length/2),n.reverse()}function Er(e,t,n){if(t.length!==n.length)throw new Error("xp and yp must have the same length");if(t.length===1)return Array.isArray(e)?Array(e.length).fill(n[0]):n[0];const r=i=>{for(let u=0;u<t.length-1;u++)if(i>=t[u]&&i<=t[u+1]){const a=(n[u+1]-n[u])/(t[u+1]-t[u]);return n[u]+a*(i-t[u])}return i<t[0]?n[0]:n[n.length-1]};return Array.isArray(e)?e.map(r):r(e)}function Dp(e){this.wl=e.x.map(t=>t*1e-6),this.n=e.y,this.index_function=(t,n,r=!1)=>Er(t,this.wl,this.n)}function gp(e,t){let n=0,r=e.length-1;for(;r-n>1;){let i=Math.floor((n+r)/2);e[i]<t?n=i:r=i}return t-e[n]<=e[r]-t?n:r}function ho(e,t){this.x=e.x,this.y=e.y,this.wl_array=t,this.out_array=Array(t.length).fill(0),console.log("length of out_array: ",this.out_array.length),this.spacing_wl=Ua();const n=.2;for(let r=0;r<this.spacing_wl.length;r++){const i=this.spacing_wl[r],u=this.x.map(l=>l+i),a=this.y,f=gp(this.wl_array,i);this.out_array[f]=Er(t[f],u,a);for(let l=1;l<this.wl_array.length;l++){const h=f-l,s=f+l,o=this.wl_array.length-1;if(s>o||h>o||h<0||s<0||(this.out_array[h]=Er(t[s],u,a),this.out_array[s]=Er(t[s],u,a),t[f]-t[h]>n||t[s]-t[f]>n))break}}console.log("length of out_array: ",this.out_array.length)}function mp(e){let t,n,r,i,u,a,f,l,h,s,o,c,p,_,d,g,D,v,m,A,y,E,B,C,k,z,b,M,W,U,X,H,te,fe,Y,ge,Pt,Ct,Fe,Nt,mt,tn,Bt,ct,ze,zt,V,tt,$e,Te,He,me,Re,lt,Le,Ae,xe,ye,w,F,N,S,$,T,L,R,q,I,j,oe,ne,pe,re,_e,Ze,Ne,xt,Vn,We,Xn,Xt,nn=e[0].WLpumpair+"",_n,Yn,Jn,Ve,rn,Gn,Xe,Kn,Yt,un=e[0].WLSigma+"",An,Qn,jn,Ee,on,er,Ye,tr,vt,nr,rt,rr,Jt,wt=(e[0].L*e[0].L_multiplier).toFixed(4)+"",se,ke,ir,Ue,$t,Je,ur,uu,it,ou,Fn,or=e[0].Texpt+"",si,au,su,ut,ar,fu,ot,cu,sr,fr=e[0].R1+"",fi,lu,at,cr,hu,st,du,lr,hr=e[0].R2+"",ci,pu,li,be,hi,Du;function Ha(G){e[19](G)}let gu={};return e[0].ppktp_checked!==void 0&&(gu.isChecked=e[0].ppktp_checked),ne=new fp({props:gu}),kn.push(()=>is(ne,"isChecked",Ha)),{c(){t=Z("main"),n=Z("canvas"),r=Q(),i=Xa("svg"),u=Q(),a=Z("div"),f=Q(),l=Z("div"),h=Z("div"),s=Z("h4"),s.textContent="Idler",o=Q(),c=Z("div"),p=Z("p"),p.textContent="Start",_=Q(),d=Z("input"),g=Q(),D=Z("div"),v=Z("p"),v.textContent="End",m=Q(),A=Z("input"),y=Q(),E=Z("div"),B=Z("h4"),B.textContent="Signal",C=Q(),k=Z("div"),z=Z("p"),z.textContent="Start",b=Q(),M=Z("input"),W=Q(),U=Z("div"),X=Z("p"),X.textContent="End",H=Q(),te=Z("input"),fe=Q(),Y=Z("div"),ge=Z("h4"),ge.textContent="Resolution",Pt=Q(),Ct=Z("div"),Fe=Z("input"),Nt=Q(),mt=Z("h4"),mt.textContent="Show 2D",tn=Q(),Bt=Z("div"),ct=Z("label"),ze=Z("input"),zt=Q(),V=Z("span"),tt=Q(),$e=Z("div"),Te=Z("label"),He=Ge(`Pump Envelope
      `),me=Z("input"),Re=Q(),lt=Z("span"),Le=Q(),Ae=Z("label"),xe=Ge(`Phase Matching
      `),ye=Z("input"),w=Q(),F=Z("span"),N=Q(),S=Z("label"),$=Ge(`Waveguide
      `),T=Z("input"),L=Q(),R=Z("span"),q=Q(),I=Z("div"),j=Z("p"),j.textContent="PPLN",oe=Q(),us(ne.$$.fragment),re=Q(),_e=Z("p"),_e.textContent="PPKTP",Ze=Q(),Ne=Z("div"),xt=Z("p"),xt.textContent="Pump WL",Vn=Q(),We=Z("input"),Xn=Q(),Xt=Z("p"),_n=Ge(nn),Yn=Ge(" nm"),Jn=Q(),Ve=Z("div"),rn=Z("p"),rn.textContent="Pump Sigma",Gn=Q(),Xe=Z("input"),Kn=Q(),Yt=Z("p"),An=Ge(un),Qn=Ge(" nm"),jn=Q(),Ee=Z("div"),on=Z("p"),on.textContent="Cavity Length",er=Q(),Ye=Z("input"),tr=Q(),vt=Z("p"),vt.textContent="Ã",nr=Q(),rt=Z("input"),rr=Q(),Jt=Z("p"),se=Ge(wt),ke=Ge(" mm"),ir=Q(),Ue=Z("input"),$t=Q(),Je=Z("div"),ur=Z("p"),ur.textContent="Temperature",uu=Q(),it=Z("input"),ou=Q(),Fn=Z("p"),si=Ge(or),au=Ge(" Celsius"),su=Q(),ut=Z("div"),ar=Z("p"),ar.textContent="R1",fu=Q(),ot=Z("input"),cu=Q(),sr=Z("p"),fi=Ge(fr),lu=Q(),at=Z("div"),cr=Z("p"),cr.textContent="R2",hu=Q(),st=Z("input"),du=Q(),lr=Z("p"),ci=Ge(hr),pu=Q(),li=Z("div"),ae(n,"position","absolute"),O(n,"class","svelte-icsbkc"),Ce(n,"hide_canvas",!e[0].show_2d),ae(i,"position","absolute"),ae(i,"left","0"),ae(i,"top","0"),O(a,"id","plot"),O(a,"class","graph_2d svelte-icsbkc"),ae(s,"display","block"),ae(s,"margin","0px 0px"),O(p,"class","wl_label svelte-icsbkc"),O(d,"type","text"),O(c,"class","controls svelte-icsbkc"),O(v,"class","wl_label svelte-icsbkc"),O(A,"type","text"),O(D,"class","controls svelte-icsbkc"),O(h,"class","bbox"),O(h,"style",""),ae(B,"margin","0px 0px"),O(z,"class","wl_label svelte-icsbkc"),O(M,"type","text"),O(k,"class","controls svelte-icsbkc"),O(X,"class","wl_label svelte-icsbkc"),O(te,"type","text"),O(U,"class","controls svelte-icsbkc"),O(E,"class","bbox"),O(E,"style",""),ae(ge,"margin","0px 0px"),O(Fe,"type","text"),O(Fe,"class","svelte-icsbkc"),Ce(Fe,"invalid",Number(e[3])<100||Number(e[3])>1e4),O(Ct,"class","controls svelte-icsbkc"),ae(mt,"margin","0px 0px"),O(ze,"type","checkbox"),O(ze,"class","svelte-icsbkc"),O(V,"class","checkmark svelte-icsbkc"),O(ct,"class","container svelte-icsbkc"),O(Bt,"class","controls svelte-icsbkc"),O(Y,"class","bbox"),ae(Y,"display","flex"),ae(Y,"flex-direction","column"),O(l,"class","checks svelte-icsbkc"),O(me,"type","checkbox"),O(me,"class","svelte-icsbkc"),O(lt,"class","checkmark svelte-icsbkc"),O(Te,"class","container svelte-icsbkc"),O(ye,"type","checkbox"),O(ye,"class","svelte-icsbkc"),O(F,"class","checkmark svelte-icsbkc"),O(Ae,"class","container svelte-icsbkc"),O(T,"type","checkbox"),O(T,"class","svelte-icsbkc"),O(R,"class","checkmark svelte-icsbkc"),O(S,"class","container svelte-icsbkc"),O($e,"class","checks svelte-icsbkc"),O(j,"class","ppln svelte-icsbkc"),Ce(j,"slider-off",e[0].ppktp_checked),O(_e,"class","ppktp svelte-icsbkc"),Ce(_e,"slider-off",!e[0].ppktp_checked),O(I,"class","checks toggle svelte-icsbkc"),O(xt,"class","output svelte-icsbkc"),O(We,"type","range"),O(We,"min","750"),O(We,"max","800"),O(We,"step","0.001"),O(We,"class","slider svelte-icsbkc"),O(We,"id","myRange_1"),O(Xt,"class","output svelte-icsbkc"),O(Ne,"class","slidecontainer svelte-icsbkc"),ae(Ne,"position","relative"),ae(Ne,"top","650px"),Ce(Ne,"slider-off",!e[0].pump_checked),O(rn,"class","output svelte-icsbkc"),O(Xe,"type","range"),O(Xe,"min","0.20"),O(Xe,"max","10"),O(Xe,"step","0.01"),O(Xe,"class","slider svelte-icsbkc"),O(Xe,"id","myRange_1"),O(Yt,"class","output svelte-icsbkc"),O(Ve,"class","slidecontainer svelte-icsbkc"),ae(Ve,"position","relative"),ae(Ve,"top","650px"),Ce(Ve,"slider-off",!e[0].pump_checked),O(on,"class","output svelte-icsbkc"),O(Ye,"type","range"),O(Ye,"min",".995"),O(Ye,"max","1.005"),O(Ye,"step","0.000001"),O(Ye,"class","slider svelte-icsbkc"),O(Ye,"id","myRange_1"),ae(vt,"font-size","1.8rem"),ae(vt,"padding-left","10px"),ae(vt,"padding-right","10px"),ae(vt,"margin","0"),ae(vt,"margin-top","7px"),O(rt,"type","number"),ae(rt,"height","29px"),ae(rt,"width","70px"),ae(rt,"margin-top","12px"),O(Jt,"class","output svelte-icsbkc"),O(Ue,"type","number"),ae(Ue,"height","29px"),ae(Ue,"width","70px"),ae(Ue,"margin-top","12px"),O(Ee,"class","slidecontainer svelte-icsbkc"),ae(Ee,"position","relative"),ae(Ee,"top","650px"),Ce(Ee,"slider-off",!e[0].waveguide_checked),O(ur,"class","output svelte-icsbkc"),O(it,"type","range"),O(it,"min","0"),O(it,"max","200"),O(it,"step","1"),O(it,"class","slider svelte-icsbkc"),O(it,"id","myRange_1"),O(Fn,"class","output svelte-icsbkc"),O(Je,"class","slidecontainer svelte-icsbkc"),ae(Je,"position","relative"),ae(Je,"top","650px"),Ce(Je,"slider-off",!(e[0].waveguide_checked&&!e[0].ppktp_checked)),O(ar,"class","output svelte-icsbkc"),O(ot,"type","range"),O(ot,"min","0"),O(ot,"max","1"),O(ot,"step",".0001"),O(ot,"class","slider svelte-icsbkc"),O(ot,"id","myRange_1"),O(sr,"class","output svelte-icsbkc"),O(ut,"class","slidecontainer svelte-icsbkc"),ae(ut,"position","relative"),ae(ut,"top","650px"),Ce(ut,"slider-off",!e[0].waveguide_checked),O(cr,"class","output svelte-icsbkc"),O(st,"type","range"),O(st,"min","0"),O(st,"max","1"),O(st,"step",".0001"),O(st,"class","slider svelte-icsbkc"),O(st,"id","myRange_1"),O(lr,"class","output svelte-icsbkc"),O(at,"class","slidecontainer svelte-icsbkc"),ae(at,"position","relative"),ae(at,"top","650px"),Ce(at,"slider-off",!e[0].waveguide_checked),O(li,"class","footer svelte-icsbkc")},m(G,ie){mo(G,t,ie),x(t,n),e[7](n),x(t,r),x(t,i),e[8](i),x(t,u),x(t,a),x(t,f),x(t,l),x(l,h),x(h,s),x(h,o),x(h,c),x(c,p),x(c,_),x(c,d),he(d,e[0].start_idler),x(h,g),x(h,D),x(D,v),x(D,m),x(D,A),he(A,e[0].end_idler),x(l,y),x(l,E),x(E,B),x(E,C),x(E,k),x(k,z),x(k,b),x(k,M),he(M,e[0].start_signal),x(E,W),x(E,U),x(U,X),x(U,H),x(U,te),he(te,e[0].end_signal),x(l,fe),x(l,Y),x(Y,ge),x(Y,Pt),x(Y,Ct),x(Ct,Fe),he(Fe,e[3]),x(Y,Nt),x(Y,mt),x(Y,tn),x(Y,Bt),x(Bt,ct),x(ct,ze),ze.checked=e[0].show_2d,x(ct,zt),x(ct,V),x(t,tt),x(t,$e),x($e,Te),x(Te,He),x(Te,me),me.checked=e[0].pump_checked,x(Te,Re),x(Te,lt),x($e,Le),x($e,Ae),x(Ae,xe),x(Ae,ye),ye.checked=e[0].phase_matching_checked,x(Ae,w),x(Ae,F),x($e,N),x($e,S),x(S,$),x(S,T),T.checked=e[0].waveguide_checked,x(S,L),x(S,R),x(t,q),x(t,I),x(I,j),x(I,oe),yo(ne,I,null),x(I,re),x(I,_e),x(t,Ze),x(t,Ne),x(Ne,xt),x(Ne,Vn),x(Ne,We),he(We,e[0].WLpumpair),x(Ne,Xn),x(Ne,Xt),x(Xt,_n),x(Xt,Yn),x(t,Jn),x(t,Ve),x(Ve,rn),x(Ve,Gn),x(Ve,Xe),he(Xe,e[0].WLSigma),x(Ve,Kn),x(Ve,Yt),x(Yt,An),x(Yt,Qn),x(t,jn),x(t,Ee),x(Ee,on),x(Ee,er),x(Ee,Ye),he(Ye,e[0].L),x(Ee,tr),x(Ee,vt),x(Ee,nr),x(Ee,rt),he(rt,e[0].L_multiplier),x(Ee,rr),x(Ee,Jt),x(Jt,se),x(Jt,ke),x(Ee,ir),x(Ee,Ue),he(Ue,e[0].L),x(t,$t),x(t,Je),x(Je,ur),x(Je,uu),x(Je,it),he(it,e[0].Texpt),x(Je,ou),x(Je,Fn),x(Fn,si),x(Fn,au),x(t,su),x(t,ut),x(ut,ar),x(ut,fu),x(ut,ot),he(ot,e[0].R1),x(ut,cu),x(ut,sr),x(sr,fi),x(t,lu),x(t,at),x(at,cr),x(at,hu),x(at,st),he(st,e[0].R2),x(at,du),x(at,lr),x(lr,ci),x(t,pu),x(t,li),be=!0,hi||(Du=[De(d,"input",e[9]),De(A,"input",e[10]),De(M,"input",e[11]),De(te,"input",e[12]),De(Fe,"input",e[13]),De(Fe,"input",e[14]),De(ze,"change",e[15]),De(me,"change",e[16]),De(ye,"change",e[17]),De(T,"change",e[18]),De(We,"change",e[20]),De(We,"input",e[20]),De(Xe,"change",e[21]),De(Xe,"input",e[21]),De(Ye,"change",e[22]),De(Ye,"input",e[22]),De(rt,"input",e[23]),De(Ue,"input",e[24]),De(it,"change",e[25]),De(it,"input",e[25]),De(ot,"change",e[26]),De(ot,"input",e[26]),De(st,"change",e[27]),De(st,"input",e[27])],hi=!0)},p(G,ie){(!be||ie[0]&1)&&Ce(n,"hide_canvas",!G[0].show_2d),ie[0]&1&&d.value!==G[0].start_idler&&he(d,G[0].start_idler),ie[0]&1&&A.value!==G[0].end_idler&&he(A,G[0].end_idler),ie[0]&1&&M.value!==G[0].start_signal&&he(M,G[0].start_signal),ie[0]&1&&te.value!==G[0].end_signal&&he(te,G[0].end_signal),ie[0]&8&&Fe.value!==G[3]&&he(Fe,G[3]),(!be||ie[0]&8)&&Ce(Fe,"invalid",Number(G[3])<100||Number(G[3])>1e4),ie[0]&1&&(ze.checked=G[0].show_2d),ie[0]&1&&(me.checked=G[0].pump_checked),ie[0]&1&&(ye.checked=G[0].phase_matching_checked),ie[0]&1&&(T.checked=G[0].waveguide_checked),(!be||ie[0]&1)&&Ce(j,"slider-off",G[0].ppktp_checked);const mu={};!pe&&ie[0]&1&&(pe=!0,mu.isChecked=G[0].ppktp_checked,ja(()=>pe=!1)),ne.$set(mu),(!be||ie[0]&1)&&Ce(_e,"slider-off",!G[0].ppktp_checked),ie[0]&1&&he(We,G[0].WLpumpair),(!be||ie[0]&1)&&nn!==(nn=G[0].WLpumpair+"")&&an(_n,nn),(!be||ie[0]&1)&&Ce(Ne,"slider-off",!G[0].pump_checked),ie[0]&1&&he(Xe,G[0].WLSigma),(!be||ie[0]&1)&&un!==(un=G[0].WLSigma+"")&&an(An,un),(!be||ie[0]&1)&&Ce(Ve,"slider-off",!G[0].pump_checked),ie[0]&1&&he(Ye,G[0].L),ie[0]&1&&yt(rt.value)!==G[0].L_multiplier&&he(rt,G[0].L_multiplier),(!be||ie[0]&1)&&wt!==(wt=(G[0].L*G[0].L_multiplier).toFixed(4)+"")&&an(se,wt),ie[0]&1&&yt(Ue.value)!==G[0].L&&he(Ue,G[0].L),(!be||ie[0]&1)&&Ce(Ee,"slider-off",!G[0].waveguide_checked),ie[0]&1&&he(it,G[0].Texpt),(!be||ie[0]&1)&&or!==(or=G[0].Texpt+"")&&an(si,or),(!be||ie[0]&1)&&Ce(Je,"slider-off",!(G[0].waveguide_checked&&!G[0].ppktp_checked)),ie[0]&1&&he(ot,G[0].R1),(!be||ie[0]&1)&&fr!==(fr=G[0].R1+"")&&an(fi,fr),(!be||ie[0]&1)&&Ce(ut,"slider-off",!G[0].waveguide_checked),ie[0]&1&&he(st,G[0].R2),(!be||ie[0]&1)&&hr!==(hr=G[0].R2+"")&&an(ci,hr),(!be||ie[0]&1)&&Ce(at,"slider-off",!G[0].waveguide_checked)},i(G){be||(wo(ne.$$.fragment,G),be=!0)},o(G){rs(ne.$$.fragment,G),be=!1},d(G){G&&Wi(t),e[7](null),e[8](null),_o(ne),hi=!1,Rn(Du)}}}function vp(e,t,n){let r,i,u,a,f=!1,l,h,s,o,c,p=!0,_={},d=!1,g,D,v,m,A;const y={show_2d:!0,c:299792458,WLpumpair:774.1,numWLs:501,BW:1e-8,WLSigma:.815,L:1,L_multiplier:1.708,R1:.85,R2:.1,Texpt:128.25,pump_checked:!1,phase_matching_checked:!0,waveguide_checked:!1,ppktp_checked:!0,start_idler:1548.51,end_idler:1568.36,start_signal:1528.77,end_signal:1548.11,polling_period:1/28380},E=Ua();y.WLpumpair*1e-9*2;function B(V,tt){var T;const $e=2*Math.PI*V.c/(2*V.WLpumpair*1e-9);if(V.WLpumpair*1e-9*2,isNaN(V.L_multiplier))return 1;const Te=V.WLSigma*1e-9,He=V.L*.001*V.L_multiplier,me=Fi(V.start_signal*1e-9,V.end_signal*1e-9,V.numWLs),Re=Fi(V.start_idler*1e-9,V.end_idler*1e-9,V.numWLs);let lt=new Array(me.length).fill(1),Le=new Array(me.length).fill(1);V.ppktp_checked?D=A.index_function:D=lp,lt=me.map(L=>D(L,V.Texpt)),Le=Re.map(L=>D(L,V.Texpt));const Ae=lo(V.R1,V.R2,He,lt,me),xe=lo(V.R1,V.R2,He,Le,Re),ye=me.map(L=>2*Math.PI*V.c/L);let w=Re.map(L=>2*Math.PI*V.c/L);Ot(ye),Ot(w);const F=Te*V.c/(2*V.WLpumpair*1e-9)**2,N=Fi(500,3500,501),S=N.map(L=>D(L*1e-9,V.Texpt,!1));if((T=l==null?void 0:l.data)!=null&&T.x&&!tt&&l.data.x.length==V.numWLs&&p==V.show_2d){const L=v.out_array.map((q,I)=>q*xe[I]),R=m.out_array.map((q,I)=>q*Ae[I]);o.data.x=N,o.data.y=S,l.data.y=Ae,h.data.y=xe,s.data.y_idler_airy=L,s.data.y_signal_airy=R,s.data.asignal=Ae,s.data.aidler=xe,s.change.emit(),l.change.emit(),h.change.emit(),o.change.emit()}else{v=new ho(g,Re.map(re=>re*1e9)),m=new ho(g,me.map(re=>re*1e9));const L=v.out_array.map((re,_e)=>re*xe[_e]),R=m.out_array.map((re,_e)=>re*Ae[_e]);if(!V.show_2d){const re=Array(w.length).fill(1);c=Array(ye.length).fill(re)}p=V.show_2d,l=new Bokeh.ColumnDataSource({data:{x:me.map(re=>re*1e9),y:Ae}}),h=new Bokeh.ColumnDataSource({data:{x:Re.map(re=>re*1e9),y:xe}}),s=new Bokeh.ColumnDataSource({data:{x_idler:Re.map(re=>re*1e9),x_signal:me.map(re=>re*1e9),y_idler:v.out_array,y_signal:m.out_array,y_idler_airy:L,y_signal_airy:R,asignal:Ae,aidler:xe}}),o=new Bokeh.ColumnDataSource({data:{x:N,y:S}});const q=[E[0],E[E.length-1]],I=new Bokeh.Plotting.figure({tools:"xwheel_zoom, xpan, reset",active_drag:"xwheel_zoom",sizing_mode:"stretch_width",height:250,x_range:q,y_range:[0,ws(Ae)],output_backend:"webgl"}),j=new Bokeh.Plotting.figure({tools:"xwheel_zoom, xpan, reset",active_drag:"xwheel_zoom",sizing_mode:"stretch_width",height:250,x_range:q,y_range:[0,1],output_backend:"webgl"}),oe=new Bokeh.Plotting.figure({height:300,x_range:[500,3500],y_range:[1.65,1.825]});I.toolbar.logo=null,I.line({field:"x"},{field:"y"},{source:l,line_width:3,line_color:"#333333"}),I.line({field:"x"},{field:"y"},{source:h,line_width:3,line_color:"#330033"}),j.line({field:"x_idler"},{field:"y_idler"},{line_width:3,line_alpha:.3,source:s,line_color:"#333333"}),j.line({field:"x_signal"},{field:"y_signal"},{line_width:3,line_alpha:.3,source:s,line_color:"#FF3333"}),j.line({field:"x_signal"},{field:"y_signal_airy"},{line_width:3,source:s,line_color:"#3333FF"}),j.line({field:"x_idler"},{field:"y_idler_airy"},{line_width:3,source:s,line_color:"#33FF33"}),j.line({field:"x_signal"},{field:"asignal"},{line_width:3,line_alpha:.3,source:s,line_color:"#333333"}),j.line({field:"x_idler"},{field:"aidler"},{line_width:3,line_alpha:.3,source:s,line_color:"#333333"}),oe.line({field:"x"},{field:"y"},{source:o,line_width:3,line_color:"#333333"});const ne=new Bokeh.Document;ne.add_root(I),ne.add_root(j),ne.add_root(oe);const pe=document.getElementById("plot");if(pe)for(;pe.firstChild;)pe.firstChild.remove();Bokeh.embed.add_document_standalone(ne,pe)}w=w.reverse();let $=V.show_2d?ye.map((L,R)=>w.map((q,I)=>{let j=!1;R==100&&I==401&&(j=!0),R==400&&I==101&&(j=!0);const oe=V.waveguide_checked?xe[I]*Ae[R]:1,ne=V.pump_checked?Math.exp(-Math.pow(L+q-2*$e,2)/(2*Math.pow(F,2))):1,pe=V.phase_matching_checked?hp(2*Math.PI*V.c/q,2*Math.PI*V.c/L,D,V.Texpt,V.polling_period,He,j):1;return oe*ne*pe})):c;V.show_2d?(n(1,r.style.opacity=1,r),C($,1*(501/V.numWLs),ra(vl))):n(1,r.style.opacity=.2,r)}Ga(async()=>{const V=await fetch("./50_GHz_spectrum.json");n(6,g=await V.json());const tt=await fetch("./ppKTP_n.json").then(Re=>Re.json());A=new Dp(tt),B(y,!0);const $e=Cs(zi().domain([y.start_signal,y.end_signal]).range([0,u])),Te=Ns(zi().domain([y.start_idler,y.end_idler]).range([a,0])),He=Au(i).append("g").attr("transform",`translate(100,${100+a})`).call($e),me=Au(i).append("g").attr("transform","translate(100,100)").call(Te);He.append("text").attr("class","axis-label").attr("x",u/2).attr("y",40).style("text-anchor","middle").style("fill","black").text("Signal (nm)"),me.append("text").attr("class","axis-label").attr("x",-a/2).attr("y",-60).attr("transform","rotate(-90)").style("text-anchor","middle").style("fill","black").text("Idler (nm)"),i.setAttribute("width",`${u+200}px`),i.setAttribute("height",`${a+200}px`),n(4,f=!0)});function C(V,tt,$e){const Te=[].concat.apply([],V),[He,me]=ds(Te),Re=ye=>{const w=me-He;return Math.abs(w)<Number.EPSILON?ye:(ye-He)/w},lt=ye=>$e(Re(ye)),Le={x:V[0].length,y:V.length},Ae=r.getContext("2d");d||(d=!0,n(1,r.style.top="100px",r),n(1,r.style.left="100px",r),n(1,r.style.opacity=1,r),n(1,r.style.imageRendering="pixelated",r)),n(1,r.width=Le.x,r),n(1,r.height=Le.y,r),u=Le.x*tt,a=Le.y*tt,n(1,r.style.width=`${Le.x*tt}px`,r),n(1,r.style.height=`${Le.y*tt}px`,r);const xe=Ae.createImageData(Le.x,Le.y);Te.forEach((ye,w)=>{let F=isNaN(ye)?{r:0,g:0,b:0}:Ut(lt(ye));xe.data[w*4]=F.r,xe.data[w*4+1]=F.g,xe.data[w*4+2]=F.b,xe.data[w*4+3]=255}),Ae.putImageData(xe,0,0)}let k="501";function z(V){kn[V?"unshift":"push"](()=>{r=V,n(1,r)})}function b(V){kn[V?"unshift":"push"](()=>{i=V,n(2,i)})}function M(){y.start_idler=this.value,n(0,y)}function W(){y.end_idler=this.value,n(0,y)}function U(){y.start_signal=this.value,n(0,y)}function X(){y.end_signal=this.value,n(0,y)}function H(){k=this.value,n(3,k)}const te=V=>{Number(V.target.value)>100&&Number(V.target.value)<1e4&&n(0,y.numWLs=V.target.value,y),Number(V.target.value)>2e3&&(n(0,y.numWLs=V.target.value,y),n(0,y.show_2d=!1,y))};function fe(){y.show_2d=this.checked,n(0,y)}function Y(){y.pump_checked=this.checked,n(0,y)}function ge(){y.phase_matching_checked=this.checked,n(0,y)}function Pt(){y.waveguide_checked=this.checked,n(0,y)}function Ct(V){e.$$.not_equal(y.ppktp_checked,V)&&(y.ppktp_checked=V,n(0,y))}function Fe(){y.WLpumpair=yt(this.value),n(0,y)}function Nt(){y.WLSigma=yt(this.value),n(0,y)}function mt(){y.L=yt(this.value),n(0,y)}function tn(){y.L_multiplier=yt(this.value),n(0,y)}function Bt(){y.L=yt(this.value),n(0,y)}function ct(){y.Texpt=yt(this.value),n(0,y)}function ze(){y.R1=yt(this.value),n(0,y)}function zt(){y.R2=yt(this.value),n(0,y)}return e.$$.update=()=>{e.$$.dirty[0]&113&&f&&g&&JSON.stringify(y)!==JSON.stringify(_)&&(n(5,_={...y}),B(y,!1))},[y,r,i,k,f,_,g,z,b,M,W,U,X,H,te,fe,Y,ge,Pt,Ct,Fe,Nt,mt,tn,Bt,ct,ze,zt]}class wp extends Fo{constructor(t){super(),Ao(this,t,vp,mp,go,{},null,[-1,-1])}}new wp({target:document.getElementById("app")});
