var qa=Object.defineProperty;var Ua=(e,t,n)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hi=(e,t,n)=>(Ua(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();function Sn(){}function lo(e){return e()}function mu(){return Object.create(null)}function Rn(e){e.forEach(lo)}function ho(e){return typeof e=="function"}function po(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ha(e){return Object.keys(e).length===0}function x(e,t){e.appendChild(t)}function Do(e,t,n){e.insertBefore(t,n||null)}function Zi(e){e.parentNode&&e.parentNode.removeChild(e)}function W(e){return document.createElement(e)}function Za(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ke(e){return document.createTextNode(e)}function Q(){return Ke(" ")}function de(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function At(e){return e===""?null:+e}function Wa(e){return Array.from(e.childNodes)}function an(e,t){t=""+t,e.data!==t&&(e.data=t)}function le(e,t){e.value=t??""}function ie(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function _e(e,t,n){e.classList.toggle(t,!!n)}let Tn;function xn(e){Tn=e}function Va(){if(!Tn)throw new Error("Function called outside component initialization");return Tn}function Xa(e){Va().$$.on_mount.push(e)}const cn=[],In=[];let hn=[];const Ei=[],Ya=Promise.resolve();let Fi=!1;function Ja(){Fi||(Fi=!0,Ya.then(go))}function Ci(e){hn.push(e)}function Ga(e){Ei.push(e)}const di=new Set;let sn=0;function go(){if(sn!==0)return;const e=Tn;do{try{for(;sn<cn.length;){const t=cn[sn];sn++,xn(t),Ka(t.$$)}}catch(t){throw cn.length=0,sn=0,t}for(xn(null),cn.length=0,sn=0;In.length;)In.pop()();for(let t=0;t<hn.length;t+=1){const n=hn[t];di.has(n)||(di.add(n),n())}hn.length=0}while(cn.length);for(;Ei.length;)Ei.pop()();Fi=!1,di.clear(),xn(e)}function Ka(e){if(e.fragment!==null){e.update(),Rn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ci)}}function Qa(e){const t=[],n=[];hn.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),hn=t}const vr=new Set;let ja;function mo(e,t){e&&e.i&&(vr.delete(e),e.i(t))}function es(e,t,n,r){if(e&&e.o){if(vr.has(e))return;vr.add(e),ja.c.push(()=>{vr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ts(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ns(e){e&&e.c()}function vo(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),Ci(()=>{const u=e.$$.on_mount.map(lo).filter(ho);e.$$.on_destroy?e.$$.on_destroy.push(...u):Rn(u),e.$$.on_mount=[]}),i.forEach(Ci)}function wo(e,t){const n=e.$$;n.fragment!==null&&(Qa(n.after_update),Rn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function rs(e,t){e.$$.dirty[0]===-1&&(cn.push(e),Ja(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function yo(e,t,n,r,i,u,a=null,c=[-1]){const l=Tn;xn(e);const h=e.$$={fragment:null,ctx:[],props:u,update:Sn,not_equal:i,bound:mu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:mu(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};a&&a(h.root);let s=!1;if(h.ctx=n?n(e,t.props||{},(o,f,...p)=>{const y=p.length?p[0]:f;return h.ctx&&i(h.ctx[o],h.ctx[o]=y)&&(!h.skip_bound&&h.bound[o]&&h.bound[o](y),s&&rs(e,o)),f}):[],h.update(),s=!0,Rn(h.before_update),h.fragment=r?r(h.ctx):!1,t.target){if(t.hydrate){const o=Wa(t.target);h.fragment&&h.fragment.l(o),o.forEach(Zi)}else h.fragment&&h.fragment.c();t.intro&&mo(e.$$.fragment),vo(e,t.target,t.anchor),go()}xn(l)}class Ao{constructor(){hi(this,"$$");hi(this,"$$set")}$destroy(){wo(this,1),this.$destroy=Sn}$on(t,n){if(!ho(n))return Sn;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Ha(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const is="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(is);function wr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function us(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _o(e){let t,n,r;e.length!==2?(t=wr,n=(c,l)=>wr(e(c),l),r=(c,l)=>e(c)-l):(t=e===wr||e===us?e:os,n=e,r=e);function i(c,l,h=0,s=c.length){if(h<s){if(t(l,l)!==0)return s;do{const o=h+s>>>1;n(c[o],l)<0?h=o+1:s=o}while(h<s)}return h}function u(c,l,h=0,s=c.length){if(h<s){if(t(l,l)!==0)return s;do{const o=h+s>>>1;n(c[o],l)<=0?h=o+1:s=o}while(h<s)}return h}function a(c,l,h=0,s=c.length){const o=i(c,l,h,s-1);return o>h&&r(c[o-1],l)>-r(c[o],l)?o-1:o}return{left:i,center:a,right:u}}function os(){return 0}function as(e){return e===null?NaN:+e}const ss=_o(wr),fs=ss.right;_o(as).center;function cs(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let u of e)(u=t(u,++i,e))!=null&&(n===void 0?u>=u&&(n=r=u):(n>u&&(n=u),r<u&&(r=u)))}return[n,r]}const ls=Math.sqrt(50),hs=Math.sqrt(10),ds=Math.sqrt(2);function Fr(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),u=r/Math.pow(10,i),a=u>=ls?10:u>=hs?5:u>=ds?2:1;let c,l,h;return i<0?(h=Math.pow(10,-i)/a,c=Math.round(e*h),l=Math.round(t*h),c/h<e&&++c,l/h>t&&--l,h=-h):(h=Math.pow(10,i)*a,c=Math.round(e/h),l=Math.round(t/h),c*h<e&&++c,l*h>t&&--l),l<c&&.5<=n&&n<2?Fr(e,t,n*2):[c,l,h]}function ps(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,u,a]=r?Fr(t,e,n):Fr(e,t,n);if(!(u>=i))return[];const c=u-i+1,l=new Array(c);if(r)if(a<0)for(let h=0;h<c;++h)l[h]=(u-h)/-a;else for(let h=0;h<c;++h)l[h]=(u-h)*a;else if(a<0)for(let h=0;h<c;++h)l[h]=(i+h)/-a;else for(let h=0;h<c;++h)l[h]=(i+h)*a;return l}function bi(e,t,n){return t=+t,e=+e,n=+n,Fr(e,t,n)[2]}function Ds(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bi(t,e,n):bi(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function gs(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ms(e){return e}var pi=1,Di=2,Ni=3,Cn=4,vu=1e-6;function vs(e){return"translate("+e+",0)"}function ws(e){return"translate(0,"+e+")"}function ys(e){return t=>+e(t)}function As(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function _s(){return!this.__axis}function Eo(e,t){var n=[],r=null,i=null,u=6,a=6,c=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===pi||e===Cn?-1:1,s=e===Cn||e===Di?"x":"y",o=e===pi||e===Ni?vs:ws;function f(p){var y=r??(t.ticks?t.ticks.apply(t,n):t.domain()),d=i??(t.tickFormat?t.tickFormat.apply(t,n):ms),m=Math.max(u,0)+c,D=t.range(),v=+D[0]+l,g=+D[D.length-1]+l,A=(t.bandwidth?As:ys)(t.copy(),l),_=p.selection?p.selection():p,F=_.selectAll(".domain").data([null]),N=_.selectAll(".tick").data(y,t).order(),b=N.exit(),O=N.enter().append("g").attr("class","tick"),$=N.select("line"),C=N.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(O),$=$.merge(O.append("line").attr("stroke","currentColor").attr(s+"2",h*u)),C=C.merge(O.append("text").attr("fill","currentColor").attr(s,h*m).attr("dy",e===pi?"0em":e===Ni?"0.71em":"0.32em")),p!==_&&(F=F.transition(p),N=N.transition(p),$=$.transition(p),C=C.transition(p),b=b.transition(p).attr("opacity",vu).attr("transform",function(M){return isFinite(M=A(M))?o(M+l):this.getAttribute("transform")}),O.attr("opacity",vu).attr("transform",function(M){var V=this.parentNode.__axis;return o((V&&isFinite(V=V(M))?V:A(M))+l)})),b.remove(),F.attr("d",e===Cn||e===Di?a?"M"+h*a+","+v+"H"+l+"V"+g+"H"+h*a:"M"+l+","+v+"V"+g:a?"M"+v+","+h*a+"V"+l+"H"+g+"V"+h*a:"M"+v+","+l+"H"+g),N.attr("opacity",1).attr("transform",function(M){return o(A(M)+l)}),$.attr(s+"2",h*u),C.attr(s,h*m).text(d),_.filter(_s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Di?"start":e===Cn?"end":"middle"),_.each(function(){this.__axis=A})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(u=a=+p,f):u},f.tickSizeInner=function(p){return arguments.length?(u=+p,f):u},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(c=+p,f):c},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function Es(e){return Eo(Ni,e)}function Fs(e){return Eo(Cn,e)}var Cs={value:()=>{}};function Fo(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yr(n)}function yr(e){this._=e}function bs(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yr.prototype=Fo.prototype={constructor:yr,on:function(e,t){var n=this._,r=bs(e+"",n),i,u=-1,a=r.length;if(arguments.length<2){for(;++u<a;)if((i=(e=r[u]).type)&&(i=Ns(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<a;)if(i=(e=r[u]).type)n[i]=wu(n[i],e.name,t);else if(t==null)for(i in n)n[i]=wu(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new yr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,u;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],r=0,i=u.length;r<i;++r)u[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,u=r.length;i<u;++i)r[i].value.apply(t,n)}};function Ns(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function wu(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Cs,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Bi="http://www.w3.org/1999/xhtml";const yu={svg:"http://www.w3.org/2000/svg",xhtml:Bi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yu.hasOwnProperty(t)?{space:yu[t],local:e}:e}function Bs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bi&&t.documentElement.namespaceURI===Bi?t.createElement(e):t.createElementNS(n,e)}}function xs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Co(e){var t=Vr(e);return(t.local?xs:Bs)(t)}function Ms(){}function Wi(e){return e==null?Ms:function(){return this.querySelector(e)}}function Ss(e){typeof e!="function"&&(e=Wi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u=t[i],a=u.length,c=r[i]=new Array(a),l,h,s=0;s<a;++s)(l=u[s])&&(h=e.call(l,l.__data__,s,u))&&("__data__"in l&&(h.__data__=l.__data__),c[s]=h);return new nt(r,this._parents)}function Ts(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Is(){return[]}function bo(e){return e==null?Is:function(){return this.querySelectorAll(e)}}function Os(e){return function(){return Ts(e.apply(this,arguments))}}function ks(e){typeof e=="function"?e=Os(e):e=bo(e);for(var t=this._groups,n=t.length,r=[],i=[],u=0;u<n;++u)for(var a=t[u],c=a.length,l,h=0;h<c;++h)(l=a[h])&&(r.push(e.call(l,l.__data__,h,a)),i.push(l));return new nt(r,i)}function No(e){return function(){return this.matches(e)}}function Bo(e){return function(t){return t.matches(e)}}var Ps=Array.prototype.find;function zs(e){return function(){return Ps.call(this.children,e)}}function $s(){return this.firstElementChild}function Rs(e){return this.select(e==null?$s:zs(typeof e=="function"?e:Bo(e)))}var Ls=Array.prototype.filter;function qs(){return Array.from(this.children)}function Us(e){return function(){return Ls.call(this.children,e)}}function Hs(e){return this.selectAll(e==null?qs:Us(typeof e=="function"?e:Bo(e)))}function Zs(e){typeof e!="function"&&(e=No(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u=t[i],a=u.length,c=r[i]=[],l,h=0;h<a;++h)(l=u[h])&&e.call(l,l.__data__,h,u)&&c.push(l);return new nt(r,this._parents)}function xo(e){return new Array(e.length)}function Ws(){return new nt(this._enter||this._groups.map(xo),this._parents)}function Cr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cr.prototype={constructor:Cr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vs(e){return function(){return e}}function Xs(e,t,n,r,i,u){for(var a=0,c,l=t.length,h=u.length;a<h;++a)(c=t[a])?(c.__data__=u[a],r[a]=c):n[a]=new Cr(e,u[a]);for(;a<l;++a)(c=t[a])&&(i[a]=c)}function Ys(e,t,n,r,i,u,a){var c,l,h=new Map,s=t.length,o=u.length,f=new Array(s),p;for(c=0;c<s;++c)(l=t[c])&&(f[c]=p=a.call(l,l.__data__,c,t)+"",h.has(p)?i[c]=l:h.set(p,l));for(c=0;c<o;++c)p=a.call(e,u[c],c,u)+"",(l=h.get(p))?(r[c]=l,l.__data__=u[c],h.delete(p)):n[c]=new Cr(e,u[c]);for(c=0;c<s;++c)(l=t[c])&&h.get(f[c])===l&&(i[c]=l)}function Js(e){return e.__data__}function Gs(e,t){if(!arguments.length)return Array.from(this,Js);var n=t?Ys:Xs,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vs(e));for(var u=i.length,a=new Array(u),c=new Array(u),l=new Array(u),h=0;h<u;++h){var s=r[h],o=i[h],f=o.length,p=Ks(e.call(s,s&&s.__data__,h,r)),y=p.length,d=c[h]=new Array(y),m=a[h]=new Array(y),D=l[h]=new Array(f);n(s,o,d,m,D,p,t);for(var v=0,g=0,A,_;v<y;++v)if(A=d[v]){for(v>=g&&(g=v+1);!(_=m[g])&&++g<y;);A._next=_||null}}return a=new nt(a,r),a._enter=c,a._exit=l,a}function Ks(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qs(){return new nt(this._exit||this._groups.map(xo),this._parents)}function js(e,t,n){var r=this.enter(),i=this,u=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?u.remove():n(u),r&&i?r.merge(i).order():i}function ef(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,u=r.length,a=Math.min(i,u),c=new Array(i),l=0;l<a;++l)for(var h=n[l],s=r[l],o=h.length,f=c[l]=new Array(o),p,y=0;y<o;++y)(p=h[y]||s[y])&&(f[y]=p);for(;l<i;++l)c[l]=n[l];return new nt(c,this._parents)}function tf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,u=r[i],a;--i>=0;)(a=r[i])&&(u&&a.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(a,u),u=a);return this}function nf(e){e||(e=rf);function t(o,f){return o&&f?e(o.__data__,f.__data__):!o-!f}for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u){for(var a=n[u],c=a.length,l=i[u]=new Array(c),h,s=0;s<c;++s)(h=a[s])&&(l[s]=h);l.sort(t)}return new nt(i,this._parents).order()}function rf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function of(){return Array.from(this)}function af(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,u=r.length;i<u;++i){var a=r[i];if(a)return a}return null}function sf(){let e=0;for(const t of this)++e;return e}function ff(){return!this.node()}function cf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],u=0,a=i.length,c;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i);return this}function lf(e){return function(){this.removeAttribute(e)}}function hf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function df(e,t){return function(){this.setAttribute(e,t)}}function pf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Df(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mf(e,t){var n=Vr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hf:lf:typeof t=="function"?n.local?gf:Df:n.local?pf:df)(n,t))}function Mo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vf(e){return function(){this.style.removeProperty(e)}}function wf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yf(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Af(e,t,n){return arguments.length>1?this.each((t==null?vf:typeof t=="function"?yf:wf)(e,t,n??"")):Dn(this.node(),e)}function Dn(e,t){return e.style.getPropertyValue(t)||Mo(e).getComputedStyle(e,null).getPropertyValue(t)}function _f(e){return function(){delete this[e]}}function Ef(e,t){return function(){this[e]=t}}function Ff(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Cf(e,t){return arguments.length>1?this.each((t==null?_f:typeof t=="function"?Ff:Ef)(e,t)):this.node()[e]}function So(e){return e.trim().split(/^|\s+/)}function Vi(e){return e.classList||new To(e)}function To(e){this._node=e,this._names=So(e.getAttribute("class")||"")}To.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Io(e,t){for(var n=Vi(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Oo(e,t){for(var n=Vi(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bf(e){return function(){Io(this,e)}}function Nf(e){return function(){Oo(this,e)}}function Bf(e,t){return function(){(t.apply(this,arguments)?Io:Oo)(this,e)}}function xf(e,t){var n=So(e+"");if(arguments.length<2){for(var r=Vi(this.node()),i=-1,u=n.length;++i<u;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Bf:t?bf:Nf)(n,t))}function Mf(){this.textContent=""}function Sf(e){return function(){this.textContent=e}}function Tf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function If(e){return arguments.length?this.each(e==null?Mf:(typeof e=="function"?Tf:Sf)(e)):this.node().textContent}function Of(){this.innerHTML=""}function kf(e){return function(){this.innerHTML=e}}function Pf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zf(e){return arguments.length?this.each(e==null?Of:(typeof e=="function"?Pf:kf)(e)):this.node().innerHTML}function $f(){this.nextSibling&&this.parentNode.appendChild(this)}function Rf(){return this.each($f)}function Lf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qf(){return this.each(Lf)}function Uf(e){var t=typeof e=="function"?e:Co(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Hf(){return null}function Zf(e,t){var n=typeof e=="function"?e:Co(e),r=t==null?Hf:typeof t=="function"?t:Wi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Wf(){var e=this.parentNode;e&&e.removeChild(this)}function Vf(){return this.each(Wf)}function Xf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jf(e){return this.select(e?Yf:Xf)}function Gf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Kf(e){return function(t){e.call(this,t,this.__data__)}}function Qf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,u;n<i;++n)u=t[n],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++r]=u;++r?t.length=r:delete this.__on}}}function e0(e,t,n){return function(){var r=this.__on,i,u=Kf(t);if(r){for(var a=0,c=r.length;a<c;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=n),i.value=t;return}}this.addEventListener(e.type,u,n),i={type:e.type,name:e.name,value:t,listener:u,options:n},r?r.push(i):this.__on=[i]}}function t0(e,t,n){var r=Qf(e+""),i,u=r.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,h=c.length,s;l<h;++l)for(i=0,s=c[l];i<u;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(c=t?e0:jf,i=0;i<u;++i)this.each(c(r[i],t,n));return this}function ko(e,t,n){var r=Mo(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function n0(e,t){return function(){return ko(this,e,t)}}function r0(e,t){return function(){return ko(this,e,t.apply(this,arguments))}}function i0(e,t){return this.each((typeof t=="function"?r0:n0)(e,t))}function*u0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,u=r.length,a;i<u;++i)(a=r[i])&&(yield a)}var Po=[null];function nt(e,t){this._groups=e,this._parents=t}function Ln(){return new nt([[document.documentElement]],Po)}function o0(){return this}nt.prototype=Ln.prototype={constructor:nt,select:Ss,selectAll:ks,selectChild:Rs,selectChildren:Hs,filter:Zs,data:Gs,enter:Ws,exit:Qs,join:js,merge:ef,selection:o0,order:tf,sort:nf,call:uf,nodes:of,node:af,size:sf,empty:ff,each:cf,attr:mf,style:Af,property:Cf,classed:xf,text:If,html:zf,raise:Rf,lower:qf,append:Uf,insert:Zf,remove:Vf,clone:Jf,datum:Gf,on:t0,dispatch:i0,[Symbol.iterator]:u0};function Au(e){return typeof e=="string"?new nt([[document.querySelector(e)]],[document.documentElement]):new nt([[e]],Po)}function Xi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zo(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qn(){}var On=.7,br=1/On,dn="\\s*([+-]?\\d+)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a0=/^#([0-9a-f]{3,8})$/,s0=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),f0=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),c0=new RegExp(`^rgba\\(${dn},${dn},${dn},${kn}\\)$`),l0=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${kn}\\)$`),h0=new RegExp(`^hsl\\(${kn},${Ft},${Ft}\\)$`),d0=new RegExp(`^hsla\\(${kn},${Ft},${Ft},${kn}\\)$`),_u={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xi(qn,Ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eu,formatHex:Eu,formatHex8:p0,formatHsl:D0,formatRgb:Fu,toString:Fu});function Eu(){return this.rgb().formatHex()}function p0(){return this.rgb().formatHex8()}function D0(){return $o(this).formatHsl()}function Fu(){return this.rgb().formatRgb()}function Ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=a0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cu(t):n===3?new je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s0.exec(e))?new je(t[1],t[2],t[3],1):(t=f0.exec(e))?new je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c0.exec(e))?dr(t[1],t[2],t[3],t[4]):(t=l0.exec(e))?dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=h0.exec(e))?Bu(t[1],t[2]/100,t[3]/100,1):(t=d0.exec(e))?Bu(t[1],t[2]/100,t[3]/100,t[4]):_u.hasOwnProperty(e)?Cu(_u[e]):e==="transparent"?new je(NaN,NaN,NaN,0):null}function Cu(e){return new je(e>>16&255,e>>8&255,e&255,1)}function dr(e,t,n,r){return r<=0&&(e=t=n=NaN),new je(e,t,n,r)}function g0(e){return e instanceof qn||(e=Ut(e)),e?(e=e.rgb(),new je(e.r,e.g,e.b,e.opacity)):new je}function xi(e,t,n,r){return arguments.length===1?g0(e):new je(e,t,n,r??1)}function je(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xi(je,xi,zo(qn,{brighter(e){return e=e==null?br:Math.pow(br,e),new je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?On:Math.pow(On,e),new je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new je(Kt(this.r),Kt(this.g),Kt(this.b),Nr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bu,formatHex:bu,formatHex8:m0,formatRgb:Nu,toString:Nu}));function bu(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function m0(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nu(){const e=Nr(this.opacity);return`${e===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${e===1?")":`, ${e})`}`}function Nr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gt(e){return e=Kt(e),(e<16?"0":"")+e.toString(16)}function Bu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pt(e,t,n,r)}function $o(e){if(e instanceof pt)return new pt(e.h,e.s,e.l,e.opacity);if(e instanceof qn||(e=Ut(e)),!e)return new pt;if(e instanceof pt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),u=Math.max(t,n,r),a=NaN,c=u-i,l=(u+i)/2;return c?(t===u?a=(n-r)/c+(n<r)*6:n===u?a=(r-t)/c+2:a=(t-n)/c+4,c/=l<.5?u+i:2-u-i,a*=60):c=l>0&&l<1?0:a,new pt(a,c,l,e.opacity)}function v0(e,t,n,r){return arguments.length===1?$o(e):new pt(e,t,n,r??1)}function pt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xi(pt,v0,zo(qn,{brighter(e){return e=e==null?br:Math.pow(br,e),new pt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?On:Math.pow(On,e),new pt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new je(gi(e>=240?e-240:e+120,i,r),gi(e,i,r),gi(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pt(xu(this.h),pr(this.s),pr(this.l),Nr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nr(this.opacity);return`${e===1?"hsl(":"hsla("}${xu(this.h)}, ${pr(this.s)*100}%, ${pr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xu(e){return e=(e||0)%360,e<0?e+360:e}function pr(e){return Math.max(0,Math.min(1,e||0))}function gi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yi=e=>()=>e;function w0(e,t){return function(n){return e+n*t}}function y0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function A0(e){return(e=+e)==1?Ro:function(t,n){return n-t?y0(t,n,e):Yi(isNaN(t)?n:t)}}function Ro(e,t){var n=t-e;return n?w0(e,n):Yi(isNaN(e)?t:e)}const Br=function e(t){var n=A0(t);function r(i,u){var a=n((i=xi(i)).r,(u=xi(u)).r),c=n(i.g,u.g),l=n(i.b,u.b),h=Ro(i.opacity,u.opacity);return function(s){return i.r=a(s),i.g=c(s),i.b=l(s),i.opacity=h(s),i+""}}return r.gamma=e,r}(1);function _0(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(u){for(i=0;i<n;++i)r[i]=e[i]*(1-u)+t[i]*u;return r}}function E0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function F0(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),u=new Array(n),a;for(a=0;a<r;++a)i[a]=Xr(e[a],t[a]);for(;a<n;++a)u[a]=t[a];return function(c){for(a=0;a<r;++a)u[a]=i[a](c);return u}}function C0(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function b0(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xr(e[i],t[i]):r[i]=t[i];return function(u){for(i in n)r[i]=n[i](u);return r}}var Mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(Mi.source,"g");function N0(e){return function(){return e}}function B0(e){return function(t){return e(t)+""}}function Lo(e,t){var n=Mi.lastIndex=mi.lastIndex=0,r,i,u,a=-1,c=[],l=[];for(e=e+"",t=t+"";(r=Mi.exec(e))&&(i=mi.exec(t));)(u=i.index)>n&&(u=t.slice(n,u),c[a]?c[a]+=u:c[++a]=u),(r=r[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,l.push({i:a,x:dt(r,i)})),n=mi.lastIndex;return n<t.length&&(u=t.slice(n),c[a]?c[a]+=u:c[++a]=u),c.length<2?l[0]?B0(l[0].x):N0(t):(t=l.length,function(h){for(var s=0,o;s<t;++s)c[(o=l[s]).i]=o.x(h);return c.join("")})}function Xr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yi(t):(n==="number"?dt:n==="string"?(r=Ut(t))?(t=r,Br):Lo:t instanceof Ut?Br:t instanceof Date?C0:E0(t)?_0:Array.isArray(t)?F0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?b0:dt)(e,t)}function qo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Mu=180/Math.PI,Si={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Uo(e,t,n,r,i,u){var a,c,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,l/=c),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:u,rotate:Math.atan2(t,e)*Mu,skewX:Math.atan(l)*Mu,scaleX:a,scaleY:c}}var Dr;function x0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Si:Uo(t.a,t.b,t.c,t.d,t.e,t.f)}function M0(e){return e==null||(Dr||(Dr=document.createElementNS("http://www.w3.org/2000/svg","g")),Dr.setAttribute("transform",e),!(e=Dr.transform.baseVal.consolidate()))?Si:(e=e.matrix,Uo(e.a,e.b,e.c,e.d,e.e,e.f))}function Ho(e,t,n,r){function i(h){return h.length?h.pop()+" ":""}function u(h,s,o,f,p,y){if(h!==o||s!==f){var d=p.push("translate(",null,t,null,n);y.push({i:d-4,x:dt(h,o)},{i:d-2,x:dt(s,f)})}else(o||f)&&p.push("translate("+o+t+f+n)}function a(h,s,o,f){h!==s?(h-s>180?s+=360:s-h>180&&(h+=360),f.push({i:o.push(i(o)+"rotate(",null,r)-2,x:dt(h,s)})):s&&o.push(i(o)+"rotate("+s+r)}function c(h,s,o,f){h!==s?f.push({i:o.push(i(o)+"skewX(",null,r)-2,x:dt(h,s)}):s&&o.push(i(o)+"skewX("+s+r)}function l(h,s,o,f,p,y){if(h!==o||s!==f){var d=p.push(i(p)+"scale(",null,",",null,")");y.push({i:d-4,x:dt(h,o)},{i:d-2,x:dt(s,f)})}else(o!==1||f!==1)&&p.push(i(p)+"scale("+o+","+f+")")}return function(h,s){var o=[],f=[];return h=e(h),s=e(s),u(h.translateX,h.translateY,s.translateX,s.translateY,o,f),a(h.rotate,s.rotate,o,f),c(h.skewX,s.skewX,o,f),l(h.scaleX,h.scaleY,s.scaleX,s.scaleY,o,f),h=s=null,function(p){for(var y=-1,d=f.length,m;++y<d;)o[(m=f[y]).i]=m.x(p);return o.join("")}}}var S0=Ho(x0,"px, ","px)","deg)"),T0=Ho(M0,", ",")",")"),gn=0,bn=0,Fn=0,Zo=1e3,xr,Nn,Mr=0,Qt=0,Yr=0,Pn=typeof performance=="object"&&performance.now?performance:Date,Wo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ji(){return Qt||(Wo(I0),Qt=Pn.now()+Yr)}function I0(){Qt=0}function Sr(){this._call=this._time=this._next=null}Sr.prototype=Vo.prototype={constructor:Sr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ji():+n)+(t==null?0:+t),!this._next&&Nn!==this&&(Nn?Nn._next=this:xr=this,Nn=this),this._call=e,this._time=n,Ti()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ti())}};function Vo(e,t,n){var r=new Sr;return r.restart(e,t,n),r}function O0(){Ji(),++gn;for(var e=xr,t;e;)(t=Qt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gn}function Su(){Qt=(Mr=Pn.now())+Yr,gn=bn=0;try{O0()}finally{gn=0,P0(),Qt=0}}function k0(){var e=Pn.now(),t=e-Mr;t>Zo&&(Yr-=t,Mr=e)}function P0(){for(var e,t=xr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xr=n);Nn=e,Ti(r)}function Ti(e){if(!gn){bn&&(bn=clearTimeout(bn));var t=e-Qt;t>24?(e<1/0&&(bn=setTimeout(Su,e-Pn.now()-Yr)),Fn&&(Fn=clearInterval(Fn))):(Fn||(Mr=Pn.now(),Fn=setInterval(k0,Zo)),gn=1,Wo(Su))}}function Tu(e,t,n){var r=new Sr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var z0=Fo("start","end","cancel","interrupt"),$0=[],Xo=0,Iu=1,Ii=2,Ar=3,Ou=4,Oi=5,_r=6;function Jr(e,t,n,r,i,u){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;R0(e,n,{name:t,index:r,group:i,on:z0,tween:$0,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Xo})}function Gi(e,t){var n=mt(e,t);if(n.state>Xo)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=mt(e,t);if(n.state>Ar)throw new Error("too late; already running");return n}function mt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function R0(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Vo(u,0,n.time);function u(h){n.state=Iu,n.timer.restart(a,n.delay,n.time),n.delay<=h&&a(h-n.delay)}function a(h){var s,o,f,p;if(n.state!==Iu)return l();for(s in r)if(p=r[s],p.name===n.name){if(p.state===Ar)return Tu(a);p.state===Ou?(p.state=_r,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[s]):+s<t&&(p.state=_r,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[s])}if(Tu(function(){n.state===Ar&&(n.state=Ou,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Ii,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ii){for(n.state=Ar,i=new Array(f=n.tween.length),s=0,o=-1;s<f;++s)(p=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(i[++o]=p);i.length=o+1}}function c(h){for(var s=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(l),n.state=Oi,1),o=-1,f=i.length;++o<f;)i[o].call(e,s);n.state===Oi&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=_r,n.timer.stop(),delete r[t];for(var h in r)return;delete e.__transition}}function L0(e,t){var n=e.__transition,r,i,u=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){u=!1;continue}i=r.state>Ii&&r.state<Oi,r.state=_r,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}u&&delete e.__transition}}function q0(e){return this.each(function(){L0(this,e)})}function U0(e,t){var n,r;return function(){var i=bt(this,e),u=i.tween;if(u!==n){r=n=u;for(var a=0,c=r.length;a<c;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function H0(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var u=bt(this,e),a=u.tween;if(a!==r){i=(r=a).slice();for(var c={name:t,value:n},l=0,h=i.length;l<h;++l)if(i[l].name===t){i[l]=c;break}l===h&&i.push(c)}u.tween=i}}function Z0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=mt(this.node(),n).tween,i=0,u=r.length,a;i<u;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?U0:H0)(n,e,t))}function Ki(e,t,n){var r=e._id;return e.each(function(){var i=bt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return mt(i,r).value[t]}}function Yo(e,t){var n;return(typeof t=="number"?dt:t instanceof Ut?Br:(n=Ut(t))?(t=n,Br):Lo)(e,t)}function W0(e){return function(){this.removeAttribute(e)}}function V0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X0(e,t,n){var r,i=n+"",u;return function(){var a=this.getAttribute(e);return a===i?null:a===r?u:u=t(r=a,n)}}function Y0(e,t,n){var r,i=n+"",u;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?u:u=t(r=a,n)}}function J0(e,t,n){var r,i,u;return function(){var a,c=n(this),l;return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=c+"",a===l?null:a===r&&l===i?u:(i=l,u=t(r=a,c)))}}function G0(e,t,n){var r,i,u;return function(){var a,c=n(this),l;return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=c+"",a===l?null:a===r&&l===i?u:(i=l,u=t(r=a,c)))}}function K0(e,t){var n=Vr(e),r=n==="transform"?T0:Yo;return this.attrTween(e,typeof t=="function"?(n.local?G0:J0)(n,r,Ki(this,"attr."+e,t)):t==null?(n.local?V0:W0)(n):(n.local?Y0:X0)(n,r,t))}function Q0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function j0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ec(e,t){var n,r;function i(){var u=t.apply(this,arguments);return u!==r&&(n=(r=u)&&j0(e,u)),n}return i._value=t,i}function tc(e,t){var n,r;function i(){var u=t.apply(this,arguments);return u!==r&&(n=(r=u)&&Q0(e,u)),n}return i._value=t,i}function nc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vr(e);return this.tween(n,(r.local?ec:tc)(r,t))}function rc(e,t){return function(){Gi(this,e).delay=+t.apply(this,arguments)}}function ic(e,t){return t=+t,function(){Gi(this,e).delay=t}}function uc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rc:ic)(t,e)):mt(this.node(),t).delay}function oc(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function ac(e,t){return t=+t,function(){bt(this,e).duration=t}}function sc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?oc:ac)(t,e)):mt(this.node(),t).duration}function fc(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function cc(e){var t=this._id;return arguments.length?this.each(fc(t,e)):mt(this.node(),t).ease}function lc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,e).ease=n}}function hc(e){if(typeof e!="function")throw new Error;return this.each(lc(this._id,e))}function dc(e){typeof e!="function"&&(e=No(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u=t[i],a=u.length,c=r[i]=[],l,h=0;h<a;++h)(l=u[h])&&e.call(l,l.__data__,h,u)&&c.push(l);return new kt(r,this._parents,this._name,this._id)}function pc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,u=Math.min(r,i),a=new Array(r),c=0;c<u;++c)for(var l=t[c],h=n[c],s=l.length,o=a[c]=new Array(s),f,p=0;p<s;++p)(f=l[p]||h[p])&&(o[p]=f);for(;c<r;++c)a[c]=t[c];return new kt(a,this._parents,this._name,this._id)}function Dc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function gc(e,t,n){var r,i,u=Dc(t)?Gi:bt;return function(){var a=u(this,e),c=a.on;c!==r&&(i=(r=c).copy()).on(t,n),a.on=i}}function mc(e,t){var n=this._id;return arguments.length<2?mt(this.node(),n).on.on(e):this.each(gc(n,e,t))}function vc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function wc(){return this.on("end.remove",vc(this._id))}function yc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wi(e));for(var r=this._groups,i=r.length,u=new Array(i),a=0;a<i;++a)for(var c=r[a],l=c.length,h=u[a]=new Array(l),s,o,f=0;f<l;++f)(s=c[f])&&(o=e.call(s,s.__data__,f,c))&&("__data__"in s&&(o.__data__=s.__data__),h[f]=o,Jr(h[f],t,n,f,h,mt(s,n)));return new kt(u,this._parents,t,n)}function Ac(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bo(e));for(var r=this._groups,i=r.length,u=[],a=[],c=0;c<i;++c)for(var l=r[c],h=l.length,s,o=0;o<h;++o)if(s=l[o]){for(var f=e.call(s,s.__data__,o,l),p,y=mt(s,n),d=0,m=f.length;d<m;++d)(p=f[d])&&Jr(p,t,n,d,f,y);u.push(f),a.push(s)}return new kt(u,a,t,n)}var _c=Ln.prototype.constructor;function Ec(){return new _c(this._groups,this._parents)}function Fc(e,t){var n,r,i;return function(){var u=Dn(this,e),a=(this.style.removeProperty(e),Dn(this,e));return u===a?null:u===n&&a===r?i:i=t(n=u,r=a)}}function Jo(e){return function(){this.style.removeProperty(e)}}function Cc(e,t,n){var r,i=n+"",u;return function(){var a=Dn(this,e);return a===i?null:a===r?u:u=t(r=a,n)}}function bc(e,t,n){var r,i,u;return function(){var a=Dn(this,e),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(e),Dn(this,e))),a===l?null:a===r&&l===i?u:(i=l,u=t(r=a,c))}}function Nc(e,t){var n,r,i,u="style."+t,a="end."+u,c;return function(){var l=bt(this,e),h=l.on,s=l.value[u]==null?c||(c=Jo(t)):void 0;(h!==n||i!==s)&&(r=(n=h).copy()).on(a,i=s),l.on=r}}function Bc(e,t,n){var r=(e+="")=="transform"?S0:Yo;return t==null?this.styleTween(e,Fc(e,r)).on("end.style."+e,Jo(e)):typeof t=="function"?this.styleTween(e,bc(e,r,Ki(this,"style."+e,t))).each(Nc(this._id,e)):this.styleTween(e,Cc(e,r,t),n).on("end.style."+e,null)}function xc(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Mc(e,t,n){var r,i;function u(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&xc(e,a,n)),r}return u._value=t,u}function Sc(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Mc(e,t,n??""))}function Tc(e){return function(){this.textContent=e}}function Ic(e){return function(){var t=e(this);this.textContent=t??""}}function Oc(e){return this.tween("text",typeof e=="function"?Ic(Ki(this,"text",e)):Tc(e==null?"":e+""))}function kc(e){return function(t){this.textContent=e.call(this,t)}}function Pc(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&kc(i)),t}return r._value=e,r}function zc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pc(e))}function $c(){for(var e=this._name,t=this._id,n=Go(),r=this._groups,i=r.length,u=0;u<i;++u)for(var a=r[u],c=a.length,l,h=0;h<c;++h)if(l=a[h]){var s=mt(l,t);Jr(l,e,n,h,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new kt(r,this._parents,e,n)}function Rc(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(u,a){var c={value:a},l={value:function(){--i===0&&u()}};n.each(function(){var h=bt(this,r),s=h.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(l)),h.on=t}),i===0&&u()})}var Lc=0;function kt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Go(){return++Lc}var St=Ln.prototype;kt.prototype={constructor:kt,select:yc,selectAll:Ac,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:dc,merge:pc,selection:Ec,transition:$c,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:mc,attr:K0,attrTween:nc,style:Bc,styleTween:Sc,text:Oc,textTween:zc,remove:wc,tween:Z0,delay:uc,duration:sc,ease:cc,easeVarying:hc,end:Rc,[Symbol.iterator]:St[Symbol.iterator]};function qc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uc={time:null,delay:0,duration:250,ease:qc};function Hc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Zc(e){var t,n;e instanceof kt?(t=e._id,e=e._name):(t=Go(),(n=Uc).time=Ji(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var a=r[u],c=a.length,l,h=0;h<c;++h)(l=a[h])&&Jr(l,e,t,h,a,n||Hc(l,t));return new kt(r,this._parents,e,t)}Ln.prototype.interrupt=q0;Ln.prototype.transition=Zc;function Wc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mn(e){return e=Tr(Math.abs(e)),e?e[1]:NaN}function Vc(e,t){return function(n,r){for(var i=n.length,u=[],a=0,c=e[0],l=0;i>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),u.push(n.substring(i-=c,i+c)),!((l+=c+1)>r));)c=e[a=(a+1)%e.length];return u.reverse().join(t)}}function Xc(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Yc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ir(e){if(!(t=Yc.exec(e)))throw new Error("invalid format: "+e);var t;return new Qi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ir.prototype=Qi.prototype;function Qi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jc(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ko;function Gc(e,t){var n=Tr(e,t);if(!n)return e+"";var r=n[0],i=n[1],u=i-(Ko=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return u===a?r:u>a?r+new Array(u-a+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Tr(e,Math.max(0,t+u-1))[0]}function ku(e,t){var n=Tr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Pu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ku(e*100,t),r:ku,s:Gc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zu(e){return e}var $u=Array.prototype.map,Ru=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Kc(e){var t=e.grouping===void 0||e.thousands===void 0?zu:Vc($u.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?zu:Xc($u.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"â":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function h(o){o=Ir(o);var f=o.fill,p=o.align,y=o.sign,d=o.symbol,m=o.zero,D=o.width,v=o.comma,g=o.precision,A=o.trim,_=o.type;_==="n"?(v=!0,_="g"):Pu[_]||(g===void 0&&(g=12),A=!0,_="g"),(m||f==="0"&&p==="=")&&(m=!0,f="0",p="=");var F=d==="$"?n:d==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=d==="$"?r:/[%p]/.test(_)?a:"",b=Pu[_],O=/[defgprs%]/.test(_);g=g===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function $(C){var M=F,V=N,U,X,H;if(_==="c")V=b(C)+V,C="";else{C=+C;var ee=C<0||1/C<0;if(C=isNaN(C)?l:b(Math.abs(C),g),A&&(C=Jc(C)),ee&&+C==0&&y!=="+"&&(ee=!1),M=(ee?y==="("?y:c:y==="-"||y==="("?"":y)+M,V=(_==="s"?Ru[8+Ko/3]:"")+V+(ee&&y==="("?")":""),O){for(U=-1,X=C.length;++U<X;)if(H=C.charCodeAt(U),48>H||H>57){V=(H===46?i+C.slice(U+1):C.slice(U))+V,C=C.slice(0,U);break}}}v&&!m&&(C=t(C,1/0));var ae=M.length+C.length+V.length,Y=ae<D?new Array(D-ae+1).join(f):"";switch(v&&m&&(C=t(Y+C,Y.length?D-V.length:1/0),Y=""),p){case"<":C=M+C+V+Y;break;case"=":C=M+Y+C+V;break;case"^":C=Y.slice(0,ae=Y.length>>1)+M+C+V+Y.slice(ae);break;default:C=Y+M+C+V;break}return u(C)}return $.toString=function(){return o+""},$}function s(o,f){var p=h((o=Ir(o),o.type="f",o)),y=Math.max(-8,Math.min(8,Math.floor(mn(f)/3)))*3,d=Math.pow(10,-y),m=Ru[8+y/3];return function(D){return p(d*D)+m}}return{format:h,formatPrefix:s}}var gr,Qo,jo;Qc({thousands:",",grouping:[3],currency:["$",""]});function Qc(e){return gr=Kc(e),Qo=gr.format,jo=gr.formatPrefix,gr}function jc(e){return Math.max(0,-mn(Math.abs(e)))}function el(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mn(t)/3)))*3-mn(Math.abs(e)))}function tl(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mn(t)-mn(e))+1}function nl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function rl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function il(e){return function(){return e}}function ul(e){return+e}var Lu=[0,1];function Lt(e){return e}function ki(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:il(isNaN(t)?NaN:.5)}function ol(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function al(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=ki(i,r),u=n(a,u)):(r=ki(r,i),u=n(u,a)),function(c){return u(r(c))}}function sl(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=ki(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(c){var l=fs(e,c,1,r)-1;return u[l](i[l](c))}}function fl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cl(){var e=Lu,t=Lu,n=Xr,r,i,u,a=Lt,c,l,h;function s(){var f=Math.min(e.length,t.length);return a!==Lt&&(a=ol(e[0],e[f-1])),c=f>2?sl:al,l=h=null,o}function o(f){return f==null||isNaN(f=+f)?u:(l||(l=c(e.map(r),t,n)))(r(a(f)))}return o.invert=function(f){return a(i((h||(h=c(t,e.map(r),dt)))(f)))},o.domain=function(f){return arguments.length?(e=Array.from(f,ul),s()):e.slice()},o.range=function(f){return arguments.length?(t=Array.from(f),s()):t.slice()},o.rangeRound=function(f){return t=Array.from(f),n=qo,s()},o.clamp=function(f){return arguments.length?(a=f?!0:Lt,s()):a!==Lt},o.interpolate=function(f){return arguments.length?(n=f,s()):n},o.unknown=function(f){return arguments.length?(u=f,o):u},function(f,p){return r=f,i=p,s()}}function ll(){return cl()(Lt,Lt)}function hl(e,t,n,r){var i=Ds(e,t,n),u;switch(r=Ir(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(u=el(i,a))&&(r.precision=u),jo(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=tl(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=jc(i))&&(r.precision=u-(r.type==="%")*2);break}}return Qo(r)}function ea(e){var t=e.domain;return e.ticks=function(n){var r=t();return ps(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hl(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,u=r.length-1,a=r[i],c=r[u],l,h,s=10;for(c<a&&(h=a,a=c,c=h,h=i,i=u,u=h);s-- >0;){if(h=bi(a,c,n),h===l)return r[i]=a,r[u]=c,t(r);if(h>0)a=Math.floor(a/h)*h,c=Math.ceil(c/h)*h;else if(h<0)a=Math.ceil(a*h)/h,c=Math.floor(c*h)/h;else break;l=h}return e},e}function Pi(){var e=ll();return e.copy=function(){return fl(e,Pi())},nl.apply(e,arguments),ea(e)}function dl(){var e=0,t=1,n,r,i,u,a=Lt,c=!1,l;function h(o){return o==null||isNaN(o=+o)?l:a(i===0?.5:(o=(u(o)-n)*i,c?Math.max(0,Math.min(1,o)):o))}h.domain=function(o){return arguments.length?([e,t]=o,n=u(e=+e),r=u(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(o){return arguments.length?(c=!!o,h):c},h.interpolator=function(o){return arguments.length?(a=o,h):a};function s(o){return function(f){var p,y;return arguments.length?([p,y]=f,a=o(p,y),h):[a(0),a(1)]}}return h.range=s(Xr),h.rangeRound=s(qo),h.unknown=function(o){return arguments.length?(l=o,h):l},function(o){return u=o,n=o(e),r=o(t),i=n===r?0:1/(r-n),h}}function pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ta(){var e=ea(dl()(Lt));return e.copy=function(){return pl(e,ta())},rl.apply(e,arguments)}function Gr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Kr(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Dl=Kr(Gr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Kr(Gr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Kr(Gr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Kr(Gr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Bn(e,t,n){this.k=e,this.x=t,this.y=n}Bn.prototype={constructor:Bn,scale:function(e){return e===1?this:new Bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Bn.prototype;function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}var na={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function he(e){return typeof e=="number"}function ke(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function ra(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function ia(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function ua(e){return e&&e.constructor.prototype.isUnit===!0||!1}function _t(e){return typeof e=="string"}var De=Array.isArray;function Et(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function kr(e){return Array.isArray(e)||Et(e)}function gl(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ml(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function vl(e){return e&&e.constructor.prototype.isRange===!0||!1}function ji(e){return e&&e.constructor.prototype.isIndex===!0||!1}function wl(e){return typeof e=="boolean"}function yl(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Al(e){return e&&e.constructor.prototype.isHelp===!0||!1}function _l(e){return typeof e=="function"}function El(e){return e instanceof Date}function Fl(e){return e instanceof RegExp}function eu(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!ra(e)&&!ia(e))}function Cl(e){return e===null}function bl(e){return e===void 0}function Nl(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bl(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function xl(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ml(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sl(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Tl(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Il(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ol(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function kl(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pl(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function zl(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function $l(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Rl(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ll(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ql(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ul(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hl(e){return e&&e.constructor.prototype.isChain===!0||!1}function Mn(e){var t=typeof e;return t==="object"?e===null?"null":ke(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Me(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Me(n)});if(e instanceof Date)return new Date(e.valueOf());if(ke(e))return e;if(eu(e))return Zl(e,Me);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Zl(e,t){var n={};for(var r in e)zn(e,r)&&(n[r]=t(e[r]));return n}function Wl(e,t){for(var n in t)zn(t,n)&&(e[n]=t[n]);return e}function vn(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!vn(e[r],t[r]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!vn(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function zn(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Vl(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],u=e[i];u!==void 0&&(n[i]=u)}return n}var Xl=["Matrix","Array"],Yl=["number","BigNumber","Fraction"],Wt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(na)};Or(Wt,na,{MATRIX_OPTIONS:Xl,NUMBER_OPTIONS:Yl});function qu(){return!0}function ft(){return!1}function fn(){}const Uu="Argument is not a typed-function.";function oa(){function e(w){return typeof w=="object"&&w!==null&&w.constructor===Object}const t=[{name:"number",test:function(w){return typeof w=="number"}},{name:"string",test:function(w){return typeof w=="string"}},{name:"boolean",test:function(w){return typeof w=="boolean"}},{name:"Function",test:function(w){return typeof w=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(w){return w instanceof Date}},{name:"RegExp",test:function(w){return w instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(w){return w===null}},{name:"undefined",test:function(w){return w===void 0}}],n={name:"any",test:qu,isAny:!0};let r,i,u=0,a={createCount:0};function c(w){const E=r.get(w);if(E)return E;let B='Unknown type "'+w+'"';const S=w.toLowerCase();let I;for(I of i)if(I.toLowerCase()===S){B+='. Did you mean "'+I+'" ?';break}throw new TypeError(B)}function l(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const B=E?c(E).index:i.length,S=[];for(let T=0;T<w.length;++T){if(!w[T]||typeof w[T].name!="string"||typeof w[T].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=w[T].name;if(r.has(q))throw new TypeError('Duplicate type name "'+q+'"');S.push(q),r.set(q,{name:q,test:w[T].test,isAny:w[T].isAny,index:B+T,conversionsTo:[]})}const I=i.slice(B);i=i.slice(0,B).concat(S).concat(I);for(let T=B+S.length;T<i.length;++T)r.get(i[T]).index=T}function h(){r=new Map,i=[],u=0,l([n],!1)}h(),l(t);function s(){let w;for(w of i)r.get(w).conversionsTo=[];u=0}function o(w){const E=i.filter(B=>{const S=r.get(B);return!S.isAny&&S.test(w)});return E.length?E:["any"]}function f(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function p(w,E,B){if(!f(w))throw new TypeError(Uu);const S=B&&B.exact,I=Array.isArray(E)?E.join(","):E,T=A(I),q=m(T);if(!S||q in w.signatures){const te=w._typedFunctionData.signatureMap.get(q);if(te)return te}const R=T.length;let L;if(S){L=[];let te;for(te in w.signatures)L.push(w._typedFunctionData.signatureMap.get(te))}else L=w._typedFunctionData.signatures;for(let te=0;te<R;++te){const oe=T[te],fe=[];let Ne;for(Ne of L){const Be=b(Ne.params,te);if(!(!Be||oe.restParam&&!Be.restParam)){if(!Be.hasAny){const xe=g(Be);if(oe.types.some(We=>!xe.has(We.name)))continue}fe.push(Ne)}}if(L=fe,L.length===0)break}let k;for(k of L)if(k.params.length<=R)return k;throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+m(T,", ")+"))")}function y(w,E,B){return p(w,E,B).implementation}function d(w,E){const B=c(E);if(B.test(w))return w;const S=B.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+E+" defined.");for(let I=0;I<S.length;I++)if(c(S[I].from).test(w))return S[I].convert(w);throw new Error("Cannot convert "+w+" to "+E)}function m(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(B=>B.name).join(E)}function D(w){const E=w.indexOf("...")===0,S=(E?w.length>3?w.slice(3):"any":w).split("|").map(R=>c(R.trim()));let I=!1,T=E?"...":"";return{types:S.map(function(R){return I=R.isAny||I,T+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:T.slice(0,-1),hasAny:I,hasConversion:!1,restParam:E}}function v(w){const E=w.types.map(q=>q.name),B=ee(E);let S=w.hasAny,I=w.name;const T=B.map(function(q){const R=c(q.from);return S=R.isAny||S,I+="|"+q.from,{name:q.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:q,conversionIndex:q.index}});return{types:w.types.concat(T),name:I,hasAny:S,hasConversion:T.length>0,restParam:w.restParam}}function g(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(E=>w.typeSet.add(E.name))),w.typeSet}function A(w){const E=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");const B=w.trim();if(B==="")return E;const S=B.split(",");for(let I=0;I<S.length;++I){const T=D(S[I].trim());if(T.restParam&&I!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[I]+'": only allowed for the last parameter');if(T.types.length===0)return null;E.push(T)}return E}function _(w){const E=Z(w);return E?E.restParam:!1}function F(w){if(!w||w.types.length===0)return qu;if(w.types.length===1)return c(w.types[0].name).test;if(w.types.length===2){const E=c(w.types[0].name).test,B=c(w.types[1].name).test;return function(I){return E(I)||B(I)}}else{const E=w.types.map(function(B){return c(B.name).test});return function(S){for(let I=0;I<E.length;I++)if(E[I](S))return!0;return!1}}}function N(w){let E,B,S;if(_(w)){E=ct(w).map(F);const I=E.length,T=F(Z(w)),q=function(R){for(let L=I;L<R.length;L++)if(!T(R[L]))return!1;return!0};return function(L){for(let k=0;k<E.length;k++)if(!E[k](L[k]))return!1;return q(L)&&L.length>=I+1}}else return w.length===0?function(T){return T.length===0}:w.length===1?(B=F(w[0]),function(T){return B(T[0])&&T.length===1}):w.length===2?(B=F(w[0]),S=F(w[1]),function(T){return B(T[0])&&S(T[1])&&T.length===2}):(E=w.map(F),function(T){for(let q=0;q<E.length;q++)if(!E[q](T[q]))return!1;return T.length===E.length})}function b(w,E){return E<w.length?w[E]:_(w)?Z(w):null}function O(w,E){const B=b(w,E);return B?g(B):new Set}function $(w){return w.conversion===null||w.conversion===void 0}function C(w,E){const B=new Set;return w.forEach(S=>{const I=O(S.params,E);let T;for(T of I)B.add(T)}),B.has("any")?["any"]:Array.from(B)}function M(w,E,B){let S,I;const T=w||"unnamed";let q=B,R;for(R=0;R<E.length;R++){const oe=[];if(q.forEach(fe=>{const Ne=b(fe.params,R),Be=F(Ne);(R<fe.params.length||_(fe.params))&&Be(E[R])&&oe.push(fe)}),oe.length===0){if(I=C(q,R),I.length>0){const fe=o(E[R]);return S=new TypeError("Unexpected type of argument in function "+T+" (expected: "+I.join(" or ")+", actual: "+fe.join(" | ")+", index: "+R+")"),S.data={category:"wrongType",fn:T,index:R,actual:fe,expected:I},S}}else q=oe}const L=q.map(function(oe){return _(oe.params)?1/0:oe.params.length});if(E.length<Math.min.apply(null,L))return I=C(q,R),S=new TypeError("Too few arguments in function "+T+" (expected: "+I.join(" or ")+", index: "+E.length+")"),S.data={category:"tooFewArgs",fn:T,index:E.length,expected:I},S;const k=Math.max.apply(null,L);if(E.length>k)return S=new TypeError("Too many arguments in function "+T+" (expected: "+k+", actual: "+E.length+")"),S.data={category:"tooManyArgs",fn:T,index:E.length,expectedLength:k},S;const te=[];for(let oe=0;oe<E.length;++oe)te.push(o(E[oe]).join("|"));return S=new TypeError('Arguments of type "'+te.join(", ")+'" do not match any of the defined signatures of function '+T+"."),S.data={category:"mismatch",actual:te},S}function V(w){let E=i.length+1;for(let B=0;B<w.types.length;B++)$(w.types[B])&&(E=Math.min(E,w.types[B].typeIndex));return E}function U(w){let E=u+1;for(let B=0;B<w.types.length;B++)$(w.types[B])||(E=Math.min(E,w.types[B].conversionIndex));return E}function X(w,E){if(w.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(w.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(w.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;const B=V(w)-V(E);if(B<0)return-1;if(B>0)return 1;const S=U(w)-U(E);return S<0?-1:S>0?1:0}function H(w,E){const B=w.params,S=E.params,I=Z(B),T=Z(S),q=_(B),R=_(S);if(q&&I.hasAny){if(!R||!T.hasAny)return 1}else if(R&&T.hasAny)return-1;let L=0,k=0,te;for(te of B)te.hasAny&&++L,te.hasConversion&&++k;let oe=0,fe=0;for(te of S)te.hasAny&&++oe,te.hasConversion&&++fe;if(L!==oe)return L-oe;if(q&&I.hasConversion){if(!R||!T.hasConversion)return 1}else if(R&&T.hasConversion)return-1;if(k!==fe)return k-fe;if(q){if(!R)return 1}else if(R)return-1;const Ne=(B.length-S.length)*(q?-1:1);if(Ne!==0)return Ne;const Be=[];let xe=0;for(let Fe=0;Fe<B.length;++Fe){const Mt=X(B[Fe],S[Fe]);Be.push(Mt),xe+=Mt}if(xe!==0)return xe;let We;for(We of Be)if(We!==0)return We;return 0}function ee(w){if(w.length===0)return[];const E=w.map(c);w.length>1&&E.sort((I,T)=>I.index-T.index);let B=E[0].conversionsTo;if(w.length===1)return B;B=B.concat([]);const S=new Set(w);for(let I=1;I<E.length;++I){let T;for(T of E[I].conversionsTo)S.has(T.from)||(B.push(T),S.add(T.from))}return B}function ae(w,E){let B=E;if(w.some(I=>I.hasConversion)){const I=_(w),T=w.map(Y);B=function(){const R=[],L=I?arguments.length-1:arguments.length;for(let k=0;k<L;k++)R[k]=T[k](arguments[k]);return I&&(R[L]=arguments[L].map(T[L])),E.apply(this,R)}}let S=B;if(_(w)){const I=w.length-1;S=function(){return B.apply(this,Re(arguments,0,I).concat([Re(arguments,I)]))}}return S}function Y(w){let E,B,S,I;const T=[],q=[];switch(w.types.forEach(function(R){R.conversion&&(T.push(c(R.conversion.from).test),q.push(R.conversion.convert))}),q.length){case 0:return function(L){return L};case 1:return E=T[0],S=q[0],function(L){return E(L)?S(L):L};case 2:return E=T[0],B=T[1],S=q[0],I=q[1],function(L){return E(L)?S(L):B(L)?I(L):L};default:return function(L){for(let k=0;k<q.length;k++)if(T[k](L))return q[k](L);return L}}}function pe(w){function E(B,S,I){if(S<B.length){const T=B[S];let q=[];if(T.restParam){const R=T.types.filter($);R.length<T.types.length&&q.push({types:R,name:"..."+R.map(L=>L.name).join("|"),hasAny:R.some(L=>L.isAny),hasConversion:!1,restParam:!0}),q.push(T)}else q=T.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return ht(q,function(R){return E(B,S+1,I.concat([R]))})}else return[I]}return E(w,0,[])}function zt(w,E){const B=Math.max(w.length,E.length);for(let R=0;R<B;R++){const L=O(w,R),k=O(E,R);let te=!1,oe;for(oe of k)if(L.has(oe)){te=!0;break}if(!te)return!1}const S=w.length,I=E.length,T=_(w),q=_(E);return T?q?S===I:I>=S:q?S>=I:S===I}function Nt(w){return w.map(E=>Te(E)?Ue(E.referToSelf.callback):Le(E)?me(E.referTo.references,E.referTo.callback):E)}function we(w,E,B){const S=[];let I;for(I of w){let T=B[I];if(typeof T!="number")throw new TypeError('No definition for referenced signature "'+I+'"');if(T=E[T],typeof T!="function")return!1;S.push(T)}return S}function Bt(w,E,B){const S=Nt(w),I=new Array(S.length).fill(!1);let T=!0;for(;T;){T=!1;let q=!0;for(let R=0;R<S.length;++R){if(I[R])continue;const L=S[R];if(Te(L))S[R]=L.referToSelf.callback(B),S[R].referToSelf=L.referToSelf,I[R]=!0,q=!1;else if(Le(L)){const k=we(L.referTo.references,S,E);k?(S[R]=L.referTo.callback.apply(this,k),S[R].referTo=L.referTo,I[R]=!0,q=!1):T=!0}}if(q&&T)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function vt(w){const E=/\bthis(\(|\.signatures\b)/;Object.keys(w).forEach(B=>{const S=w[B];if(E.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function tn(w,E){if(a.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&vt(E);const B=[],S=[],I={},T=[];let q;for(q in E){if(!Object.prototype.hasOwnProperty.call(E,q))continue;const ue=A(q);if(!ue)continue;B.forEach(function($t){if(zt($t,ue))throw new TypeError('Conflicting signatures "'+m($t)+'" and "'+m(ue)+'".')}),B.push(ue);const Ie=S.length;S.push(E[q]);const ir=ue.map(v);let qe;for(qe of pe(ir)){const $t=m(qe);T.push({params:qe,name:$t,fn:Ie}),qe.every(Ge=>!Ge.hasConversion)&&(I[$t]=Ie)}}T.sort(H);const R=Bt(S,I,yt);let L;for(L in I)Object.prototype.hasOwnProperty.call(I,L)&&(I[L]=R[I[L]]);const k=[],te=new Map;for(L of T)te.has(L.name)||(L.fn=R[L.fn],k.push(L),te.set(L.name,L));const oe=k[0]&&k[0].params.length<=2&&!_(k[0].params),fe=k[1]&&k[1].params.length<=2&&!_(k[1].params),Ne=k[2]&&k[2].params.length<=2&&!_(k[2].params),Be=k[3]&&k[3].params.length<=2&&!_(k[3].params),xe=k[4]&&k[4].params.length<=2&&!_(k[4].params),We=k[5]&&k[5].params.length<=2&&!_(k[5].params),Fe=oe&&fe&&Ne&&Be&&xe&&We;for(let ue=0;ue<k.length;++ue)k[ue].test=N(k[ue].params);const Mt=oe?F(k[0].params[0]):ft,Vn=fe?F(k[1].params[0]):ft,Ve=Ne?F(k[2].params[0]):ft,Xn=Be?F(k[3].params[0]):ft,Xt=xe?F(k[4].params[0]):ft,nn=We?F(k[5].params[0]):ft,An=oe?F(k[0].params[1]):ft,Yn=fe?F(k[1].params[1]):ft,Jn=Ne?F(k[2].params[1]):ft,Xe=Be?F(k[3].params[1]):ft,rn=xe?F(k[4].params[1]):ft,Gn=We?F(k[5].params[1]):ft;for(let ue=0;ue<k.length;++ue)k[ue].implementation=ae(k[ue].params,k[ue].fn);const Ye=oe?k[0].implementation:fn,Kn=fe?k[1].implementation:fn,Yt=Ne?k[2].implementation:fn,un=Be?k[3].implementation:fn,_n=xe?k[4].implementation:fn,Qn=We?k[5].implementation:fn,jn=oe?k[0].params.length:-1,ye=fe?k[1].params.length:-1,on=Ne?k[2].params.length:-1,er=Be?k[3].params.length:-1,Je=xe?k[4].params.length:-1,tr=We?k[5].params.length:-1,wt=Fe?6:0,nr=k.length,rt=k.map(ue=>ue.test),rr=k.map(ue=>ue.implementation),Jt=function(){for(let Ie=wt;Ie<nr;Ie++)if(rt[Ie](arguments))return rr[Ie].apply(this,arguments);return a.onMismatch(w,arguments,k)};function yt(ue,Ie){return arguments.length===jn&&Mt(ue)&&An(Ie)?Ye.apply(this,arguments):arguments.length===ye&&Vn(ue)&&Yn(Ie)?Kn.apply(this,arguments):arguments.length===on&&Ve(ue)&&Jn(Ie)?Yt.apply(this,arguments):arguments.length===er&&Xn(ue)&&Xe(Ie)?un.apply(this,arguments):arguments.length===Je&&Xt(ue)&&rn(Ie)?_n.apply(this,arguments):arguments.length===tr&&nn(ue)&&Gn(Ie)?Qn.apply(this,arguments):Jt.apply(this,arguments)}try{Object.defineProperty(yt,"name",{value:w})}catch{}return yt.signatures=I,yt._typedFunctionData={signatures:k,signatureMap:te},yt}function xt(w,E,B){throw M(w,E,B)}function ct(w){return Re(w,0,w.length-1)}function Z(w){return w[w.length-1]}function Re(w,E,B){return Array.prototype.slice.call(w,E,B)}function lt(w,E){for(let B=0;B<w.length;B++)if(E(w[B]))return w[B]}function ht(w,E){return Array.prototype.concat.apply([],w.map(E))}function Ee(){const w=ct(arguments).map(B=>m(A(B))),E=Z(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return me(w,E)}function me(w,E){return{referTo:{references:w,callback:E}}}function Ue(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function Le(w){return w&&typeof w.referTo=="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function Te(w){return w&&typeof w.referToSelf=="object"&&typeof w.referToSelf.callback=="function"}function He(w,E){if(!w)return E;if(E&&E!==w){const B=new Error("Function names do not match (expected: "+w+", actual: "+E+")");throw B.data={actual:E,expected:w},B}return w}function Ze(w){let E;for(const B in w)Object.prototype.hasOwnProperty.call(w,B)&&(f(w[B])||typeof w[B].signature=="string")&&(E=He(E,w[B].name));return E}function ve(w,E){let B;for(B in E)if(Object.prototype.hasOwnProperty.call(E,B)){if(B in w&&E[B]!==w[B]){const S=new Error('Signature "'+B+'" is defined twice');throw S.data={signature:B,sourceFunction:E[B],destFunction:w[B]},S}w[B]=E[B]}}const be=a;a=function(w){const E=typeof w=="string",B=E?1:0;let S=E?w:"";const I={};for(let T=B;T<arguments.length;++T){const q=arguments[T];let R={},L;if(typeof q=="function"?(L=q.name,typeof q.signature=="string"?R[q.signature]=q:f(q)&&(R=q.signatures)):e(q)&&(R=q,E||(L=Ze(q))),Object.keys(R).length===0){const k=new TypeError("Argument to 'typed' at index "+T+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw k.data={index:T,argument:q},k}E||(S=He(S,L)),ve(I,R)}return tn(S||"",I)},a.create=oa,a.createCount=be.createCount,a.onMismatch=xt,a.throwMismatchError=xt,a.createError=M,a.clear=h,a.clearConversions=s,a.addTypes=l,a._findType=c,a.referTo=Ee,a.referToSelf=Ue,a.convert=d,a.findSignature=p,a.find=y,a.isTypedFunction=f,a.warnAgainstDeprecatedThis=!0,a.addType=function(w,E){let B="any";E!==!1&&r.has("Object")&&(B="Object"),a.addTypes([w],B)};function ze(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return a.addConversion=function(w){ze(w);const E=c(w.to);if(E.conversionsTo.every(function(B){return B.from!==w.from}))E.conversionsTo.push({from:w.from,convert:w.convert,index:u++});else throw new Error('There is already a conversion from "'+w.from+'" to "'+E.name+'"')},a.addConversions=function(w){w.forEach(a.addConversion)},a.removeConversion=function(w){ze(w);const E=c(w.to),B=lt(E.conversionsTo,I=>I.from===w.from);if(!B)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(B.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");const S=E.conversionsTo.indexOf(B);E.conversionsTo.splice(S,1)},a.resolve=function(w,E){if(!f(w))throw new TypeError(Uu);const B=w._typedFunctionData.signatures;for(let S=0;S<B.length;++S)if(B[S].test(E))return B[S];return null},a}const Hu=oa();function Se(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function vi(e,t,n){var r={2:"0b",8:"0o",16:"0x"},i=r[t],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Se(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Se(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),u="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(t)).concat(u)}function zi(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=aa(t);switch(n){case"fixed":return Gl(e,r);case"exponential":return sa(e,r);case"engineering":return Jl(e,r);case"bin":return vi(e,2,i);case"oct":return vi(e,8,i);case"hex":return vi(e,16,i);case"auto":return Kl(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function aa(e){var t="auto",n,r;if(e!==void 0)if(he(e))n=e;else if(ke(e))n=e.toNumber();else if(eu(e))e.precision!==void 0&&(n=Zu(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(r=Zu(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:n,wordSize:r}}function Qr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),u=r.indexOf(".");i+=u!==-1?u-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return a.length===0&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function Jl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Qr(e),r=jr(n,t),i=r.exponent,u=r.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(he(t))for(;t>u.length||i-a+1>u.length;)u.push(0);else for(var c=Math.abs(i-a)-(u.length-1),l=0;l<c;l++)u.push(0);for(var h=Math.abs(i-a),s=1;h>0;)s++,h--;var o=u.slice(s).join(""),f=he(t)&&o.length||o.match(/[1-9]/)?"."+o:"",p=u.slice(0,s).join("")+f+"e"+(i>=0?"+":"")+a.toString();return r.sign+p}function Gl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Qr(e),r=typeof t=="number"?jr(n,n.exponent+1+t):n,i=r.coefficients,u=r.exponent+1,a=u+(t||0);return i.length<a&&(i=i.concat(pn(a-i.length))),u<0&&(i=pn(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),r.sign+i.join("")}function sa(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Qr(e),r=t?jr(n,t):n,i=r.coefficients,u=r.exponent;i.length<t&&(i=i.concat(pn(t-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function Kl(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=Wu(n==null?void 0:n.lowerExp,-3),i=Wu(n==null?void 0:n.upperExp,5),u=Qr(e),a=t?jr(u,t):u;if(a.exponent<r||a.exponent>=i)return sa(e,t);var c=a.coefficients,l=a.exponent;c.length<t&&(c=c.concat(pn(t-c.length))),c=c.concat(pn(l-c.length+1+(c.length<t?t-c.length:0))),c=pn(-l).concat(c);var h=l>0?l:0;return h<c.length-1&&c.splice(h+1,0,"."),a.sign+c.join("")}function jr(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t){var i=r.splice(t,r.length-t);if(i[0]>=5){var u=t-1;for(r[u]++;r[u]===10;)r.pop(),u===0&&(r.unshift(0),n.exponent++,u++),u--,r[u]++}}return n}function pn(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Ql(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var jl=Number.EPSILON||2220446049250313e-31;function Ht(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=jl?!0:r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function Zu(e,t){if(he(e))return e;if(ke(e))return e.toNumber();t()}function Wu(e,t){return he(e)?e:ke(e)?e.toNumber():t}function wi(e,t,n){var r=e.constructor,i=new r(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Se(n))throw new Error("size must be an integer");if(e.greaterThan(i.pow(n-1).sub(1))||e.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(n))),u="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function eh(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=aa(t);switch(n){case"fixed":return nh(e,r);case"exponential":return Vu(e,r);case"engineering":return th(e,r);case"bin":return wi(e,2,i);case"oct":return wi(e,8,i);case"hex":return wi(e,16,i);case"auto":{var u=Xu(t==null?void 0:t.lowerExp,-3),a=Xu(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var c,l=e.toSignificantDigits(r),h=l.e;return h>=u&&h<a?c=l.toFixed():c=Vu(e,r),c.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function th(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),u=i.toPrecision(t);if(u.indexOf("e")!==-1){var a=e.constructor;u=new a(u).toFixed()}return u+"e"+(n>=0?"+":"")+r.toString()}function Vu(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function nh(e,t){return e.toFixed(t)}function Xu(e,t){return he(e)?e:ke(e)?e.toNumber():t}function Qe(e,t){var n=rh(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function rh(e,t){if(typeof e=="number")return zi(e,t);if(ke(e))return eh(e,t);if(ih(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return fa(e,t);if(_t(e))return Yu(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(r=>Yu(r)+": "+Qe(e[r],t));return"{"+n.join(", ")+"}"}return String(e)}function Yu(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in Ju?Ju[i]:i,r++}return'"'+n+'"'}var Ju={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function fa(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=fa(e[i],t);return n+="]",n}else return Qe(e,t)}function ih(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function se(e,t,n){if(!(this instanceof se))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}se.prototype=new RangeError;se.prototype.constructor=RangeError;se.prototype.name="DimensionError";se.prototype.isDimensionError=!0;function jt(e,t,n){if(!(this instanceof jt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}jt.prototype=new RangeError;jt.prototype.constructor=RangeError;jt.prototype.name="IndexError";jt.prototype.isIndexError=!0;function Ot(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function ca(e,t,n){var r,i=e.length;if(i!==t[n])throw new se(i,t[n]);if(n<t.length-1){var u=n+1;for(r=0;r<i;r++){var a=e[r];if(!Array.isArray(a))throw new se(t.length-1,t.length,"<");ca(e[r],t,u)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new se(t.length+1,t.length,">")}function Gu(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new se(e.length,0)}else ca(e,t,0)}function ge(e,t){if(e!==void 0){if(!he(e)||!Se(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new jt(e,t)}}function Ku(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!he(i)||!Se(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Qe(t)+")")}),(he(e)||ke(e))&&(e=[e]);var r=n!==void 0?n:0;return $i(e,t,0,r),e}function $i(e,t,n,r){var i,u,a=e.length,c=t[n],l=Math.min(a,c);if(e.length=c,n<t.length-1){var h=n+1;for(i=0;i<l;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),$i(u,t,h,r);for(i=l;i<c;i++)u=[],e[i]=u,$i(u,t,h,r)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<c;i++)e[i]=r}}function la(e,t){var n=oh(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new se(0,r,"!=");t=tu(t,r);var i=ha(t);if(r!==i)throw new se(i,r,"!=");try{return uh(n,t)}catch(u){throw u instanceof se?new se(i,r,"!="):u}}function tu(e,t){var n=ha(e),r=e.slice(),i=-1,u=e.indexOf(i),a=e.indexOf(i,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var c=u>=0,l=t%n===0;if(c)if(l)r[u]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return r}function ha(e){return e.reduce((t,n)=>t*n,1)}function uh(e,t){for(var n=e,r,i=t.length-1;i>0;i--){var u=t[i];r=[];for(var a=n.length/u,c=0;c<a;c++)r.push(n.slice(c*u,(c+1)*u));n=r}return n}function da(e,t,n,r){var i=r||Ot(e);if(n)for(var u=0;u<n;u++)e=[e],i.unshift(1);for(e=pa(e,t,0);i.length<t;)i.push(1);return e}function pa(e,t,n){var r,i;if(Array.isArray(e)){var u=n+1;for(r=0,i=e.length;r<i;r++)e[r]=pa(e[r],t,u)}else for(var a=n;a<t;a++)e=[e];return e}function oh(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(r){Array.isArray(r)?r.forEach(n):t.push(r)}),t}function Pr(e,t){for(var n,r=0,i=0;i<e.length;i++){var u=e[i],a=Array.isArray(u);if(i===0&&a&&(r=u.length),a&&u.length!==r)return;var c=a?Pr(u,t):t(u);if(n===void 0)n=c;else if(n!==c)return"mixed"}return n}function Da(e,t,n,r){if(r<n){if(e.length!==t.length)throw new se(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=Da(e[u],t[u],n,r+1);return i}else return e.concat(t)}function ga(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,r){return Da(n,r,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function ah(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(f=>f.length),i=Math.max(...r),u=new Array(i).fill(null),a=0;a<t.length;a++)for(var c=t[a],l=r[a],h=0;h<l;h++){var s=i-l+h;c[h]>u[s]&&(u[s]=c[h])}for(var o=0;o<t.length;o++)zr(t[o],u);return u}function zr(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var u=n-r+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[u]))}}function Qu(e,t){var n=Ot(e);if(vn(n,t))return e;zr(n,t);var r=ah(n,t),i=r.length,u=[...Array(i-n.length).fill(1),...n],a=fh(e);n.length<i&&(a=la(a,u),n=Ot(a));for(var c=0;c<i;c++)n[c]<r[c]&&(a=sh(a,r[c],c),n=Ot(a));return a}function sh(e,t,n){return ga(...Array(t).fill(e),n)}function fh(e){return Or([],e)}function re(e,t,n,r){function i(u){var a=Vl(u,t.map(hh));return ch(e,t,u),n(a)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function ch(e,t,n){var r=t.filter(u=>!lh(u)).every(u=>n[u]!==void 0);if(!r){var i=t.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function lh(e){return e&&e[0]==="?"}function hh(e){return e&&e[0]==="?"?e.slice(1):e}function dh(e,t){if(va(e)&&ma(e,t))return e[t];throw typeof e[t]=="function"&&gh(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function ph(e,t,n){if(va(e)&&ma(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Dh(e,t){return t in e}function ma(e,t){return!e||typeof e!="object"?!1:zn(mh,t)?!0:!(t in Object.prototype||t in Function.prototype)}function gh(e,t){return e==null||typeof e[t]!="function"||zn(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:zn(vh,t)?!0:!(t in Object.prototype||t in Function.prototype)}function va(e){return typeof e=="object"&&e&&e.constructor===Object}var mh={length:!0,name:!0},vh={toString:!0,valueOf:!0,toLocaleString:!0};class wh{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject).values()}get(t){return dh(this.wrappedObject,t)}set(t,n){return ph(this.wrappedObject,t,n),this}has(t){return Dh(this.wrappedObject,t)}entries(){return yh(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var n of this.keys())t(this.get(n),n,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function yh(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function Ah(e){return e?e instanceof Map||e instanceof wh||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var wa=function(){return wa=Hu.create,Hu},_h=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Eh=re("typed",_h,function(t){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:u}=t,a=wa();return a.clear(),a.addTypes([{name:"number",test:he},{name:"Complex",test:ra},{name:"BigNumber",test:ke},{name:"Fraction",test:ia},{name:"Unit",test:ua},{name:"identifier",test:c=>_t&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:_t},{name:"Chain",test:Hl},{name:"Array",test:De},{name:"Matrix",test:Et},{name:"DenseMatrix",test:gl},{name:"SparseMatrix",test:ml},{name:"Range",test:vl},{name:"Index",test:ji},{name:"boolean",test:wl},{name:"ResultSet",test:yl},{name:"Help",test:Al},{name:"function",test:_l},{name:"Date",test:El},{name:"RegExp",test:Fl},{name:"null",test:Cl},{name:"undefined",test:bl},{name:"AccessorNode",test:Nl},{name:"ArrayNode",test:Bl},{name:"AssignmentNode",test:xl},{name:"BlockNode",test:Ml},{name:"ConditionalNode",test:Sl},{name:"ConstantNode",test:Tl},{name:"FunctionNode",test:Ol},{name:"FunctionAssignmentNode",test:Il},{name:"IndexNode",test:kl},{name:"Node",test:Pl},{name:"ObjectNode",test:zl},{name:"OperatorNode",test:$l},{name:"ParenthesisNode",test:Rl},{name:"RangeNode",test:Ll},{name:"RelationalNode",test:ql},{name:"SymbolNode",test:Ul},{name:"Map",test:Ah},{name:"Object",test:eu}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||yi(l),Ql(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return r||mr(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||mr(l),new r(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||mr(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||Ai(l);var h=new u(l);if(h.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(l){var h=Number(l);if(isNaN(h))throw new Error('Cannot convert "'+l+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(l){n||yi(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){u||Ai(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||mr(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||yi(l),new n(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||Ai(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||Fh(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(c,l,h)=>{var s=a.createError(c,l,h);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&kr(l[0])&&h.some(f=>!f.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=s.data,o}throw s},a.onMismatch=(c,l,h)=>{var s=a.createError(c,l,h);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&kr(l[0])&&h.some(f=>!f.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=s.data,o}throw s},a});function yi(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function mr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Fh(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ai(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ln=9e15,Vt=1e9,Ri="0123456789abcdef",$r="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Rr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Li={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ln,maxE:ln,crypto:!1},ya,It,j=!0,ei="[DecimalError] ",Zt=ei+"Invalid argument: ",Aa=ei+"Precision limit exceeded",_a=ei+"crypto unavailable",Ea="[object Decimal]",$e=Math.floor,Ce=Math.pow,Ch=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,bh=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Nh=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Fa=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gt=1e7,K=7,Bh=9007199254740991,xh=$r.length-1,qi=Rr.length-1,z={toStringTag:Ea};z.absoluteValue=z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),J(e)};z.ceil=function(){return J(new this.constructor(this),this.e+1,2)};z.clampedTo=z.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Zt+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};z.comparedTo=z.cmp=function(e){var t,n,r,i,u=this,a=u.d,c=(e=new u.constructor(e)).d,l=u.s,h=e.s;if(!a||!c)return!l||!h?NaN:l!==h?l:a===c?0:!a^l<0?1:-1;if(!a[0]||!c[0])return a[0]?l:c[0]?-h:0;if(l!==h)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(r=a.length,i=c.length,t=0,n=r<i?r:i;t<n;++t)if(a[t]!==c[t])return a[t]>c[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};z.cosine=z.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+K,r.rounding=1,n=Mh(r,xa(r,n)),r.precision=e,r.rounding=t,J(It==2||It==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};z.cubeRoot=z.cbrt=function(){var e,t,n,r,i,u,a,c,l,h,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(j=!1,u=s.s*Ce(s.s*s,1/3),!u||Math.abs(u)==1/0?(n=Pe(s.d),e=s.e,(u=(e-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=Ce(n,1/3),e=$e((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?n="5e"+e:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new o(n),r.s=s.s):r=new o(u.toString()),a=(e=o.precision)+3;;)if(c=r,l=c.times(c).times(c),h=l.plus(s),r=ce(h.plus(s).times(c),h.plus(l),a+2,1),Pe(c.d).slice(0,a)===(n=Pe(r.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!i&&n=="4999"){if(!i&&(J(c,e+1,0),c.times(c).times(c).eq(s))){r=c;break}a+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(J(r,e+1,1),t=!r.times(r).times(r).eq(s));break}return j=!0,J(r,e,o.rounding,t)};z.decimalPlaces=z.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-$e(this.e/K))*K,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};z.dividedBy=z.div=function(e){return ce(this,new this.constructor(e))};z.dividedToIntegerBy=z.divToInt=function(e){var t=this,n=t.constructor;return J(ce(t,new n(e),0,1,1),n.precision,n.rounding)};z.equals=z.eq=function(e){return this.cmp(e)===0};z.floor=function(){return J(new this.constructor(this),this.e+1,3)};z.greaterThan=z.gt=function(e){return this.cmp(e)>0};z.greaterThanOrEqualTo=z.gte=function(e){var t=this.cmp(e);return t==1||t===0};z.hyperbolicCosine=z.cosh=function(){var e,t,n,r,i,u=this,a=u.constructor,c=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return c;n=a.precision,r=a.rounding,a.precision=n+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/ni(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=wn(a,1,u.times(t),new a(1),!0);for(var l,h=e,s=new a(8);h--;)l=u.times(u),u=c.minus(l.times(s.minus(l.times(s))));return J(u,a.precision=n,a.rounding=r,!0)};z.hyperbolicSine=z.sinh=function(){var e,t,n,r,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,n=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,r=i.d.length,r<3)i=wn(u,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/ni(5,e)),i=wn(u,2,i,i,!0);for(var a,c=new u(5),l=new u(16),h=new u(20);e--;)a=i.times(i),i=i.times(c.plus(a.times(l.times(a).plus(h))))}return u.precision=t,u.rounding=n,J(i,t,n,!0)};z.hyperbolicTangent=z.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,ce(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};z.inverseCosine=z.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,u=n.rounding;return r!==-1?r===0?t.isNeg()?Dt(n,i,u):new n(0):new n(NaN):t.isZero()?Dt(n,i+4,u).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=Dt(n,i+4,u).times(.5),n.precision=i,n.rounding=u,e.minus(t))};z.inverseHyperbolicCosine=z.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,j=!1,n=n.times(n).minus(1).sqrt().plus(n),j=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};z.inverseHyperbolicSine=z.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,j=!1,n=n.times(n).plus(1).sqrt().plus(n),j=!0,r.precision=e,r.rounding=t,n.ln())};z.inverseHyperbolicTangent=z.atanh=function(){var e,t,n,r,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?J(new u(i),e,t,!0):(u.precision=n=r-i.e,i=ce(i.plus(1),new u(1).minus(i),n+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};z.inverseSine=z.asin=function(){var e,t,n,r,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),n=u.precision,r=u.rounding,t!==-1?t===0?(e=Dt(u,n+4,r).times(.5),e.s=i.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=r,i.times(2)))};z.inverseTangent=z.atan=function(){var e,t,n,r,i,u,a,c,l,h=this,s=h.constructor,o=s.precision,f=s.rounding;if(h.isFinite()){if(h.isZero())return new s(h);if(h.abs().eq(1)&&o+4<=qi)return a=Dt(s,o+4,f).times(.25),a.s=h.s,a}else{if(!h.s)return new s(NaN);if(o+4<=qi)return a=Dt(s,o+4,f).times(.5),a.s=h.s,a}for(s.precision=c=o+10,s.rounding=1,n=Math.min(28,c/K+2|0),e=n;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(j=!1,t=Math.ceil(c/K),r=1,l=h.times(h),a=new s(h),i=h;e!==-1;)if(i=i.times(l),u=a.minus(i.div(r+=2)),i=i.times(l),a=u.plus(i.div(r+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===u.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),j=!0,J(a,s.precision=o,s.rounding=f,!0)};z.isFinite=function(){return!!this.d};z.isInteger=z.isInt=function(){return!!this.d&&$e(this.e/K)>this.d.length-2};z.isNaN=function(){return!this.s};z.isNegative=z.isNeg=function(){return this.s<0};z.isPositive=z.isPos=function(){return this.s>0};z.isZero=function(){return!!this.d&&this.d[0]===0};z.lessThan=z.lt=function(e){return this.cmp(e)<0};z.lessThanOrEqualTo=z.lte=function(e){return this.cmp(e)<1};z.logarithm=z.log=function(e){var t,n,r,i,u,a,c,l,h=this,s=h.constructor,o=s.precision,f=s.rounding,p=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new s(n&&!n[0]?-1/0:h.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)u=!0;else{for(i=n[0];i%10===0;)i/=10;u=i!==1}if(j=!1,c=o+p,a=qt(h,c),r=t?Lr(s,c+10):qt(e,c),l=ce(a,r,c,1),$n(l.d,i=o,f))do if(c+=10,a=qt(h,c),r=t?Lr(s,c+10):qt(e,c),l=ce(a,r,c,1),!u){+Pe(l.d).slice(i+1,i+15)+1==1e14&&(l=J(l,o+1,0));break}while($n(l.d,i+=10,f));return j=!0,J(l,o,f)};z.minus=z.sub=function(e){var t,n,r,i,u,a,c,l,h,s,o,f,p=this,y=p.constructor;if(e=new y(e),!p.d||!e.d)return!p.s||!e.s?e=new y(NaN):p.d?e.s=-e.s:e=new y(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(h=p.d,f=e.d,c=y.precision,l=y.rounding,!h[0]||!f[0]){if(f[0])e.s=-e.s;else if(h[0])e=new y(p);else return new y(l===3?-0:0);return j?J(e,c,l):e}if(n=$e(e.e/K),s=$e(p.e/K),h=h.slice(),u=s-n,u){for(o=u<0,o?(t=h,u=-u,a=f.length):(t=f,n=s,a=h.length),r=Math.max(Math.ceil(c/K),a)+2,u>r&&(u=r,t.length=1),t.reverse(),r=u;r--;)t.push(0);t.reverse()}else{for(r=h.length,a=f.length,o=r<a,o&&(a=r),r=0;r<a;r++)if(h[r]!=f[r]){o=h[r]<f[r];break}u=0}for(o&&(t=h,h=f,f=t,e.s=-e.s),a=h.length,r=f.length-a;r>0;--r)h[a++]=0;for(r=f.length;r>u;){if(h[--r]<f[r]){for(i=r;i&&h[--i]===0;)h[i]=gt-1;--h[i],h[r]+=gt}h[r]-=f[r]}for(;h[--a]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(e.d=h,e.e=ti(h,n),j?J(e,c,l):e):new y(l===3?-0:0)};z.modulo=z.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?J(new r(n),r.precision,r.rounding):(j=!1,r.modulo==9?(t=ce(n,e.abs(),0,3,1),t.s*=e.s):t=ce(n,e,0,r.modulo,1),t=t.times(e),j=!0,n.minus(t))};z.naturalExponential=z.exp=function(){return Ui(this)};z.naturalLogarithm=z.ln=function(){return qt(this)};z.negated=z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,J(e)};z.plus=z.add=function(e){var t,n,r,i,u,a,c,l,h,s,o=this,f=o.constructor;if(e=new f(e),!o.d||!e.d)return!o.s||!e.s?e=new f(NaN):o.d||(e=new f(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(h=o.d,s=e.d,c=f.precision,l=f.rounding,!h[0]||!s[0])return s[0]||(e=new f(o)),j?J(e,c,l):e;if(u=$e(o.e/K),r=$e(e.e/K),h=h.slice(),i=u-r,i){for(i<0?(n=h,i=-i,a=s.length):(n=s,r=u,a=h.length),u=Math.ceil(c/K),a=u>a?u+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=h.length,i=s.length,a-i<0&&(i=a,n=s,s=h,h=n),t=0;i;)t=(h[--i]=h[i]+s[i]+t)/gt|0,h[i]%=gt;for(t&&(h.unshift(t),++r),a=h.length;h[--a]==0;)h.pop();return e.d=h,e.e=ti(h,r),j?J(e,c,l):e};z.precision=z.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zt+e);return n.d?(t=Ca(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};z.round=function(){var e=this,t=e.constructor;return J(new t(e),e.e+1,t.rounding)};z.sine=z.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+K,r.rounding=1,n=Th(r,xa(r,n)),r.precision=e,r.rounding=t,J(It>2?n.neg():n,e,t,!0)):new r(NaN)};z.squareRoot=z.sqrt=function(){var e,t,n,r,i,u,a=this,c=a.d,l=a.e,h=a.s,s=a.constructor;if(h!==1||!c||!c[0])return new s(!h||h<0&&(!c||c[0])?NaN:c?a:1/0);for(j=!1,h=Math.sqrt(+a),h==0||h==1/0?(t=Pe(c),(t.length+l)%2==0&&(t+="0"),h=Math.sqrt(t),l=$e((l+1)/2)-(l<0||l%2),h==1/0?t="5e"+l:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),r=new s(t)):r=new s(h.toString()),n=(l=s.precision)+3;;)if(u=r,r=u.plus(ce(a,u,n+2,1)).times(.5),Pe(u.d).slice(0,n)===(t=Pe(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(J(u,l+1,0),u.times(u).eq(a))){r=u;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(J(r,l+1,1),e=!r.times(r).eq(a));break}return j=!0,J(r,l,s.rounding,e)};z.tangent=z.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=ce(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,J(It==2||It==4?n.neg():n,e,t,!0)):new r(NaN)};z.times=z.mul=function(e){var t,n,r,i,u,a,c,l,h,s=this,o=s.constructor,f=s.d,p=(e=new o(e)).d;if(e.s*=s.s,!f||!f[0]||!p||!p[0])return new o(!e.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:!f||!p?e.s/0:e.s*0);for(n=$e(s.e/K)+$e(e.e/K),l=f.length,h=p.length,l<h&&(u=f,f=p,p=u,a=l,l=h,h=a),u=[],a=l+h,r=a;r--;)u.push(0);for(r=h;--r>=0;){for(t=0,i=l+r;i>r;)c=u[i]+p[r]*f[i-r-1]+t,u[i--]=c%gt|0,t=c/gt|0;u[i]=(u[i]+t)%gt|0}for(;!u[--a];)u.pop();return t?++n:u.shift(),e.d=u,e.e=ti(u,n),j?J(e,o.precision,o.rounding):e};z.toBinary=function(e,t){return nu(this,2,e,t)};z.toDecimalPlaces=z.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(et(e,0,Vt),t===void 0?t=r.rounding:et(t,0,8),J(n,e+n.e+1,t))};z.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ct(r,!0):(et(e,0,Vt),t===void 0?t=i.rounding:et(t,0,8),r=J(new i(r),e+1,t),n=Ct(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};z.toFixed=function(e,t){var n,r,i=this,u=i.constructor;return e===void 0?n=Ct(i):(et(e,0,Vt),t===void 0?t=u.rounding:et(t,0,8),r=J(new u(i),e+i.e+1,t),n=Ct(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};z.toFraction=function(e){var t,n,r,i,u,a,c,l,h,s,o,f,p=this,y=p.d,d=p.constructor;if(!y)return new d(p);if(h=n=new d(1),r=l=new d(0),t=new d(r),u=t.e=Ca(y)-p.e-1,a=u%K,t.d[0]=Ce(10,a<0?K+a:a),e==null)e=u>0?t:h;else{if(c=new d(e),!c.isInt()||c.lt(h))throw Error(Zt+c);e=c.gt(t)?u>0?t:h:c}for(j=!1,c=new d(Pe(y)),s=d.precision,d.precision=u=y.length*K*2;o=ce(c,t,0,1,1),i=n.plus(o.times(r)),i.cmp(e)!=1;)n=r,r=i,i=h,h=l.plus(o.times(i)),l=i,i=t,t=c.minus(o.times(i)),c=i;return i=ce(e.minus(n),r,0,1,1),l=l.plus(i.times(h)),n=n.plus(i.times(r)),l.s=h.s=p.s,f=ce(h,r,u,1).minus(p).abs().cmp(ce(l,n,u,1).minus(p).abs())<1?[h,r]:[l,n],d.precision=s,j=!0,f};z.toHexadecimal=z.toHex=function(e,t){return nu(this,16,e,t)};z.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:et(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(j=!1,n=ce(n,e,0,t,1).times(e),j=!0,J(n)):(e.s=n.s,n=e),n};z.toNumber=function(){return+this};z.toOctal=function(e,t){return nu(this,8,e,t)};z.toPower=z.pow=function(e){var t,n,r,i,u,a,c=this,l=c.constructor,h=+(e=new l(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new l(Ce(+c,h));if(c=new l(c),c.eq(1))return c;if(r=l.precision,u=l.rounding,e.eq(1))return J(c,r,u);if(t=$e(e.e/K),t>=e.d.length-1&&(n=h<0?-h:h)<=Bh)return i=ba(l,c,n,r),e.s<0?new l(1).div(i):J(i,r,u);if(a=c.s,a<0){if(t<e.d.length-1)return new l(NaN);if(e.d[t]&1||(a=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=a,c}return n=Ce(+c,h),t=n==0||!isFinite(n)?$e(h*(Math.log("0."+Pe(c.d))/Math.LN10+c.e+1)):new l(n+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(j=!1,l.rounding=c.s=1,n=Math.min(12,(t+"").length),i=Ui(e.times(qt(c,r+n)),r),i.d&&(i=J(i,r+5,1),$n(i.d,r,u)&&(t=r+10,i=J(Ui(e.times(qt(c,t+n)),t),t+5,1),+Pe(i.d).slice(r+1,r+15)+1==1e14&&(i=J(i,r+1,0)))),i.s=a,j=!0,l.rounding=u,J(i,r,u))};z.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ct(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(et(e,1,Vt),t===void 0?t=i.rounding:et(t,0,8),r=J(new i(r),e,t),n=Ct(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};z.toSignificantDigits=z.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(et(e,1,Vt),t===void 0?t=r.rounding:et(t,0,8)),J(new r(n),e,t)};z.toString=function(){var e=this,t=e.constructor,n=Ct(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};z.truncated=z.trunc=function(){return J(new this.constructor(this),this.e+1,1)};z.valueOf=z.toJSON=function(){var e=this,t=e.constructor,n=Ct(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Pe(e){var t,n,r,i=e.length-1,u="",a=e[0];if(i>0){for(u+=a,t=1;t<i;t++)r=e[t]+"",n=K-r.length,n&&(u+=Rt(n)),u+=r;a=e[t],r=a+"",n=K-r.length,n&&(u+=Rt(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function et(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zt+e)}function $n(e,t,n,r){var i,u,a,c;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=K,i=0):(i=Math.ceil((t+1)/K),t%=K),u=Ce(10,K-t),c=e[i]%u|0,r==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),a=n<4&&c==99999||n>3&&c==49999||c==5e4||c==0):a=(n<4&&c+1==u||n>3&&c+1==u/2)&&(e[i+1]/u/100|0)==Ce(10,t-2)-1||(c==u/2||c==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),a=(r||n<4)&&c==9999||!r&&n>3&&c==4999):a=((r||n<4)&&c+1==u||!r&&n>3&&c+1==u/2)&&(e[i+1]/u/1e3|0)==Ce(10,t-3)-1,a}function Er(e,t,n){for(var r,i=[0],u,a=0,c=e.length;a<c;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Ri.indexOf(e.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Mh(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/ni(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=wn(e,1,t.times(i),new e(1));for(var u=n;u--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}var ce=function(){function e(r,i,u){var a,c=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+c,r[l]=a%u|0,c=a/u|0;return c&&r.unshift(c),r}function t(r,i,u,a){var c,l;if(u!=a)l=u>a?1:-1;else for(c=l=0;c<u;c++)if(r[c]!=i[c]){l=r[c]>i[c]?1:-1;break}return l}function n(r,i,u,a){for(var c=0;u--;)r[u]-=c,c=r[u]<i[u]?1:0,r[u]=c*a+r[u]-i[u];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,u,a,c,l){var h,s,o,f,p,y,d,m,D,v,g,A,_,F,N,b,O,$,C,M,V=r.constructor,U=r.s==i.s?1:-1,X=r.d,H=i.d;if(!X||!X[0]||!H||!H[0])return new V(!r.s||!i.s||(X?H&&X[0]==H[0]:!H)?NaN:X&&X[0]==0||!H?U*0:U/0);for(l?(p=1,s=r.e-i.e):(l=gt,p=K,s=$e(r.e/p)-$e(i.e/p)),C=H.length,O=X.length,D=new V(U),v=D.d=[],o=0;H[o]==(X[o]||0);o++);if(H[o]>(X[o]||0)&&s--,u==null?(F=u=V.precision,a=V.rounding):c?F=u+(r.e-i.e)+1:F=u,F<0)v.push(1),y=!0;else{if(F=F/p+2|0,o=0,C==1){for(f=0,H=H[0],F++;(o<O||f)&&F--;o++)N=f*l+(X[o]||0),v[o]=N/H|0,f=N%H|0;y=f||o<O}else{for(f=l/(H[0]+1)|0,f>1&&(H=e(H,f,l),X=e(X,f,l),C=H.length,O=X.length),b=C,g=X.slice(0,C),A=g.length;A<C;)g[A++]=0;M=H.slice(),M.unshift(0),$=H[0],H[1]>=l/2&&++$;do f=0,h=t(H,g,C,A),h<0?(_=g[0],C!=A&&(_=_*l+(g[1]||0)),f=_/$|0,f>1?(f>=l&&(f=l-1),d=e(H,f,l),m=d.length,A=g.length,h=t(d,g,m,A),h==1&&(f--,n(d,C<m?M:H,m,l))):(f==0&&(h=f=1),d=H.slice()),m=d.length,m<A&&d.unshift(0),n(g,d,A,l),h==-1&&(A=g.length,h=t(H,g,C,A),h<1&&(f++,n(g,C<A?M:H,A,l))),A=g.length):h===0&&(f++,g=[0]),v[o++]=f,h&&g[0]?g[A++]=X[b]||0:(g=[X[b]],A=1);while((b++<O||g[0]!==void 0)&&F--);y=g[0]!==void 0}v[0]||v.shift()}if(p==1)D.e=s,ya=y;else{for(o=1,f=v[0];f>=10;f/=10)o++;D.e=o+s*p-1,J(D,c?u+D.e+1:u,a,y)}return D}}();function J(e,t,n,r){var i,u,a,c,l,h,s,o,f,p=e.constructor;e:if(t!=null){if(o=e.d,!o)return e;for(i=1,c=o[0];c>=10;c/=10)i++;if(u=t-i,u<0)u+=K,a=t,s=o[f=0],l=s/Ce(10,i-a-1)%10|0;else if(f=Math.ceil((u+1)/K),c=o.length,f>=c)if(r){for(;c++<=f;)o.push(0);s=l=0,i=1,u%=K,a=u-K+1}else break e;else{for(s=c=o[f],i=1;c>=10;c/=10)i++;u%=K,a=u-K+i,l=a<0?0:s/Ce(10,i-a-1)%10|0}if(r=r||t<0||o[f+1]!==void 0||(a<0?s:s%Ce(10,i-a-1)),h=n<4?(l||r)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||r||n==6&&(u>0?a>0?s/Ce(10,i-a):0:o[f-1])%10&1||n==(e.s<0?8:7)),t<1||!o[0])return o.length=0,h?(t-=e.e+1,o[0]=Ce(10,(K-t%K)%K),e.e=-t||0):o[0]=e.e=0,e;if(u==0?(o.length=f,c=1,f--):(o.length=f+1,c=Ce(10,K-u),o[f]=a>0?(s/Ce(10,i-a)%Ce(10,a)|0)*c:0),h)for(;;)if(f==0){for(u=1,a=o[0];a>=10;a/=10)u++;for(a=o[0]+=c,c=1;a>=10;a/=10)c++;u!=c&&(e.e++,o[0]==gt&&(o[0]=1));break}else{if(o[f]+=c,o[f]!=gt)break;o[f--]=0,c=1}for(u=o.length;o[--u]===0;)o.pop()}return j&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function Ct(e,t,n){if(!e.isFinite())return Ba(e);var r,i=e.e,u=Pe(e.d),a=u.length;return t?(n&&(r=n-a)>0?u=u.charAt(0)+"."+u.slice(1)+Rt(r):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+Rt(-i-1)+u,n&&(r=n-a)>0&&(u+=Rt(r))):i>=a?(u+=Rt(i+1-a),n&&(r=n-i-1)>0&&(u=u+"."+Rt(r))):((r=i+1)<a&&(u=u.slice(0,r)+"."+u.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(u+="."),u+=Rt(r))),u}function ti(e,t){var n=e[0];for(t*=K;n>=10;n/=10)t++;return t}function Lr(e,t,n){if(t>xh)throw j=!0,n&&(e.precision=n),Error(Aa);return J(new e($r),t,1,!0)}function Dt(e,t,n){if(t>qi)throw Error(Aa);return J(new e(Rr),t,n,!0)}function Ca(e){var t=e.length-1,n=t*K+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Rt(e){for(var t="";e--;)t+="0";return t}function ba(e,t,n,r){var i,u=new e(1),a=Math.ceil(r/K+4);for(j=!1;;){if(n%2&&(u=u.times(t),eo(u.d,a)&&(i=!0)),n=$e(n/2),n===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}t=t.times(t),eo(t.d,a)}return j=!0,u}function ju(e){return e.d[e.d.length-1]&1}function Na(e,t,n){for(var r,i=new e(t[0]),u=0;++u<t.length;)if(r=new e(t[u]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function Ui(e,t){var n,r,i,u,a,c,l,h=0,s=0,o=0,f=e.constructor,p=f.rounding,y=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(j=!1,l=y):l=t,c=new f(.03125);e.e>-2;)e=e.times(c),o+=5;for(r=Math.log(Ce(2,o))/Math.LN10*2+5|0,l+=r,n=u=a=new f(1),f.precision=l;;){if(u=J(u.times(e),l,1),n=n.times(++s),c=a.plus(ce(u,n,l,1)),Pe(c.d).slice(0,l)===Pe(a.d).slice(0,l)){for(i=o;i--;)a=J(a.times(a),l,1);if(t==null)if(h<3&&$n(a.d,l-r,p,h))f.precision=l+=10,n=u=c=new f(1),s=0,h++;else return J(a,f.precision=y,p,j=!0);else return f.precision=y,a}a=c}}function qt(e,t){var n,r,i,u,a,c,l,h,s,o,f,p=1,y=10,d=e,m=d.d,D=d.constructor,v=D.rounding,g=D.precision;if(d.s<0||!m||!m[0]||!d.e&&m[0]==1&&m.length==1)return new D(m&&!m[0]?-1/0:d.s!=1?NaN:m?0:d);if(t==null?(j=!1,s=g):s=t,D.precision=s+=y,n=Pe(m),r=n.charAt(0),Math.abs(u=d.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(e),n=Pe(d.d),r=n.charAt(0),p++;u=d.e,r>1?(d=new D("0."+n),u++):d=new D(r+"."+n.slice(1))}else return h=Lr(D,s+2,g).times(u+""),d=qt(new D(r+"."+n.slice(1)),s-y).plus(h),D.precision=g,t==null?J(d,g,v,j=!0):d;for(o=d,l=a=d=ce(d.minus(1),d.plus(1),s,1),f=J(d.times(d),s,1),i=3;;){if(a=J(a.times(f),s,1),h=l.plus(ce(a,new D(i),s,1)),Pe(h.d).slice(0,s)===Pe(l.d).slice(0,s))if(l=l.times(2),u!==0&&(l=l.plus(Lr(D,s+2,g).times(u+""))),l=ce(l,new D(p),s,1),t==null)if($n(l.d,s-y,v,c))D.precision=s+=y,h=a=d=ce(o.minus(1),o.plus(1),s,1),f=J(d.times(d),s,1),i=c=1;else return J(l,D.precision=g,v,j=!0);else return D.precision=g,l;l=h,i+=2}}function Ba(e){return String(e.s*e.s/0)}function Hi(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%K,n<0&&(r+=K),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=K;r<i;)e.d.push(+t.slice(r,r+=K));t=t.slice(r),r=K-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),j&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Sh(e,t){var n,r,i,u,a,c,l,h,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Fa.test(t))return Hi(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(bh.test(t))n=16,t=t.toLowerCase();else if(Ch.test(t))n=2;else if(Nh.test(t))n=8;else throw Error(Zt+t);for(u=t.search(/p/i),u>0?(l=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),a=u>=0,r=e.constructor,a&&(t=t.replace(".",""),c=t.length,u=c-u,i=ba(r,new r(n),u,u*2)),h=Er(t,n,gt),s=h.length-1,u=s;h[u]===0;--u)h.pop();return u<0?new r(e.s*0):(e.e=ti(h,s),e.d=h,j=!1,a&&(e=ce(e,i,c*4)),l&&(e=e.times(Math.abs(l)<54?Ce(2,l):yn.pow(2,l))),j=!0,e)}function Th(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:wn(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/ni(5,n)),t=wn(e,2,t,t);for(var i,u=new e(5),a=new e(16),c=new e(20);n--;)i=t.times(t),t=t.times(u.plus(i.times(a.times(i).minus(c))));return t}function wn(e,t,n,r,i){var u,a,c,l,h=e.precision,s=Math.ceil(h/K);for(j=!1,l=n.times(n),c=new e(r);;){if(a=ce(c.times(l),new e(t++*t++),h,1),c=i?r.plus(a):r.minus(a),r=ce(a.times(l),new e(t++*t++),h,1),a=c.plus(r),a.d[s]!==void 0){for(u=s;a.d[u]===c.d[u]&&u--;);if(u==-1)break}u=c,c=r,r=a,a=u}return j=!0,a.d.length=s+1,a}function ni(e,t){for(var n=e;--t;)n*=e;return n}function xa(e,t){var n,r=t.s<0,i=Dt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return It=r?4:1,t;if(n=t.divToInt(i),n.isZero())It=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(u))return It=ju(n)?r?2:3:r?4:1,t;It=ju(n)?r?1:4:r?3:2}return t.minus(i).abs()}function nu(e,t,n,r){var i,u,a,c,l,h,s,o,f,p=e.constructor,y=n!==void 0;if(y?(et(n,1,Vt),r===void 0?r=p.rounding:et(r,0,8)):(n=p.precision,r=p.rounding),!e.isFinite())s=Ba(e);else{for(s=Ct(e),a=s.indexOf("."),y?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,a>=0&&(s=s.replace(".",""),f=new p(1),f.e=s.length-a,f.d=Er(Ct(f),10,i),f.e=f.d.length),o=Er(s,10,i),u=l=o.length;o[--l]==0;)o.pop();if(!o[0])s=y?"0p+0":"0";else{if(a<0?u--:(e=new p(e),e.d=o,e.e=u,e=ce(e,f,n,r,0,i),o=e.d,u=e.e,h=ya),a=o[n],c=i/2,h=h||o[n+1]!==void 0,h=r<4?(a!==void 0||h)&&(r===0||r===(e.s<0?3:2)):a>c||a===c&&(r===4||h||r===6&&o[n-1]&1||r===(e.s<0?8:7)),o.length=n,h)for(;++o[--n]>i-1;)o[n]=0,n||(++u,o.unshift(1));for(l=o.length;!o[l-1];--l);for(a=0,s="";a<l;a++)s+=Ri.charAt(o[a]);if(y){if(l>1)if(t==16||t==8){for(a=t==16?4:3,--l;l%a;l++)s+="0";for(o=Er(s,i,t),l=o.length;!o[l-1];--l);for(a=1,s="1.";a<l;a++)s+=Ri.charAt(o[a])}else s=s.charAt(0)+"."+s.slice(1);s=s+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)s="0"+s;s="0."+s}else if(++u>l)for(u-=l;u--;)s+="0";else u<l&&(s=s.slice(0,u)+"."+s.slice(u))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function eo(e,t){if(e.length>t)return e.length=t,!0}function Ih(e){return new this(e).abs()}function Oh(e){return new this(e).acos()}function kh(e){return new this(e).acosh()}function Ph(e,t){return new this(e).plus(t)}function zh(e){return new this(e).asin()}function $h(e){return new this(e).asinh()}function Rh(e){return new this(e).atan()}function Lh(e){return new this(e).atanh()}function qh(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,u=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Dt(this,u,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Dt(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Dt(this,u,1).times(.5),n.s=e.s):t.s<0?(this.precision=u,this.rounding=1,n=this.atan(ce(e,t,u,1)),t=Dt(this,u,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(ce(e,t,u,1)),n}function Uh(e){return new this(e).cbrt()}function Hh(e){return J(e=new this(e),e.e+1,2)}function Zh(e,t,n){return new this(e).clamp(t,n)}function Wh(e){if(!e||typeof e!="object")throw Error(ei+"Object expected");var t,n,r,i=e.defaults===!0,u=["precision",1,Vt,"rounding",0,8,"toExpNeg",-ln,0,"toExpPos",0,ln,"maxE",0,ln,"minE",-ln,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(n=u[t],i&&(this[n]=Li[n]),(r=e[n])!==void 0)if($e(r)===r&&r>=u[t+1]&&r<=u[t+2])this[n]=r;else throw Error(Zt+n+": "+r);if(n="crypto",i&&(this[n]=Li[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(_a);else this[n]=!1;else throw Error(Zt+n+": "+r);return this}function Vh(e){return new this(e).cos()}function Xh(e){return new this(e).cosh()}function Ma(e){var t,n,r;function i(u){var a,c,l,h=this;if(!(h instanceof i))return new i(u);if(h.constructor=i,to(u)){h.s=u.s,j?!u.d||u.e>i.maxE?(h.e=NaN,h.d=null):u.e<i.minE?(h.e=0,h.d=[0]):(h.e=u.e,h.d=u.d.slice()):(h.e=u.e,h.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){h.s=1/u<0?-1:1,h.e=0,h.d=[0];return}if(u<0?(u=-u,h.s=-1):h.s=1,u===~~u&&u<1e7){for(a=0,c=u;c>=10;c/=10)a++;j?a>i.maxE?(h.e=NaN,h.d=null):a<i.minE?(h.e=0,h.d=[0]):(h.e=a,h.d=[u]):(h.e=a,h.d=[u]);return}else if(u*0!==0){u||(h.s=NaN),h.e=NaN,h.d=null;return}return Hi(h,u.toString())}else if(l!=="string")throw Error(Zt+u);return(c=u.charCodeAt(0))===45?(u=u.slice(1),h.s=-1):(c===43&&(u=u.slice(1)),h.s=1),Fa.test(u)?Hi(h,u):Sh(h,u)}if(i.prototype=z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Wh,i.clone=Ma,i.isDecimal=to,i.abs=Ih,i.acos=Oh,i.acosh=kh,i.add=Ph,i.asin=zh,i.asinh=$h,i.atan=Rh,i.atanh=Lh,i.atan2=qh,i.cbrt=Uh,i.ceil=Hh,i.clamp=Zh,i.cos=Vh,i.cosh=Xh,i.div=Yh,i.exp=Jh,i.floor=Gh,i.hypot=Kh,i.ln=Qh,i.log=jh,i.log10=t1,i.log2=e1,i.max=n1,i.min=r1,i.mod=i1,i.mul=u1,i.pow=o1,i.random=a1,i.round=s1,i.sign=f1,i.sin=c1,i.sinh=l1,i.sqrt=h1,i.sub=d1,i.sum=p1,i.tan=D1,i.tanh=g1,i.trunc=m1,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Yh(e,t){return new this(e).div(t)}function Jh(e){return new this(e).exp()}function Gh(e){return J(e=new this(e),e.e+1,3)}function Kh(){var e,t,n=new this(0);for(j=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return j=!0,new this(1/0);n=t}return j=!0,n.sqrt()}function to(e){return e instanceof yn||e&&e.toStringTag===Ea||!1}function Qh(e){return new this(e).ln()}function jh(e,t){return new this(e).log(t)}function e1(e){return new this(e).log(2)}function t1(e){return new this(e).log(10)}function n1(){return Na(this,arguments,"lt")}function r1(){return Na(this,arguments,"gt")}function i1(e,t){return new this(e).mod(t)}function u1(e,t){return new this(e).mul(t)}function o1(e,t){return new this(e).pow(t)}function a1(e){var t,n,r,i,u=0,a=new this(1),c=[];if(e===void 0?e=this.precision:et(e,1,Vt),r=Math.ceil(e/K),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));u<r;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:c[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);u<r;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(c.push(i%1e7),u+=4);u=r/4}else throw Error(_a);else for(;u<r;)c[u++]=Math.random()*1e7|0;for(r=c[--u],e%=K,r&&e&&(i=Ce(10,K-e),c[u]=(r/i|0)*i);c[u]===0;u--)c.pop();if(u<0)n=0,c=[0];else{for(n=-1;c[0]===0;n-=K)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<K&&(n-=K-r)}return a.e=n,a.d=c,a}function s1(e){return J(e=new this(e),e.e+1,this.rounding)}function f1(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function c1(e){return new this(e).sin()}function l1(e){return new this(e).sinh()}function h1(e){return new this(e).sqrt()}function d1(e,t){return new this(e).sub(t)}function p1(){var e=0,t=arguments,n=new this(t[e]);for(j=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return j=!0,J(n,this.precision,this.rounding)}function D1(e){return new this(e).tan()}function g1(e){return new this(e).tanh()}function m1(e){return J(e=new this(e),e.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString;z[Symbol.toStringTag]="Decimal";var yn=z.constructor=Ma(Li);$r=new yn($r);Rr=new yn(Rr);var v1="BigNumber",w1=["?on","config"],y1=re(v1,w1,e=>{var{on:t,config:n}=e,r=yn.clone({precision:n.precision,modulo:yn.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&r.config({precision:i.precision})}),r},{isClass:!0});function Sa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ta={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},i=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},u=function(o){var f=Math.PI/4;if(-f>o||o>f)return Math.cos(o)-1;var p=o*o;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(o,f){var p=Math.abs(o),y=Math.abs(f);return p<3e3&&y<3e3?Math.sqrt(p*p+y*y):(p<y?(p=y,y=o/f):y=f/o,p*Math.sqrt(1+y*y))},c=function(){throw SyntaxError("Invalid Param")};function l(o,f){var p=Math.abs(o),y=Math.abs(f);return o===0?Math.log(y):f===0?Math.log(p):p<3e3&&y<3e3?Math.log(o*o+f*f)*.5:(o=o/2,f=f/2,.5*Math.log(o*o+f*f)+Math.LN2)}var h=function(o,f){var p={re:0,im:0};if(o==null)p.re=p.im=0;else if(f!==void 0)p.re=o,p.im=f;else switch(typeof o){case"object":if("im"in o&&"re"in o)p.re=o.re,p.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;p.re=o.abs*Math.cos(o.arg),p.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;p.re=o.r*Math.cos(o.phi),p.im=o.r*Math.sin(o.phi)}else o.length===2?(p.re=o[0],p.im=o[1]):c();break;case"string":p.im=p.re=0;var y=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),d=1,m=0;y===null&&c();for(var D=0;D<y.length;D++){var v=y[D];v===" "||v==="	"||v===`
`||(v==="+"?d++:v==="-"?m++:v==="i"||v==="I"?(d+m===0&&c(),y[D+1]!==" "&&!isNaN(y[D+1])?(p.im+=parseFloat((m%2?"-":"")+y[D+1]),D++):p.im+=parseFloat((m%2?"-":"")+"1"),d=m=0):((d+m===0||isNaN(v))&&c(),y[D+1]==="i"||y[D+1]==="I"?(p.im+=parseFloat((m%2?"-":"")+v),D++):p.re+=parseFloat((m%2?"-":"")+v),d=m=0))}d+m>0&&c();break;case"number":p.im=0,p.re=o;break;default:c()}return isNaN(p.re)||isNaN(p.im),p};function s(o,f){if(!(this instanceof s))return new s(o,f);var p=h(o,f);this.re=p.re,this.im=p.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,f){var p=new s(o,f);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re+p.re,this.im+p.im)},sub:function(o,f){var p=new s(o,f);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re-p.re,this.im-p.im)},mul:function(o,f){var p=new s(o,f);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:p.im===0&&this.im===0?new s(this.re*p.re,0):new s(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(o,f){var p=new s(o,f);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return s.NAN;if(this.isInfinite()||p.isZero())return s.INFINITY;if(this.isZero()||p.isInfinite())return s.ZERO;o=this.re,f=this.im;var y=p.re,d=p.im,m,D;return d===0?new s(o/y,f/y):Math.abs(y)<Math.abs(d)?(D=y/d,m=y*D+d,new s((o*D+f)/m,(f*D-o)/m)):(D=d/y,m=d*D+y,new s((o+f*D)/m,(f-o*D)/m))},pow:function(o,f){var p=new s(o,f);if(o=this.re,f=this.im,p.isZero())return s.ONE;if(p.im===0){if(f===0&&o>0)return new s(Math.pow(o,p.re),0);if(o===0)switch((p.re%4+4)%4){case 0:return new s(Math.pow(f,p.re),0);case 1:return new s(0,Math.pow(f,p.re));case 2:return new s(-Math.pow(f,p.re),0);case 3:return new s(0,-Math.pow(f,p.re))}}if(o===0&&f===0&&p.re>0&&p.im>=0)return s.ZERO;var y=Math.atan2(f,o),d=l(o,f);return o=Math.exp(p.re*d-p.im*y),f=p.im*d+p.re*y,new s(o*Math.cos(f),o*Math.sin(f))},sqrt:function(){var o=this.re,f=this.im,p=this.abs(),y,d;if(o>=0){if(f===0)return new s(Math.sqrt(o),0);y=.5*Math.sqrt(2*(p+o))}else y=Math.abs(f)/Math.sqrt(2*(p-o));return o<=0?d=.5*Math.sqrt(2*(p-o)):d=Math.abs(f)/Math.sqrt(2*(p+o)),new s(y,f<0?-d:d)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,f=this.im;return new s(Math.expm1(o)*Math.cos(f)+u(f),Math.exp(o)*Math.sin(f))},log:function(){var o=this.re,f=this.im;return new s(l(o,f),Math.atan2(f,o))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,f=this.im;return new s(Math.sin(o)*r(f),Math.cos(o)*i(f))},cos:function(){var o=this.re,f=this.im;return new s(Math.cos(o)*r(f),-Math.sin(o)*i(f))},tan:function(){var o=2*this.re,f=2*this.im,p=Math.cos(o)+r(f);return new s(Math.sin(o)/p,i(f)/p)},cot:function(){var o=2*this.re,f=2*this.im,p=Math.cos(o)-r(f);return new s(-Math.sin(o)/p,i(f)/p)},sec:function(){var o=this.re,f=this.im,p=.5*r(2*f)+.5*Math.cos(2*o);return new s(Math.cos(o)*r(f)/p,Math.sin(o)*i(f)/p)},csc:function(){var o=this.re,f=this.im,p=.5*r(2*f)-.5*Math.cos(2*o);return new s(Math.sin(o)*r(f)/p,-Math.cos(o)*i(f)/p)},asin:function(){var o=this.re,f=this.im,p=new s(f*f-o*o+1,-2*o*f).sqrt(),y=new s(p.re-f,p.im+o).log();return new s(y.im,-y.re)},acos:function(){var o=this.re,f=this.im,p=new s(f*f-o*o+1,-2*o*f).sqrt(),y=new s(p.re-f,p.im+o).log();return new s(Math.PI/2-y.im,y.re)},atan:function(){var o=this.re,f=this.im;if(o===0){if(f===1)return new s(0,1/0);if(f===-1)return new s(0,-1/0)}var p=o*o+(1-f)*(1-f),y=new s((1-f*f-o*o)/p,-2*o/p).log();return new s(-.5*y.im,.5*y.re)},acot:function(){var o=this.re,f=this.im;if(f===0)return new s(Math.atan2(1,o),0);var p=o*o+f*f;return p!==0?new s(o/p,-f/p).atan():new s(o!==0?o/0:0,f!==0?-f/0:0).atan()},asec:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new s(0,1/0);var p=o*o+f*f;return p!==0?new s(o/p,-f/p).acos():new s(o!==0?o/0:0,f!==0?-f/0:0).acos()},acsc:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new s(Math.PI/2,1/0);var p=o*o+f*f;return p!==0?new s(o/p,-f/p).asin():new s(o!==0?o/0:0,f!==0?-f/0:0).asin()},sinh:function(){var o=this.re,f=this.im;return new s(i(o)*Math.cos(f),r(o)*Math.sin(f))},cosh:function(){var o=this.re,f=this.im;return new s(r(o)*Math.cos(f),i(o)*Math.sin(f))},tanh:function(){var o=2*this.re,f=2*this.im,p=r(o)+Math.cos(f);return new s(i(o)/p,Math.sin(f)/p)},coth:function(){var o=2*this.re,f=2*this.im,p=r(o)-Math.cos(f);return new s(i(o)/p,-Math.sin(f)/p)},csch:function(){var o=this.re,f=this.im,p=Math.cos(2*f)-r(2*o);return new s(-2*i(o)*Math.cos(f)/p,2*r(o)*Math.sin(f)/p)},sech:function(){var o=this.re,f=this.im,p=Math.cos(2*f)+r(2*o);return new s(2*r(o)*Math.cos(f)/p,-2*i(o)*Math.sin(f)/p)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var f=this.asin();return this.re=-this.im,this.im=o,o=f.re,f.re=-f.im,f.im=o,f},acosh:function(){var o=this.acos();if(o.im<=0){var f=o.re;o.re=-o.im,o.im=f}else{var f=o.im;o.im=-o.re,o.re=f}return o},atanh:function(){var o=this.re,f=this.im,p=o>1&&f===0,y=1-o,d=1+o,m=y*y+f*f,D=m!==0?new s((d*y-f*f)/m,(f*y+d*f)/m):new s(o!==-1?o/0:0,f!==0?f/0:0),v=D.re;return D.re=l(D.re,D.im)/2,D.im=Math.atan2(D.im,v)/2,p&&(D.im=-D.im),D},acoth:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new s(0,Math.PI/2);var p=o*o+f*f;return p!==0?new s(o/p,-f/p).atanh():new s(o!==0?o/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var o=this.re,f=this.im;if(f===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var p=o*o+f*f;return p!==0?new s(o/p,-f/p).asinh():new s(o!==0?o/0:0,f!==0?-f/0:0).asinh()},asech:function(){var o=this.re,f=this.im;if(this.isZero())return s.INFINITY;var p=o*o+f*f;return p!==0?new s(o/p,-f/p).acosh():new s(o!==0?o/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,f=this.im,p=o*o+f*f;return new s(o/p,-f/p)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,f){var p=new s(o,f);return Math.abs(p.re-this.re)<=s.EPSILON&&Math.abs(p.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,f=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(f)<s.EPSILON&&(f=0),f===0?p+o:(o!==0?(p+=o,p+=" ",f<0?(f=-f,p+="-"):p+="+",p+=" "):f<0&&(f=-f,p+="-"),f!==1&&(p+=f),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(Ta);var A1=Ta.exports;const Oe=Sa(A1);var _1="Complex",E1=[],F1=re(_1,E1,()=>(Object.defineProperty(Oe,"name",{value:"Complex"}),Oe.prototype.constructor=Oe,Oe.prototype.type="Complex",Oe.prototype.isComplex=!0,Oe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Oe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Oe.prototype.format=function(e){var t="",n=this.im,r=this.re,i=zi(this.re,e),u=zi(this.im,e),a=he(e)?e:e?e.precision:null;if(a!==null){var c=Math.pow(10,-a);Math.abs(r/n)<c&&(r=0),Math.abs(n/r)<c&&(n=0)}return n===0?t=i:r===0?n===1?t="i":n===-1?t="-i":t=u+"i":n<0?n===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":n===1?t=i+" + i":t=i+" + "+u+"i",t},Oe.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Oe(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(he(n)){if(ua(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),he(r))return new Oe({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Oe.prototype.valueOf=Oe.prototype.toString,Oe.fromJSON=function(e){return new Oe(e)},Oe.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Oe),{isClass:!0}),Ia={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=2e3,i={s:1,n:0,d:1};function u(D,v){if(isNaN(D=parseInt(D,10)))throw d();return D*v}function a(D,v){if(v===0)throw y();var g=Object.create(p.prototype);g.s=D<0?-1:1,D=D<0?-D:D;var A=f(D,v);return g.n=D/A,g.d=v/A,g}function c(D){for(var v={},g=D,A=2,_=4;_<=g;){for(;g%A===0;)g/=A,v[A]=(v[A]||0)+1;_+=1+2*A++}return g!==D?g>1&&(v[g]=(v[g]||0)+1):v[D]=(v[D]||0)+1,v}var l=function(D,v){var g=0,A=1,_=1,F=0,N=0,b=0,O=1,$=1,C=0,M=1,V=1,U=1,X=1e7,H;if(D!=null)if(v!==void 0){if(g=D,A=v,_=g*A,g%1!==0||A%1!==0)throw m()}else switch(typeof D){case"object":{if("d"in D&&"n"in D)g=D.n,A=D.d,"s"in D&&(g*=D.s);else if(0 in D)g=D[0],1 in D&&(A=D[1]);else throw d();_=g*A;break}case"number":{if(D<0&&(_=D,D=-D),D%1===0)g=D;else if(D>0){for(D>=1&&($=Math.pow(10,Math.floor(1+Math.log(D)/Math.LN10)),D/=$);M<=X&&U<=X;)if(H=(C+V)/(M+U),D===H){M+U<=X?(g=C+V,A=M+U):U>M?(g=V,A=U):(g=C,A=M);break}else D>H?(C+=V,M+=U):(V+=C,U+=M),M>X?(g=V,A=U):(g=C,A=M);g*=$}else(isNaN(D)||isNaN(v))&&(A=g=NaN);break}case"string":{if(M=D.match(/\d+|./g),M===null)throw d();if(M[C]==="-"?(_=-1,C++):M[C]==="+"&&C++,M.length===C+1?N=u(M[C++],_):M[C+1]==="."||M[C]==="."?(M[C]!=="."&&(F=u(M[C++],_)),C++,(C+1===M.length||M[C+1]==="("&&M[C+3]===")"||M[C+1]==="'"&&M[C+3]==="'")&&(N=u(M[C],_),O=Math.pow(10,M[C].length),C++),(M[C]==="("&&M[C+2]===")"||M[C]==="'"&&M[C+2]==="'")&&(b=u(M[C+1],_),$=Math.pow(10,M[C+1].length)-1,C+=3)):M[C+1]==="/"||M[C+1]===":"?(N=u(M[C],_),O=u(M[C+2],1),C+=3):M[C+3]==="/"&&M[C+1]===" "&&(F=u(M[C],_),N=u(M[C+2],_),O=u(M[C+4],1),C+=5),M.length<=C){A=O*$,_=g=b+A*F+$*N;break}}default:throw d()}if(A===0)throw y();i.s=_<0?-1:1,i.n=Math.abs(g),i.d=Math.abs(A)};function h(D,v,g){for(var A=1;v>0;D=D*D%g,v>>=1)v&1&&(A=A*D%g);return A}function s(D,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var g=10%v,A=1;g!==1;A++)if(g=g*10%v,A>r)return 0;return A}function o(D,v,g){for(var A=1,_=h(10,g,v),F=0;F<300;F++){if(A===_)return F;A=A*10%v,_=_*10%v}return 0}function f(D,v){if(!D)return v;if(!v)return D;for(;;){if(D%=v,!D)return v;if(v%=D,!v)return D}}function p(D,v){if(l(D,v),this instanceof p)D=f(i.d,i.n),this.s=i.s,this.n=i.n/D,this.d=i.d/D;else return a(i.s*i.n,i.d)}var y=function(){return new Error("Division by Zero")},d=function(){return new Error("Invalid argument")},m=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(D,v){return l(D,v),a(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(D,v){return l(D,v),a(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(D,v){return l(D,v),a(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(D,v){return l(D,v),a(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(D,v){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(D===void 0)return a(this.s*this.n%this.d,1);if(l(D,v),i.n===0&&this.d===0)throw y();return a(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(D,v){return l(D,v),a(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(D,v){return l(D,v),i.n===0&&this.n===0?a(0,1):a(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):a(Math.ceil(D*this.s*this.n/this.d),D)},floor:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):a(Math.floor(D*this.s*this.n/this.d),D)},round:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):a(Math.round(D*this.s*this.n/this.d),D)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(D,v){if(l(D,v),i.d===1)return i.s<0?a(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):a(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var g=c(this.n),A=c(this.d),_=1,F=1;for(var N in g)if(N!=="1"){if(N==="0"){_=0;break}if(g[N]*=i.n,g[N]%i.d===0)g[N]/=i.d;else return null;_*=Math.pow(N,g[N])}for(var N in A)if(N!=="1"){if(A[N]*=i.n,A[N]%i.d===0)A[N]/=i.d;else return null;F*=Math.pow(N,A[N])}return i.s<0?a(F,_):a(_,F)},equals:function(D,v){return l(D,v),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(D,v){l(D,v);var g=this.s*this.n*i.d-i.s*i.n*this.d;return(0<g)-(g<0)},simplify:function(D){if(isNaN(this.n)||isNaN(this.d))return this;D=D||.001;for(var v=this.abs(),g=v.toContinued(),A=1;A<g.length;A++){for(var _=a(g[A-1],1),F=A-2;F>=0;F--)_=_.inverse().add(g[F]);if(Math.abs(_.sub(v).valueOf())<D)return _.mul(this.s)}return this},divisible:function(D,v){return l(D,v),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(D){var v,g="",A=this.n,_=this.d;return this.s<0&&(g+="-"),_===1?g+=A:(D&&(v=Math.floor(A/_))>0&&(g+=v,g+=" ",A%=_),g+=A,g+="/",g+=_),g},toLatex:function(D){var v,g="",A=this.n,_=this.d;return this.s<0&&(g+="-"),_===1?g+=A:(D&&(v=Math.floor(A/_))>0&&(g+=v,A%=_),g+="\\frac{",g+=A,g+="}{",g+=_,g+="}"),g},toContinued:function(){var D,v=this.n,g=this.d,A=[];if(isNaN(v)||isNaN(g))return A;do A.push(Math.floor(v/g)),D=v%g,v=g,g=D;while(v!==1);return A},toString:function(D){var v=this.n,g=this.d;if(isNaN(v)||isNaN(g))return"NaN";D=D||15;var A=s(v,g),_=o(v,g,A),F=this.s<0?"-":"";if(F+=v/g|0,v%=g,v*=10,v&&(F+="."),A){for(var N=_;N--;)F+=v/g|0,v%=g,v*=10;F+="(";for(var N=A;N--;)F+=v/g|0,v%=g,v*=10;F+=")"}else for(var N=D;v&&N--;)F+=v/g|0,v%=g,v*=10;return F}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,e.exports=p})()})(Ia);var C1=Ia.exports;const Tt=Sa(C1);var b1="Fraction",N1=[],B1=re(b1,N1,()=>(Object.defineProperty(Tt,"name",{value:"Fraction"}),Tt.prototype.constructor=Tt,Tt.prototype.type="Fraction",Tt.prototype.isFraction=!0,Tt.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Tt.fromJSON=function(e){return new Tt(e)},Tt),{isClass:!0}),x1="Matrix",M1=[],S1=re(x1,M1,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Oa(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var r=(n.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}var T1="DenseMatrix",I1=["Matrix"],O1=re(T1,I1,e=>{var{Matrix:t}=e;function n(s,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!_t(o))throw new Error("Invalid datatype: "+o);if(Et(s))s.type==="DenseMatrix"?(this._data=Me(s._data),this._size=Me(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&De(s.data)&&De(s.size))this._data=s.data,this._size=s.size,Gu(this._data,this._size),this._datatype=o||s.datatype;else if(De(s))this._data=h(s),this._size=Ot(this._data),Gu(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+Mn(s)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new t,n.prototype.createDenseMatrix=function(s,o){return new n(s,o)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Pr(this._data,Mn)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,o){return new n(s,o)},n.prototype.subset=function(s,o,f){switch(arguments.length){case 1:return r(this,s);case 2:case 3:return u(this,s,o,f);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!De(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new se(s.length,this._size.length);for(var o=0;o<s.length;o++)ge(s[o],this._size[o]);for(var f=this._data,p=0,y=s.length;p<y;p++){var d=s[p];ge(d,f.length),f=f[d]}return f},n.prototype.set=function(s,o,f){if(!De(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new se(s.length,this._size.length,"<");var p,y,d,m=s.map(function(v){return v+1});l(this,m,f);var D=this._data;for(p=0,y=s.length-1;p<y;p++)d=s[p],ge(d,D.length),D=D[d];return d=s[s.length-1],ge(d,D.length),D[d]=o,this};function r(s,o){if(!ji(o))throw new TypeError("Invalid index");var f=o.isScalar();if(f)return s.get(o.min());var p=o.size();if(p.length!==s._size.length)throw new se(p.length,s._size.length);for(var y=o.min(),d=o.max(),m=0,D=s._size.length;m<D;m++)ge(y[m],s._size[m]),ge(d[m],s._size[m]);return new n(i(s._data,o,p.length,0),s._datatype)}function i(s,o,f,p){var y=p===f-1,d=o.dimension(p);return y?d.map(function(m){return ge(m,s.length),s[m]}).valueOf():d.map(function(m){ge(m,s.length);var D=s[m];return i(D,o,f,p+1)}).valueOf()}function u(s,o,f,p){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var y=o.size(),d=o.isScalar(),m;if(Et(f)?(m=f.size(),f=f.valueOf()):m=Ot(f),d){if(m.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),f,p)}else{if(!vn(m,y))try{m.length===0?f=Qu([f],y):f=Qu(f,y),m=Ot(f)}catch{}if(y.length<s._size.length)throw new se(y.length,s._size.length,"<");if(m.length<y.length){for(var D=0,v=0;y[D]===1&&m[D]===1;)D++;for(;y[D]===1;)v++,D++;f=da(f,y.length,v,m)}if(!vn(y,m))throw new se(y,m,">");var g=o.max().map(function(F){return F+1});l(s,g,p);var A=y.length,_=0;a(s._data,o,f,A,_)}return s}function a(s,o,f,p,y){var d=y===p-1,m=o.dimension(y);d?m.forEach(function(D,v){ge(D),s[D]=f[v[0]]}):m.forEach(function(D,v){ge(D),a(s[D],o,f[v[0]],p,y+1)})}n.prototype.resize=function(s,o,f){if(!kr(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),y=f?this.clone():this;return c(y,p,o)};function c(s,o,f){if(o.length===0){for(var p=s._data;De(p);)p=p[0];return p}return s._size=o.slice(0),s._data=Ku(s._data,s._size,f),s}n.prototype.reshape=function(s,o){var f=o?this.clone():this;f._data=la(f._data,s);var p=f._size.reduce((y,d)=>y*d);return f._size=tu(s,p),f};function l(s,o,f){for(var p=s._size.slice(0),y=!1;p.length<o.length;)p.push(0),y=!0;for(var d=0,m=o.length;d<m;d++)o[d]>p[d]&&(p[d]=o[d],y=!0);y&&c(s,p,f)}n.prototype.clone=function(){var s=new n({data:Me(this._data),size:Me(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var o=this,f=Oa(s),p=function m(D,v){return De(D)?D.map(function(g,A){return m(g,v.concat(A))}):f===1?s(D):f===2?s(D,v):s(D,v,o)},y=p(this._data,[]),d=this._datatype!==void 0?Pr(y,Mn):void 0;return new n(y,d)},n.prototype.forEach=function(s){var o=this,f=function p(y,d){De(y)?y.forEach(function(m,D){p(m,d.concat(D))}):s(y,d,o)};f(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*o(f,p){if(De(f))for(var y=0;y<f.length;y++)yield*o(f[y],p.concat(y));else yield{value:f,index:p}};yield*s(this._data,[])},n.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var p of f)s.push(new n([p],this._datatype));return s},n.prototype.columns=function(){var s=this,o=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,y=function(D){var v=p.map(g=>[g[D]]);o.push(new n(v,s._datatype))},d=0;d<f[1];d++)y(d);return o},n.prototype.toArray=function(){return Me(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return Qe(this._data,s)},n.prototype.toString=function(){return Qe(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(ke(s)&&(s=s.toNumber()),!he(s)||!Se(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,f=s<0?-s:0,p=this._size[0],y=this._size[1],d=Math.min(p-f,y-o),m=[],D=0;D<d;D++)m[D]=this._data[D+f][D+o];return new n({data:m,size:[d],datatype:this._datatype})},n.diagonal=function(s,o,f,p){if(!De(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(N){if(ke(N)&&(N=N.toNumber()),!he(N)||!Se(N)||N<1)throw new Error("Size values must be positive integers");return N}),f){if(ke(f)&&(f=f.toNumber()),!he(f)||!Se(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var y=f>0?f:0,d=f<0?-f:0,m=s[0],D=s[1],v=Math.min(m-d,D-y),g;if(De(o)){if(o.length!==v)throw new Error("Invalid value array length");g=function(b){return o[b]}}else if(Et(o)){var A=o.size();if(A.length!==1||A[0]!==v)throw new Error("Invalid matrix length");g=function(b){return o.get([b])}}else g=function(){return o};p||(p=ke(g(0))?g(0).mul(0):0);var _=[];if(s.length>0){_=Ku(_,s,p);for(var F=0;F<v;F++)_[F+d][F+y]=g(F)}return new n({data:_,size:[m,D]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,o){if(!he(s)||!Se(s)||!he(o)||!Se(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ge(s,this._size[0]),ge(o,this._size[0]),n._swapRows(s,o,this._data),this},n._swapRows=function(s,o,f){var p=f[s];f[s]=f[o],f[o]=p};function h(s){return Et(s)?h(s.valueOf()):De(s)?s.map(h):s}return n},{isClass:!0});function ri(e,t,n){return e&&typeof e.map=="function"?e.map(function(r){return ri(r,t)}):t(e)}var no="isInteger",k1=["typed"],P1=re(no,k1,e=>{var{typed:t}=e;return t(no,{number:Se,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":t.referToSelf(n=>r=>ri(r,n))})}),z1="number, number";function ka(e,t){return e+t}ka.signature=z1;var $1="number";function Pa(e){return e>0}Pa.signature=$1;var ro="isPositive",R1=["typed"],L1=re(ro,R1,e=>{var{typed:t}=e;return t(ro,{number:Pa,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>ri(r,n))})});function Un(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}function q1(e,t,n){return Ht(e.re,t.re,n)&&Ht(e.im,t.im,n)}var Hn=re("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),qr="equalScalar",U1=["typed","config"],H1=re(qr,U1,e=>{var{typed:t,config:n}=e,r=Hn({typed:t});return t(qr,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return Ht(u,a,n.epsilon)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||Un(u,a,n.epsilon)},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return q1(u,a,n.epsilon)}},r)});re(qr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(qr,{"number, number":function(i,u){return Ht(i,u,n.epsilon)}})});var Z1="SparseMatrix",W1=["typed","equalScalar","Matrix"],V1=re(Z1,W1,e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(d,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!_t(m))throw new Error("Invalid datatype: "+m);if(Et(d))u(this,d,m);else if(d&&De(d.index)&&De(d.ptr)&&De(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=m||d.datatype;else if(De(d))a(this,d,m);else{if(d)throw new TypeError("Unsupported type of data ("+Mn(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(d,m,D){m.type==="SparseMatrix"?(d._values=m._values?Me(m._values):void 0,d._index=Me(m._index),d._ptr=Me(m._ptr),d._size=Me(m._size),d._datatype=D||m._datatype):a(d,m.valueOf(),D||m._datatype)}function a(d,m,D){d._values=[],d._index=[],d._ptr=[],d._datatype=D;var v=m.length,g=0,A=n,_=0;if(_t(D)&&(A=t.find(n,[D,D])||n,_=t.convert(0,D)),v>0){var F=0;do{d._ptr.push(d._index.length);for(var N=0;N<v;N++){var b=m[N];if(De(b)){if(F===0&&g<b.length&&(g=b.length),F<b.length){var O=b[F];A(O,_)||(d._values.push(O),d._index.push(N))}}else F===0&&g<1&&(g=1),A(b,_)||(d._values.push(b),d._index.push(N))}F++}while(F<g)}d._ptr.push(d._index.length),d._size=[v,g]}i.prototype=new r,i.prototype.createSparseMatrix=function(d,m){return new i(d,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Pr(this._values,Mn)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,m){return new i(d,m)},i.prototype.density=function(){var d=this._size[0],m=this._size[1];return d!==0&&m!==0?this._index.length/(d*m):0},i.prototype.subset=function(d,m,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,d);case 2:case 3:return l(this,d,m,D);default:throw new SyntaxError("Wrong number of arguments")}};function c(d,m){if(!ji(m))throw new TypeError("Invalid index");var D=m.isScalar();if(D)return d.get(m.min());var v=m.size();if(v.length!==d._size.length)throw new se(v.length,d._size.length);var g,A,_,F,N=m.min(),b=m.max();for(g=0,A=d._size.length;g<A;g++)ge(N[g],d._size[g]),ge(b[g],d._size[g]);var O=d._values,$=d._index,C=d._ptr,M=m.dimension(0),V=m.dimension(1),U=[],X=[];M.forEach(function(Y,pe){X[Y]=pe[0],U[Y]=!0});var H=O?[]:void 0,ee=[],ae=[];return V.forEach(function(Y){for(ae.push(ee.length),_=C[Y],F=C[Y+1];_<F;_++)g=$[_],U[g]===!0&&(ee.push(X[g]),H&&H.push(O[_]))}),ae.push(ee.length),new i({values:H,index:ee,ptr:ae,size:v,datatype:d._datatype})}function l(d,m,D,v){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var g=m.size(),A=m.isScalar(),_;if(Et(D)?(_=D.size(),D=D.toArray()):_=Ot(D),A){if(_.length!==0)throw new TypeError("Scalar expected");d.set(m.min(),D,v)}else{if(g.length!==1&&g.length!==2)throw new se(g.length,d._size.length,"<");if(_.length<g.length){for(var F=0,N=0;g[F]===1&&_[F]===1;)F++;for(;g[F]===1;)N++,F++;D=da(D,g.length,N,_)}if(!vn(g,_))throw new se(g,_,">");if(g.length===1){var b=m.dimension(0);b.forEach(function(C,M){ge(C),d.set([C,0],D[M[0]],v)})}else{var O=m.dimension(0),$=m.dimension(1);O.forEach(function(C,M){ge(C),$.forEach(function(V,U){ge(V),d.set([C,V],D[M[0]][U[0]],v)})})}}return d}i.prototype.get=function(d){if(!De(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new se(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=d[0],D=d[1];ge(m,this._size[0]),ge(D,this._size[1]);var v=h(m,this._ptr[D],this._ptr[D+1],this._index);return v<this._ptr[D+1]&&this._index[v]===m?this._values[v]:0},i.prototype.set=function(d,m,D){if(!De(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new se(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var v=d[0],g=d[1],A=this._size[0],_=this._size[1],F=n,N=0;_t(this._datatype)&&(F=t.find(n,[this._datatype,this._datatype])||n,N=t.convert(0,this._datatype)),(v>A-1||g>_-1)&&(f(this,Math.max(v+1,A),Math.max(g+1,_),D),A=this._size[0],_=this._size[1]),ge(v,A),ge(g,_);var b=h(v,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===v?F(m,N)?s(b,g,this._values,this._index,this._ptr):this._values[b]=m:F(m,N)||o(b,v,g,m,this._values,this._index,this._ptr),this};function h(d,m,D,v){if(D-m===0)return D;for(var g=m;g<D;g++)if(v[g]===d)return g;return m}function s(d,m,D,v,g){D.splice(d,1),v.splice(d,1);for(var A=m+1;A<g.length;A++)g[A]--}function o(d,m,D,v,g,A,_){g.splice(d,0,v),A.splice(d,0,m);for(var F=D+1;F<_.length;F++)_[F]++}i.prototype.resize=function(d,m,D){if(!kr(d))throw new TypeError("Array or Matrix expected");var v=d.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(v.length!==2)throw new Error("Only two dimensions matrix are supported");v.forEach(function(A){if(!he(A)||!Se(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Qe(v)+")")});var g=D?this.clone():this;return f(g,v[0],v[1],m)};function f(d,m,D,v){var g=v||0,A=n,_=0;_t(d._datatype)&&(A=t.find(n,[d._datatype,d._datatype])||n,_=t.convert(0,d._datatype),g=t.convert(g,d._datatype));var F=!A(g,_),N=d._size[0],b=d._size[1],O,$,C;if(D>b){for($=b;$<D;$++)if(d._ptr[$]=d._values.length,F)for(O=0;O<N;O++)d._values.push(g),d._index.push(O);d._ptr[D]=d._values.length}else D<b&&(d._ptr.splice(D+1,b-D),d._values.splice(d._ptr[D],d._values.length),d._index.splice(d._ptr[D],d._index.length));if(b=D,m>N){if(F){var M=0;for($=0;$<b;$++){d._ptr[$]=d._ptr[$]+M,C=d._ptr[$+1]+M;var V=0;for(O=N;O<m;O++,V++)d._values.splice(C+V,0,g),d._index.splice(C+V,0,O),M++}d._ptr[b]=d._values.length}}else if(m<N){var U=0;for($=0;$<b;$++){d._ptr[$]=d._ptr[$]-U;var X=d._ptr[$],H=d._ptr[$+1]-U;for(C=X;C<H;C++)O=d._index[C],O>m-1&&(d._values.splice(C,1),d._index.splice(C,1),U++)}d._ptr[$]=d._values.length}return d._size[0]=m,d._size[1]=D,d}i.prototype.reshape=function(d,m){if(!De(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(Y){if(!he(Y)||!Se(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Qe(d)+")")});var D=this._size[0]*this._size[1];d=tu(d,D);var v=d[0]*d[1];if(D!==v)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=m?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return g;for(var A=[],_=0;_<g._ptr.length;_++)for(var F=0;F<g._ptr[_+1]-g._ptr[_];F++)A.push(_);for(var N=g._values.slice(),b=g._index.slice(),O=0;O<g._index.length;O++){var $=b[O],C=A[O],M=$*g._size[1]+C;A[O]=M%d[1],b[O]=Math.floor(M/d[1])}g._values.length=0,g._index.length=0,g._ptr.length=d[1]+1,g._size=d.slice();for(var V=0;V<g._ptr.length;V++)g._ptr[V]=0;for(var U=0;U<N.length;U++){var X=b[U],H=A[U],ee=N[U],ae=h(X,g._ptr[H],g._ptr[H+1],g._index);o(ae,X,H,ee,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var d=new i({values:this._values?Me(this._values):void 0,index:Me(this._index),ptr:Me(this._ptr),size:Me(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,v=this._size[0],g=this._size[1],A=Oa(d),_=function(N,b,O){return A===1?d(N):A===2?d(N,[b,O]):d(N,[b,O],D)};return p(this,0,v-1,0,g-1,_,m)};function p(d,m,D,v,g,A,_){var F=[],N=[],b=[],O=n,$=0;_t(d._datatype)&&(O=t.find(n,[d._datatype,d._datatype])||n,$=t.convert(0,d._datatype));for(var C=function(we,Bt,vt){we=A(we,Bt,vt),O(we,$)||(F.push(we),N.push(Bt))},M=v;M<=g;M++){b.push(F.length);var V=d._ptr[M],U=d._ptr[M+1];if(_)for(var X=V;X<U;X++){var H=d._index[X];H>=m&&H<=D&&C(d._values[X],H-m,M-v)}else{for(var ee={},ae=V;ae<U;ae++){var Y=d._index[ae];ee[Y]=d._values[ae]}for(var pe=m;pe<=D;pe++){var zt=pe in ee?ee[pe]:0;C(zt,pe-m,M-v)}}}return b.push(F.length),new i({values:F,index:N,ptr:b,size:[D-m+1,g-v+1]})}i.prototype.forEach=function(d,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,v=this._size[0],g=this._size[1],A=0;A<g;A++){var _=this._ptr[A],F=this._ptr[A+1];if(m)for(var N=_;N<F;N++){var b=this._index[N];d(this._values[N],[b,A],D)}else{for(var O={},$=_;$<F;$++){var C=this._index[$];O[C]=this._values[$]}for(var M=0;M<v;M++){var V=M in O?O[M]:0;d(V,[M,A],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],m=0;m<d;m++)for(var D=this._ptr[m],v=this._ptr[m+1],g=D;g<v;g++){var A=this._index[g];yield{value:this._values[g],index:[A,m]}}},i.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(d,m,D,v,g){var A=v[0],_=v[1],F=[],N,b;for(N=0;N<A;N++)for(F[N]=[],b=0;b<_;b++)F[N][b]=0;for(b=0;b<_;b++)for(var O=D[b],$=D[b+1],C=O;C<$;C++)N=m[C],F[N][b]=d?g?Me(d[C]):d[C]:1;return F}return i.prototype.format=function(d){for(var m=this._size[0],D=this._size[1],v=this.density(),g="Sparse Matrix ["+Qe(m,d)+" x "+Qe(D,d)+"] density: "+Qe(v,d)+`
`,A=0;A<D;A++)for(var _=this._ptr[A],F=this._ptr[A+1],N=_;N<F;N++){var b=this._index[N];g+=`
    (`+Qe(b,d)+", "+Qe(A,d)+") ==> "+(this._values?Qe(this._values[N],d):"X")}return g},i.prototype.toString=function(){return Qe(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(ke(d)&&(d=d.toNumber()),!he(d)||!Se(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var m=d>0?d:0,D=d<0?-d:0,v=this._size[0],g=this._size[1],A=Math.min(v-D,g-m),_=[],F=[],N=[];N[0]=0;for(var b=m;b<g&&_.length<A;b++)for(var O=this._ptr[b],$=this._ptr[b+1],C=O;C<$;C++){var M=this._index[C];if(M===b-m+D){_.push(this._values[C]),F[_.length-1]=M-D;break}}return N.push(_.length),new i({values:_,index:F,ptr:N,size:[A,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,m,D,v,g){if(!De(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(Y){if(ke(Y)&&(Y=Y.toNumber()),!he(Y)||!Se(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),D){if(ke(D)&&(D=D.toNumber()),!he(D)||!Se(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var A=n,_=0;_t(g)&&(A=t.find(n,[g,g])||n,_=t.convert(0,g));var F=D>0?D:0,N=D<0?-D:0,b=d[0],O=d[1],$=Math.min(b-N,O-F),C;if(De(m)){if(m.length!==$)throw new Error("Invalid value array length");C=function(pe){return m[pe]}}else if(Et(m)){var M=m.size();if(M.length!==1||M[0]!==$)throw new Error("Invalid matrix length");C=function(pe){return m.get([pe])}}else C=function(){return m};for(var V=[],U=[],X=[],H=0;H<O;H++){X.push(V.length);var ee=H-F;if(ee>=0&&ee<$){var ae=C(ee);A(ae,_)||(U.push(ee+N),V.push(ae))}}return X.push(V.length),new i({values:V,index:U,ptr:X,size:[b,O]})},i.prototype.swapRows=function(d,m){if(!he(d)||!Se(d)||!he(m)||!Se(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ge(d,this._size[0]),ge(m,this._size[0]),i._swapRows(d,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,m,D,v,g){for(var A=v[d],_=v[d+1],F=A;F<_;F++)g(D[F],m[F])},i._swapRows=function(d,m,D,v,g,A){for(var _=0;_<D;_++){var F=A[_],N=A[_+1],b=h(d,F,N,g),O=h(m,F,N,g);if(b<N&&O<N&&g[b]===d&&g[O]===m){if(v){var $=v[b];v[b]=v[O],v[O]=$}continue}if(b<N&&g[b]===d&&(O>=N||g[O]!==m)){var C=v?v[b]:void 0;g.splice(O,0,m),v&&v.splice(O,0,C),g.splice(O<=b?b+1:b,1),v&&v.splice(O<=b?b+1:b,1);continue}if(O<N&&g[O]===m&&(b>=N||g[b]!==d)){var M=v?v[O]:void 0;g.splice(b,0,d),v&&v.splice(b,0,M),g.splice(b<=O?O+1:O,1),v&&v.splice(b<=O?O+1:O,1)}}},i},{isClass:!0}),X1="bignumber",Y1=["typed","BigNumber"],J1=re(X1,Y1,e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],c=n(u[1]),l=new n(2).pow(Number(a));if(c.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var h=new n(2).pow(Number(a)-1);return c.gte(h)?c.sub(l):c}return new n(i)},BigNumber:function(i){return i},Unit:t.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Fraction:function(i){return new n(i.n).div(i.d).times(i.s)},null:function(i){return new n(0)},"Array | Matrix":t.referToSelf(r=>i=>ri(i,r))})}),io="matrix",G1=["typed","Matrix","DenseMatrix","SparseMatrix"],K1=re(io,G1,e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(io,{"":function(){return u([])},string:function(c){return u([],c)},"string, string":function(c,l){return u([],c,l)},Array:function(c){return u(c)},Matrix:function(c){return u(c,c.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,c,l){if(c==="dense"||c==="default"||c===void 0)return new r(a,l);if(c==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),uo="addScalar",Q1=["typed"],j1=re(uo,Q1,e=>{var{typed:t}=e;return t(uo,{"number, number":ka,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=t.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),ed="matAlgo12xSfs",td=["typed","DenseMatrix"],ii=re(ed,td,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,a,c){var l=i._values,h=i._index,s=i._ptr,o=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=o[0],y=o[1],d,m=a;typeof f=="string"&&(d=f,u=t.convert(u,d),m=t.find(a,[d,d]));for(var D=[],v=[],g=[],A=0;A<y;A++){for(var _=A+1,F=s[A],N=s[A+1],b=F;b<N;b++){var O=h[b];v[O]=l[b],g[O]=_}for(var $=0;$<p;$++)A===0&&(D[$]=[]),g[$]===_?D[$][A]=c?m(u,v[$]):m(v[$],u):D[$][A]=c?m(u,0):m(0,u)}return new n({data:D,size:[p,y],datatype:d})}}),nd="matAlgo14xDs",rd=["typed"],id=re(nd,rd,e=>{var{typed:t}=e;return function(i,u,a,c){var l=i._data,h=i._size,s=i._datatype,o,f=a;typeof s=="string"&&(o=s,u=t.convert(u,o),f=t.find(a,[o,o]));var p=h.length>0?n(f,0,h,h[0],l,u,c):[];return i.createDenseMatrix({data:p,size:Me(h),datatype:o})};function n(r,i,u,a,c,l,h){var s=[];if(i===u.length-1)for(var o=0;o<a;o++)s[o]=h?r(l,c[o]):r(c[o],l);else for(var f=0;f<a;f++)s[f]=n(r,i+1,u,u[i+1],c[f],l,h);return s}}),ud="matAlgo03xDSf",od=["typed"],ui=re(ud,od,e=>{var{typed:t}=e;return function(r,i,u,a){var c=r._data,l=r._size,h=r._datatype,s=i._values,o=i._index,f=i._ptr,p=i._size,y=i._datatype;if(l.length!==p.length)throw new se(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=l[0],m=l[1],D,v=0,g=u;typeof h=="string"&&h===y&&(D=h,v=t.convert(0,D),g=t.find(u,[D,D]));for(var A=[],_=0;_<d;_++)A[_]=[];for(var F=[],N=[],b=0;b<m;b++){for(var O=b+1,$=f[b],C=f[b+1],M=$;M<C;M++){var V=o[M];F[V]=a?g(s[M],c[V][b]):g(c[V][b],s[M]),N[V]=O}for(var U=0;U<d;U++)N[U]===O?A[U][b]=F[U]:A[U][b]=a?g(v,c[U][b]):g(c[U][b],v)}return r.createDenseMatrix({data:A,size:[d,m],datatype:D})}}),ad="matAlgo13xDD",sd=["typed"],fd=re(ad,sd,e=>{var{typed:t}=e;return function(i,u,a){var c=i._data,l=i._size,h=i._datatype,s=u._data,o=u._size,f=u._datatype,p=[];if(l.length!==o.length)throw new se(l.length,o.length);for(var y=0;y<l.length;y++){if(l[y]!==o[y])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");p[y]=l[y]}var d,m=a;typeof h=="string"&&h===f&&(d=h,m=t.find(a,[d,d]));var D=p.length>0?n(m,0,p,p[0],c,s):[];return i.createDenseMatrix({data:D,size:p,datatype:d})};function n(r,i,u,a,c,l){var h=[];if(i===u.length-1)for(var s=0;s<a;s++)h[s]=r(c[s],l[s]);else for(var o=0;o<a;o++)h[o]=n(r,i+1,u,u[i+1],c[o],l[o]);return h}}),cd="broadcast",ld=["concat"],hd=re(cd,ld,e=>{var{concat:t}=e;return function(i,u){var a=Math.max(i._size.length,u._size.length);if(i._size.length===u._size.length&&i._size.every((y,d)=>y===u._size[d]))return[i,u];for(var c=n(i._size,a,0),l=n(u._size,a,0),h=[],s=0;s<a;s++)h[s]=Math.max(c[s],l[s]);zr(c,h),zr(l,h);var o=i.clone(),f=u.clone();o._size.length<a?o.reshape(n(o._size,a,1)):f._size.length<a&&f.reshape(n(f._size,a,1));for(var p=0;p<a;p++)o._size[p]<h[p]&&(o=r(o,h[p],p)),f._size[p]<h[p]&&(f=r(f,h[p],p));return[o,f]};function n(i,u,a){return[...Array(u-i.length).fill(a),...i]}function r(i,u,a){return t(...Array(u).fill(i),a)}}),dd="matrixAlgorithmSuite",pd=["typed","matrix","concat"],Zn=re(dd,pd,e=>{var{typed:t,matrix:n,concat:r}=e,i=fd({typed:t}),u=id({typed:t}),a=hd({concat:r});return function(l){var h=l.elop,s=l.SD||l.DS,o;h?(o={"DenseMatrix, DenseMatrix":(d,m)=>i(...a(d,m),h),"Array, Array":(d,m)=>i(...a(n(d),n(m)),h).valueOf(),"Array, DenseMatrix":(d,m)=>i(...a(n(d),m),h),"DenseMatrix, Array":(d,m)=>i(...a(d,n(m)),h)},l.SS&&(o["SparseMatrix, SparseMatrix"]=(d,m)=>l.SS(...a(d,m),h,!1)),l.DS&&(o["DenseMatrix, SparseMatrix"]=(d,m)=>l.DS(...a(d,m),h,!1),o["Array, SparseMatrix"]=(d,m)=>l.DS(...a(n(d),m),h,!1)),s&&(o["SparseMatrix, DenseMatrix"]=(d,m)=>s(...a(m,d),h,!0),o["SparseMatrix, Array"]=(d,m)=>s(...a(n(m),d),h,!0))):(o={"DenseMatrix, DenseMatrix":t.referToSelf(d=>(m,D)=>i(...a(m,D),d)),"Array, Array":t.referToSelf(d=>(m,D)=>i(...a(n(m),n(D)),d).valueOf()),"Array, DenseMatrix":t.referToSelf(d=>(m,D)=>i(...a(n(m),D),d)),"DenseMatrix, Array":t.referToSelf(d=>(m,D)=>i(...a(m,n(D)),d))},l.SS&&(o["SparseMatrix, SparseMatrix"]=t.referToSelf(d=>(m,D)=>l.SS(...a(m,D),d,!1))),l.DS&&(o["DenseMatrix, SparseMatrix"]=t.referToSelf(d=>(m,D)=>l.DS(...a(m,D),d,!1)),o["Array, SparseMatrix"]=t.referToSelf(d=>(m,D)=>l.DS(...a(n(m),D),d,!1))),s&&(o["SparseMatrix, DenseMatrix"]=t.referToSelf(d=>(m,D)=>s(...a(D,m),d,!0)),o["SparseMatrix, Array"]=t.referToSelf(d=>(m,D)=>s(...a(n(D),m),d,!0))));var f=l.scalar||"any",p=l.Ds||l.Ss;p&&(h?(o["DenseMatrix,"+f]=(d,m)=>u(d,m,h,!1),o[f+", DenseMatrix"]=(d,m)=>u(m,d,h,!0),o["Array,"+f]=(d,m)=>u(n(d),m,h,!1).valueOf(),o[f+", Array"]=(d,m)=>u(n(m),d,h,!0).valueOf()):(o["DenseMatrix,"+f]=t.referToSelf(d=>(m,D)=>u(m,D,d,!1)),o[f+", DenseMatrix"]=t.referToSelf(d=>(m,D)=>u(D,m,d,!0)),o["Array,"+f]=t.referToSelf(d=>(m,D)=>u(n(m),D,d,!1).valueOf()),o[f+", Array"]=t.referToSelf(d=>(m,D)=>u(n(D),m,d,!0).valueOf())));var y=l.sS!==void 0?l.sS:l.Ss;return h?(l.Ss&&(o["SparseMatrix,"+f]=(d,m)=>l.Ss(d,m,h,!1)),y&&(o[f+", SparseMatrix"]=(d,m)=>y(m,d,h,!0))):(l.Ss&&(o["SparseMatrix,"+f]=t.referToSelf(d=>(m,D)=>l.Ss(m,D,d,!1))),y&&(o[f+", SparseMatrix"]=t.referToSelf(d=>(m,D)=>y(D,m,d,!0)))),h&&h.signatures&&Wl(o,h.signatures),o}}),Dd="matAlgo01xDSid",gd=["typed"],md=re(Dd,gd,e=>{var{typed:t}=e;return function(r,i,u,a){var c=r._data,l=r._size,h=r._datatype,s=i._values,o=i._index,f=i._ptr,p=i._size,y=i._datatype;if(l.length!==p.length)throw new se(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=l[0],m=l[1],D=typeof h=="string"&&h===y?h:void 0,v=D?t.find(u,[D,D]):u,g,A,_=[];for(g=0;g<d;g++)_[g]=[];var F=[],N=[];for(A=0;A<m;A++){for(var b=A+1,O=f[A],$=f[A+1],C=O;C<$;C++)g=o[C],F[g]=a?v(s[C],c[g][A]):v(c[g][A],s[C]),N[g]=b;for(g=0;g<d;g++)N[g]===b?_[g][A]=F[g]:_[g][A]=c[g][A]}return r.createDenseMatrix({data:_,size:[d,m],datatype:D})}}),vd="matAlgo04xSidSid",wd=["typed","equalScalar"],yd=re(vd,wd,e=>{var{typed:t,equalScalar:n}=e;return function(i,u,a){var c=i._values,l=i._index,h=i._ptr,s=i._size,o=i._datatype,f=u._values,p=u._index,y=u._ptr,d=u._size,m=u._datatype;if(s.length!==d.length)throw new se(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");var D=s[0],v=s[1],g,A=n,_=0,F=a;typeof o=="string"&&o===m&&(g=o,A=t.find(n,[g,g]),_=t.convert(0,g),F=t.find(a,[g,g]));var N=c&&f?[]:void 0,b=[],O=[],$=c&&f?[]:void 0,C=c&&f?[]:void 0,M=[],V=[],U,X,H,ee,ae;for(X=0;X<v;X++){O[X]=b.length;var Y=X+1;for(ee=h[X],ae=h[X+1],H=ee;H<ae;H++)U=l[H],b.push(U),M[U]=Y,$&&($[U]=c[H]);for(ee=y[X],ae=y[X+1],H=ee;H<ae;H++)if(U=p[H],M[U]===Y){if($){var pe=F($[U],f[H]);A(pe,_)?M[U]=null:$[U]=pe}}else b.push(U),V[U]=Y,C&&(C[U]=f[H]);if($&&C)for(H=O[X];H<b.length;)U=b[H],M[U]===Y?(N[H]=$[U],H++):V[U]===Y?(N[H]=C[U],H++):b.splice(H,1)}return O[v]=b.length,i.createSparseMatrix({values:N,index:b,ptr:O,size:[D,v],datatype:g})}}),Ad="matAlgo10xSids",_d=["typed","DenseMatrix"],Ed=re(Ad,_d,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,a,c){var l=i._values,h=i._index,s=i._ptr,o=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=o[0],y=o[1],d,m=a;typeof f=="string"&&(d=f,u=t.convert(u,d),m=t.find(a,[d,d]));for(var D=[],v=[],g=[],A=0;A<y;A++){for(var _=A+1,F=s[A],N=s[A+1],b=F;b<N;b++){var O=h[b];v[O]=l[b],g[O]=_}for(var $=0;$<p;$++)A===0&&(D[$]=[]),g[$]===_?D[$][A]=c?m(u,v[$]):m(v[$],u):D[$][A]=u}return new n({data:D,size:[p,y],datatype:d})}}),Fd="matAlgo07xSSf",Cd=["typed","DenseMatrix"],oi=re(Fd,Cd,e=>{var{typed:t,DenseMatrix:n}=e;return function(u,a,c){var l=u._size,h=u._datatype,s=a._size,o=a._datatype;if(l.length!==s.length)throw new se(l.length,s.length);if(l[0]!==s[0]||l[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+s+")");var f=l[0],p=l[1],y,d=0,m=c;typeof h=="string"&&h===o&&(y=h,d=t.convert(0,y),m=t.find(c,[y,y]));var D,v,g=[];for(D=0;D<f;D++)g[D]=[];var A=[],_=[],F=[],N=[];for(v=0;v<p;v++){var b=v+1;for(r(u,v,F,A,b),r(a,v,N,_,b),D=0;D<f;D++){var O=F[D]===b?A[D]:d,$=N[D]===b?_[D]:d;g[D][v]=m(O,$)}}return new n({data:g,size:[f,p],datatype:y})};function r(i,u,a,c,l){for(var h=i._values,s=i._index,o=i._ptr,f=o[u],p=o[u+1];f<p;f++){var y=s[f];a[y]=l,c[y]=h[f]}}}),oo="concat",bd=["typed","matrix","isInteger"],Nd=re(oo,bd,e=>{var{typed:t,matrix:n,isInteger:r}=e;return t(oo,{"...Array | Matrix | number | BigNumber":function(u){var a,c=u.length,l=-1,h,s=!1,o=[];for(a=0;a<c;a++){var f=u[a];if(Et(f)&&(s=!0),he(f)||ke(f)){if(a!==c-1)throw new Error("Dimension must be specified as last argument");if(h=l,l=f.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>h)throw new jt(l,h+1)}else{var p=Me(f).valueOf(),y=Ot(p);if(o[a]=p,h=l,l=y.length-1,a>0&&l!==h)throw new se(h+1,l+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var d=o.shift();o.length;)d=ga(d,o.shift(),l);return s?n(d):d},"...string":function(u){return u.join("")}})});function Bd(){throw new Error('No "bignumber" implementation available')}function xd(){throw new Error('No "matrix" implementation available')}var ao="range",Md=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Sd=re(ao,Md,e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:u,smallerEq:a,larger:c,largerEq:l,add:h,isPositive:s}=e;return t(ao,{string:f,"string, boolean":f,"number, number":function(m,D){return o(p(m,D,1,!1))},"number, number, number":function(m,D,v){return o(p(m,D,v,!1))},"number, number, boolean":function(m,D,v){return o(p(m,D,1,v))},"number, number, number, boolean":function(m,D,v,g){return o(p(m,D,v,g))},"BigNumber, BigNumber":function(m,D){var v=m.constructor;return o(p(m,D,new v(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,D,v){return o(p(m,D,v,!1))},"BigNumber, BigNumber, boolean":function(m,D,v){var g=m.constructor;return o(p(m,D,new g(1),v))},"BigNumber, BigNumber, BigNumber, boolean":function(m,D,v,g){return o(p(m,D,v,g))},"Unit, Unit, Unit":function(m,D,v){return o(p(m,D,v,!1))},"Unit, Unit, Unit, boolean":function(m,D,v,g){return o(p(m,D,v,g))}});function o(d){return n.matrix==="Matrix"?r?r(d):xd():d}function f(d,m){var D=y(d);if(!D)throw new SyntaxError('String "'+d+'" is no valid range');return n.number==="BigNumber"?(i===void 0&&Bd(),o(p(i(D.start),i(D.end),i(D.step)))):o(p(D.start,D.end,D.step,m))}function p(d,m,D,v){for(var g=[],A=s(D)?v?a:u:v?l:c,_=d;A(_,m);)g.push(_),_=h(_,D);return g}function y(d){var m=d.split(":"),D=m.map(function(g){return Number(g)}),v=D.some(function(g){return isNaN(g)});if(v)return null;switch(D.length){case 2:return{start:D[0],end:D[1],step:1};case 3:return{start:D[0],end:D[2],step:D[1]};default:return null}}}),Ur="smaller",Td=["typed","config","matrix","DenseMatrix","concat"],Id=re(Ur,Td,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=ui({typed:t}),c=oi({typed:t,DenseMatrix:i}),l=ii({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Ur,Od({typed:t,config:n}),{"boolean, boolean":(o,f)=>o<f,"BigNumber, BigNumber":function(f,p){return f.lt(p)&&!Un(f,p,n.epsilon)},"Fraction, Fraction":(o,f)=>o.compare(f)===-1,"Complex, Complex":function(f,p){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:c,DS:a,Ss:l}))}),Od=re(Ur,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Ur,{"number, number":function(i,u){return i<u&&!Ht(i,u,n.epsilon)}})}),Hr="smallerEq",kd=["typed","config","matrix","DenseMatrix","concat"],Pd=re(Hr,kd,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=ui({typed:t}),c=oi({typed:t,DenseMatrix:i}),l=ii({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Hr,zd({typed:t,config:n}),{"boolean, boolean":(o,f)=>o<=f,"BigNumber, BigNumber":function(f,p){return f.lte(p)||Un(f,p,n.epsilon)},"Fraction, Fraction":(o,f)=>o.compare(f)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:c,DS:a,Ss:l}))}),zd=re(Hr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Hr,{"number, number":function(i,u){return i<=u||Ht(i,u,n.epsilon)}})}),Zr="larger",$d=["typed","config","matrix","DenseMatrix","concat"],Rd=re(Zr,$d,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=ui({typed:t}),c=oi({typed:t,DenseMatrix:i}),l=ii({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Zr,Ld({typed:t,config:n}),{"boolean, boolean":(o,f)=>o>f,"BigNumber, BigNumber":function(f,p){return f.gt(p)&&!Un(f,p,n.epsilon)},"Fraction, Fraction":(o,f)=>o.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:c,DS:a,Ss:l}))}),Ld=re(Zr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Zr,{"number, number":function(i,u){return i>u&&!Ht(i,u,n.epsilon)}})}),Wr="largerEq",qd=["typed","config","matrix","DenseMatrix","concat"],Ud=re(Wr,qd,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:u}=e,a=ui({typed:t}),c=oi({typed:t,DenseMatrix:i}),l=ii({typed:t,DenseMatrix:i}),h=Zn({typed:t,matrix:r,concat:u}),s=Hn({typed:t});return t(Wr,Hd({typed:t,config:n}),{"boolean, boolean":(o,f)=>o>=f,"BigNumber, BigNumber":function(f,p){return f.gte(p)||Un(f,p,n.epsilon)},"Fraction, Fraction":(o,f)=>o.compare(f)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,h({SS:c,DS:a,Ss:l}))}),Hd=re(Wr,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Wr,{"number, number":function(i,u){return i>=u||Ht(i,u,n.epsilon)}})}),so="add",Zd=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Wd=re(so,Zd,e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:u,SparseMatrix:a,concat:c}=e,l=md({typed:t}),h=yd({typed:t,equalScalar:i}),s=Ed({typed:t,DenseMatrix:u}),o=Zn({typed:t,matrix:n,concat:c});return t(so,{"any, any":r,"any, any, ...any":t.referToSelf(f=>(p,y,d)=>{for(var m=f(p,y),D=0;D<d.length;D++)m=f(m,d[D]);return m})},o({elop:r,DS:l,SS:h,Ss:s}))}),za=y1({config:Wt}),Vd=F1({}),Xd=B1({}),ru=S1({}),en=O1({Matrix:ru}),tt=Eh({BigNumber:za,Complex:Vd,DenseMatrix:en,Fraction:Xd}),Yd=j1({typed:tt}),Jd=J1({BigNumber:za,typed:tt}),$a=H1({config:Wt,typed:tt}),Gd=P1({typed:tt}),Kd=L1({typed:tt}),Ra=V1({Matrix:ru,equalScalar:$a,typed:tt}),Pt=K1({DenseMatrix:en,Matrix:ru,SparseMatrix:Ra,typed:tt}),Wn=Nd({isInteger:Gd,matrix:Pt,typed:tt}),Qd=Ud({DenseMatrix:en,concat:Wn,config:Wt,matrix:Pt,typed:tt}),jd=Id({DenseMatrix:en,concat:Wn,config:Wt,matrix:Pt,typed:tt}),ep=Wd({DenseMatrix:en,SparseMatrix:Ra,addScalar:Yd,concat:Wn,equalScalar:$a,matrix:Pt,typed:tt}),tp=Rd({DenseMatrix:en,concat:Wn,config:Wt,matrix:Pt,typed:tt}),np=Pd({DenseMatrix:en,concat:Wn,config:Wt,matrix:Pt,typed:tt}),rp=Sd({bignumber:Jd,matrix:Pt,add:ep,config:Wt,isPositive:Kd,larger:tp,largerEq:Qd,smaller:jd,smallerEq:np,typed:tt});function ip(e){let t,n,r,i,u,a;return{c(){t=W("label"),n=W("input"),r=Q(),i=W("span"),P(n,"type","checkbox"),P(n,"class","svelte-1ds1cs7"),P(i,"class","slider round svelte-1ds1cs7"),P(t,"class","switch svelte-1ds1cs7")},m(c,l){Do(c,t,l),x(t,n),n.checked=e[0],x(t,r),x(t,i),u||(a=de(n,"change",e[1]),u=!0)},p(c,[l]){l&1&&(n.checked=c[0])},i:Sn,o:Sn,d(c){c&&Zi(t),u=!1,a()}}}function up(e,t,n){let{isChecked:r=!1}=t;function i(){r=this.checked,n(0,r)}return e.$$set=u=>{"isChecked"in u&&n(0,r=u.isChecked)},[r,i]}class op extends Ao{constructor(t){super(),yo(this,t,up,ip,po,{isChecked:0})}}function _i(e,t,n){return rp(e,t,(t-e)/(n-1),!0).toArray()}function ap(e,t,n){if(typeof t>"u"&&(t=e,e=0),typeof n>"u"&&(n=1),n>0&&e>=t||n<0&&e<=t)return[];const r=[];for(let i=e;n>0?i<t:i>t;i+=n)r.push(i);return r}function fo(e,t,n){e=e*1e6;const r=24.5,i=(n-r)*(n+r+546);let u,a,c,l,h,s,o;return t==="eray"?(u=4.9048,a=.11775,c=.21802,l=.027153,h=22314e-12,s=-29671e-12,o=21429e-12):t==="oray"&&(u=4.582,a=.09921,c=.2109,l=.02194,h=52716e-12,s=-491431e-13,o=22971e-11),Math.sqrt(u+(a+h*i)/(Math.pow(e,2)-Math.pow(c+s*i,2))+o*i-l*Math.pow(e,2))}function sp(e,t,n=!1){return n&&console.log("n_ppln WL: ",e,"n: ",fo(e,"eray",t)),fo(e,"eray",t)}function co(e,t,n,r,i){if(r.length!==i.length)throw new Error("neff and WL must be the same length");return r.map((a,c)=>{const l=i[c],h=2*Math.PI*n*a/l;return Math.pow(1+4*Math.sqrt(e*t)*Math.pow(Math.sin(h),2)/Math.pow(1-Math.sqrt(e*t),2),-1)})}function fp(e,t,n,r,i,u,a=!1){const c=lp(e,t,n,r,i,a);return Math.pow(Math.sin(c*u/2)/(c*u/2),2)}function cp(e,t,n,r){return n(e,r),n(t,r),1/(1/e+1/t)}function lp(e,t,n,r,i,u=!1){const a=n(e,r),c=n(t,r),l=cp(e,t,n,r),h=n(l,r);return 2*Math.PI*(h/l-a/e-c/t-1/i)}function hp(){const e=ap(19115e10,19615e10,5e10),t=299792458,n=e.map(r=>t*1e9/r);return Math.ceil(n.length/2),n.reverse()}function dp(e,t,n){if(t.length!==n.length)throw new Error("xp and yp must have the same length");if(t.length===1)return Array.isArray(e)?Array(e.length).fill(n[0]):n[0];const r=i=>{for(let u=0;u<t.length-1;u++)if(i>=t[u]&&i<=t[u+1]){const a=(n[u+1]-n[u])/(t[u+1]-t[u]);return n[u]+a*(i-t[u])}return i<t[0]?n[0]:n[n.length-1]};return Array.isArray(e)?e.map(r):r(e)}function pp(e){this.wl=e.x.map(t=>t*1e-6),this.n=e.y,this.index_function=(t,n,r=!1)=>dp(t,this.wl,this.n)}function Dp(e){let t,n,r,i,u,a,c,l,h,s,o,f,p,y,d,m,D,v,g,A,_,F,N,b,O,$,C,M,V,U,X,H,ee,ae,Y,pe,zt,Nt,we,Bt,vt,tn,xt,ct,Z,Re,lt,ht,Ee,me,Ue,Le,Te,He,Ze,ve,be,ze,w,E,B,S,I,T,q,R,L,k,te,oe,fe,Ne,Be,xe,We,Fe,Mt,Vn,Ve,Xn,Xt,nn=e[0].WLpumpair+"",An,Yn,Jn,Xe,rn,Gn,Ye,Kn,Yt,un=e[0].WLSigma+"",_n,Qn,jn,ye,on,er,Je,tr,wt,nr,rt,rr,Jt,yt=(e[0].L*e[0].L_multiplier).toFixed(4)+"",ue,Ie,ir,qe,$t,Ge,ur,iu,it,uu,En,or=e[0].Texpt+"",ai,ou,au,ut,ar,su,ot,fu,sr,fr=e[0].R1+"",si,cu,at,cr,lu,st,hu,lr,hr=e[0].R2+"",fi,du,ci,Ae,li,pu;function La(G){e[19](G)}let Du={};return e[0].ppktp_checked!==void 0&&(Du.isChecked=e[0].ppktp_checked),fe=new op({props:Du}),In.push(()=>ts(fe,"isChecked",La)),{c(){t=W("main"),n=W("canvas"),r=Q(),i=Za("svg"),u=Q(),a=W("div"),c=Q(),l=W("div"),h=W("div"),s=W("h4"),s.textContent="Idler",o=Q(),f=W("div"),p=W("p"),p.textContent="Start",y=Q(),d=W("input"),m=Q(),D=W("div"),v=W("p"),v.textContent="End",g=Q(),A=W("input"),_=Q(),F=W("div"),N=W("h4"),N.textContent="Signal",b=Q(),O=W("div"),$=W("p"),$.textContent="Start",C=Q(),M=W("input"),V=Q(),U=W("div"),X=W("p"),X.textContent="End",H=Q(),ee=W("input"),ae=Q(),Y=W("div"),pe=W("h4"),pe.textContent="Resolution",zt=Q(),Nt=W("div"),we=W("input"),Bt=Q(),vt=W("h4"),vt.textContent="Show 2D",tn=Q(),xt=W("div"),ct=W("label"),Z=W("input"),Re=Q(),lt=W("span"),ht=Q(),Ee=W("div"),me=W("label"),Ue=Ke(`Pump Envelope
      `),Le=W("input"),Te=Q(),He=W("span"),Ze=Q(),ve=W("label"),be=Ke(`Phase Matching
      `),ze=W("input"),w=Q(),E=W("span"),B=Q(),S=W("label"),I=Ke(`Waveguide
      `),T=W("input"),q=Q(),R=W("span"),L=Q(),k=W("div"),te=W("p"),te.textContent="PPLN",oe=Q(),ns(fe.$$.fragment),Be=Q(),xe=W("p"),xe.textContent="PPKTP",We=Q(),Fe=W("div"),Mt=W("p"),Mt.textContent="Pump WL",Vn=Q(),Ve=W("input"),Xn=Q(),Xt=W("p"),An=Ke(nn),Yn=Ke(" nm"),Jn=Q(),Xe=W("div"),rn=W("p"),rn.textContent="Pump Sigma",Gn=Q(),Ye=W("input"),Kn=Q(),Yt=W("p"),_n=Ke(un),Qn=Ke(" nm"),jn=Q(),ye=W("div"),on=W("p"),on.textContent="Cavity Length",er=Q(),Je=W("input"),tr=Q(),wt=W("p"),wt.textContent="Ã",nr=Q(),rt=W("input"),rr=Q(),Jt=W("p"),ue=Ke(yt),Ie=Ke(" mm"),ir=Q(),qe=W("input"),$t=Q(),Ge=W("div"),ur=W("p"),ur.textContent="Temperature",iu=Q(),it=W("input"),uu=Q(),En=W("p"),ai=Ke(or),ou=Ke(" Celsius"),au=Q(),ut=W("div"),ar=W("p"),ar.textContent="R1",su=Q(),ot=W("input"),fu=Q(),sr=W("p"),si=Ke(fr),cu=Q(),at=W("div"),cr=W("p"),cr.textContent="R2",lu=Q(),st=W("input"),hu=Q(),lr=W("p"),fi=Ke(hr),du=Q(),ci=W("div"),ie(n,"position","absolute"),P(n,"class","svelte-823ufr"),_e(n,"hide_canvas",!e[0].show_2d),ie(i,"position","absolute"),ie(i,"left","0"),ie(i,"top","0"),P(a,"id","plot"),P(a,"class","graph_2d svelte-823ufr"),ie(s,"display","block"),ie(s,"margin","0px 0px"),P(p,"class","wl_label svelte-823ufr"),P(d,"type","text"),P(f,"class","controls svelte-823ufr"),P(v,"class","wl_label svelte-823ufr"),P(A,"type","text"),P(D,"class","controls svelte-823ufr"),P(h,"class","bbox"),P(h,"style",""),ie(N,"margin","0px 0px"),P($,"class","wl_label svelte-823ufr"),P(M,"type","text"),P(O,"class","controls svelte-823ufr"),P(X,"class","wl_label svelte-823ufr"),P(ee,"type","text"),P(U,"class","controls svelte-823ufr"),P(F,"class","bbox"),P(F,"style",""),ie(pe,"margin","0px 0px"),P(we,"type","text"),P(we,"class","svelte-823ufr"),_e(we,"invalid",Number(e[3])<100||Number(e[3])>1e4),P(Nt,"class","controls svelte-823ufr"),ie(vt,"margin","0px 0px"),P(Z,"type","checkbox"),P(Z,"class","svelte-823ufr"),P(lt,"class","checkmark svelte-823ufr"),P(ct,"class","container svelte-823ufr"),P(xt,"class","controls svelte-823ufr"),P(Y,"class","bbox"),ie(Y,"display","flex"),ie(Y,"flex-direction","column"),P(l,"class","checks svelte-823ufr"),P(Le,"type","checkbox"),P(Le,"class","svelte-823ufr"),P(He,"class","checkmark svelte-823ufr"),P(me,"class","container svelte-823ufr"),P(ze,"type","checkbox"),P(ze,"class","svelte-823ufr"),P(E,"class","checkmark svelte-823ufr"),P(ve,"class","container svelte-823ufr"),P(T,"type","checkbox"),P(T,"class","svelte-823ufr"),P(R,"class","checkmark svelte-823ufr"),P(S,"class","container svelte-823ufr"),P(Ee,"class","checks svelte-823ufr"),P(te,"class","ppln svelte-823ufr"),_e(te,"slider-off",e[0].ppktp_checked),P(xe,"class","ppktp svelte-823ufr"),_e(xe,"slider-off",!e[0].ppktp_checked),P(k,"class","checks toggle svelte-823ufr"),P(Mt,"class","output svelte-823ufr"),P(Ve,"type","range"),P(Ve,"min","750"),P(Ve,"max","800"),P(Ve,"step","0.001"),P(Ve,"class","slider svelte-823ufr"),P(Ve,"id","myRange_1"),P(Xt,"class","output svelte-823ufr"),P(Fe,"class","slidecontainer svelte-823ufr"),ie(Fe,"position","relative"),ie(Fe,"top","650px"),_e(Fe,"slider-off",!e[0].pump_checked),P(rn,"class","output svelte-823ufr"),P(Ye,"type","range"),P(Ye,"min","0.20"),P(Ye,"max","10"),P(Ye,"step","0.01"),P(Ye,"class","slider svelte-823ufr"),P(Ye,"id","myRange_1"),P(Yt,"class","output svelte-823ufr"),P(Xe,"class","slidecontainer svelte-823ufr"),ie(Xe,"position","relative"),ie(Xe,"top","650px"),_e(Xe,"slider-off",!e[0].pump_checked),P(on,"class","output svelte-823ufr"),P(Je,"type","range"),P(Je,"min",".995"),P(Je,"max","1.005"),P(Je,"step","0.000001"),P(Je,"class","slider svelte-823ufr"),P(Je,"id","myRange_1"),ie(wt,"font-size","1.8rem"),ie(wt,"padding-left","10px"),ie(wt,"padding-right","10px"),ie(wt,"margin","0"),ie(wt,"margin-top","7px"),P(rt,"type","number"),ie(rt,"height","29px"),ie(rt,"width","70px"),ie(rt,"margin-top","12px"),P(Jt,"class","output svelte-823ufr"),P(qe,"type","number"),ie(qe,"height","29px"),ie(qe,"width","70px"),ie(qe,"margin-top","12px"),P(ye,"class","slidecontainer svelte-823ufr"),ie(ye,"position","relative"),ie(ye,"top","650px"),_e(ye,"slider-off",!e[0].waveguide_checked),P(ur,"class","output svelte-823ufr"),P(it,"type","range"),P(it,"min","0"),P(it,"max","200"),P(it,"step","1"),P(it,"class","slider svelte-823ufr"),P(it,"id","myRange_1"),P(En,"class","output svelte-823ufr"),P(Ge,"class","slidecontainer svelte-823ufr"),ie(Ge,"position","relative"),ie(Ge,"top","650px"),_e(Ge,"slider-off",!(e[0].waveguide_checked&&!e[0].ppktp_checked)),P(ar,"class","output svelte-823ufr"),P(ot,"type","range"),P(ot,"min","0"),P(ot,"max","1"),P(ot,"step",".0001"),P(ot,"class","slider svelte-823ufr"),P(ot,"id","myRange_1"),P(sr,"class","output svelte-823ufr"),P(ut,"class","slidecontainer svelte-823ufr"),ie(ut,"position","relative"),ie(ut,"top","650px"),_e(ut,"slider-off",!e[0].waveguide_checked),P(cr,"class","output svelte-823ufr"),P(st,"type","range"),P(st,"min","0"),P(st,"max","1"),P(st,"step",".0001"),P(st,"class","slider svelte-823ufr"),P(st,"id","myRange_1"),P(lr,"class","output svelte-823ufr"),P(at,"class","slidecontainer svelte-823ufr"),ie(at,"position","relative"),ie(at,"top","650px"),_e(at,"slider-off",!e[0].waveguide_checked),P(ci,"class","footer svelte-823ufr")},m(G,ne){Do(G,t,ne),x(t,n),e[7](n),x(t,r),x(t,i),e[8](i),x(t,u),x(t,a),x(t,c),x(t,l),x(l,h),x(h,s),x(h,o),x(h,f),x(f,p),x(f,y),x(f,d),le(d,e[0].start_idler),x(h,m),x(h,D),x(D,v),x(D,g),x(D,A),le(A,e[0].end_idler),x(l,_),x(l,F),x(F,N),x(F,b),x(F,O),x(O,$),x(O,C),x(O,M),le(M,e[0].start_signal),x(F,V),x(F,U),x(U,X),x(U,H),x(U,ee),le(ee,e[0].end_signal),x(l,ae),x(l,Y),x(Y,pe),x(Y,zt),x(Y,Nt),x(Nt,we),le(we,e[3]),x(Y,Bt),x(Y,vt),x(Y,tn),x(Y,xt),x(xt,ct),x(ct,Z),Z.checked=e[0].show_2d,x(ct,Re),x(ct,lt),x(t,ht),x(t,Ee),x(Ee,me),x(me,Ue),x(me,Le),Le.checked=e[0].pump_checked,x(me,Te),x(me,He),x(Ee,Ze),x(Ee,ve),x(ve,be),x(ve,ze),ze.checked=e[0].phase_matching_checked,x(ve,w),x(ve,E),x(Ee,B),x(Ee,S),x(S,I),x(S,T),T.checked=e[0].waveguide_checked,x(S,q),x(S,R),x(t,L),x(t,k),x(k,te),x(k,oe),vo(fe,k,null),x(k,Be),x(k,xe),x(t,We),x(t,Fe),x(Fe,Mt),x(Fe,Vn),x(Fe,Ve),le(Ve,e[0].WLpumpair),x(Fe,Xn),x(Fe,Xt),x(Xt,An),x(Xt,Yn),x(t,Jn),x(t,Xe),x(Xe,rn),x(Xe,Gn),x(Xe,Ye),le(Ye,e[0].WLSigma),x(Xe,Kn),x(Xe,Yt),x(Yt,_n),x(Yt,Qn),x(t,jn),x(t,ye),x(ye,on),x(ye,er),x(ye,Je),le(Je,e[0].L),x(ye,tr),x(ye,wt),x(ye,nr),x(ye,rt),le(rt,e[0].L_multiplier),x(ye,rr),x(ye,Jt),x(Jt,ue),x(Jt,Ie),x(ye,ir),x(ye,qe),le(qe,e[0].L),x(t,$t),x(t,Ge),x(Ge,ur),x(Ge,iu),x(Ge,it),le(it,e[0].Texpt),x(Ge,uu),x(Ge,En),x(En,ai),x(En,ou),x(t,au),x(t,ut),x(ut,ar),x(ut,su),x(ut,ot),le(ot,e[0].R1),x(ut,fu),x(ut,sr),x(sr,si),x(t,cu),x(t,at),x(at,cr),x(at,lu),x(at,st),le(st,e[0].R2),x(at,hu),x(at,lr),x(lr,fi),x(t,du),x(t,ci),Ae=!0,li||(pu=[de(d,"input",e[9]),de(A,"input",e[10]),de(M,"input",e[11]),de(ee,"input",e[12]),de(we,"input",e[13]),de(we,"input",e[14]),de(Z,"change",e[15]),de(Le,"change",e[16]),de(ze,"change",e[17]),de(T,"change",e[18]),de(Ve,"change",e[20]),de(Ve,"input",e[20]),de(Ye,"change",e[21]),de(Ye,"input",e[21]),de(Je,"change",e[22]),de(Je,"input",e[22]),de(rt,"input",e[23]),de(qe,"input",e[24]),de(it,"change",e[25]),de(it,"input",e[25]),de(ot,"change",e[26]),de(ot,"input",e[26]),de(st,"change",e[27]),de(st,"input",e[27])],li=!0)},p(G,ne){(!Ae||ne[0]&1)&&_e(n,"hide_canvas",!G[0].show_2d),ne[0]&1&&d.value!==G[0].start_idler&&le(d,G[0].start_idler),ne[0]&1&&A.value!==G[0].end_idler&&le(A,G[0].end_idler),ne[0]&1&&M.value!==G[0].start_signal&&le(M,G[0].start_signal),ne[0]&1&&ee.value!==G[0].end_signal&&le(ee,G[0].end_signal),ne[0]&8&&we.value!==G[3]&&le(we,G[3]),(!Ae||ne[0]&8)&&_e(we,"invalid",Number(G[3])<100||Number(G[3])>1e4),ne[0]&1&&(Z.checked=G[0].show_2d),ne[0]&1&&(Le.checked=G[0].pump_checked),ne[0]&1&&(ze.checked=G[0].phase_matching_checked),ne[0]&1&&(T.checked=G[0].waveguide_checked),(!Ae||ne[0]&1)&&_e(te,"slider-off",G[0].ppktp_checked);const gu={};!Ne&&ne[0]&1&&(Ne=!0,gu.isChecked=G[0].ppktp_checked,Ga(()=>Ne=!1)),fe.$set(gu),(!Ae||ne[0]&1)&&_e(xe,"slider-off",!G[0].ppktp_checked),ne[0]&1&&le(Ve,G[0].WLpumpair),(!Ae||ne[0]&1)&&nn!==(nn=G[0].WLpumpair+"")&&an(An,nn),(!Ae||ne[0]&1)&&_e(Fe,"slider-off",!G[0].pump_checked),ne[0]&1&&le(Ye,G[0].WLSigma),(!Ae||ne[0]&1)&&un!==(un=G[0].WLSigma+"")&&an(_n,un),(!Ae||ne[0]&1)&&_e(Xe,"slider-off",!G[0].pump_checked),ne[0]&1&&le(Je,G[0].L),ne[0]&1&&At(rt.value)!==G[0].L_multiplier&&le(rt,G[0].L_multiplier),(!Ae||ne[0]&1)&&yt!==(yt=(G[0].L*G[0].L_multiplier).toFixed(4)+"")&&an(ue,yt),ne[0]&1&&At(qe.value)!==G[0].L&&le(qe,G[0].L),(!Ae||ne[0]&1)&&_e(ye,"slider-off",!G[0].waveguide_checked),ne[0]&1&&le(it,G[0].Texpt),(!Ae||ne[0]&1)&&or!==(or=G[0].Texpt+"")&&an(ai,or),(!Ae||ne[0]&1)&&_e(Ge,"slider-off",!(G[0].waveguide_checked&&!G[0].ppktp_checked)),ne[0]&1&&le(ot,G[0].R1),(!Ae||ne[0]&1)&&fr!==(fr=G[0].R1+"")&&an(si,fr),(!Ae||ne[0]&1)&&_e(ut,"slider-off",!G[0].waveguide_checked),ne[0]&1&&le(st,G[0].R2),(!Ae||ne[0]&1)&&hr!==(hr=G[0].R2+"")&&an(fi,hr),(!Ae||ne[0]&1)&&_e(at,"slider-off",!G[0].waveguide_checked)},i(G){Ae||(mo(fe.$$.fragment,G),Ae=!0)},o(G){es(fe.$$.fragment,G),Ae=!1},d(G){G&&Zi(t),e[7](null),e[8](null),wo(fe),li=!1,Rn(pu)}}}function gp(e,t,n){let r,i,u,a,c=!1,l,h,s,o,f,p=!0,y={},d=!1,m,D,v;const g={show_2d:!0,c:299792458,WLpumpair:774.1,numWLs:501,BW:1e-8,WLSigma:.815,L:1,L_multiplier:1.3,R1:.85,R2:.1,Texpt:128.25,pump_checked:!1,phase_matching_checked:!0,waveguide_checked:!1,ppktp_checked:!0,start_idler:1548.51,end_idler:1568.36,start_signal:1528.77,end_signal:1548.11,polling_period:1/28380},A=hp();g.WLpumpair*1e-9*2;function _(Z,Re){var S;const lt=2*Math.PI*Z.c/(2*Z.WLpumpair*1e-9);if(Z.WLpumpair*1e-9*2,isNaN(Z.L_multiplier))return 1;const ht=Z.WLSigma*1e-9,Ee=Z.L*.001*Z.L_multiplier,me=_i(Z.start_signal*1e-9,Z.end_signal*1e-9,Z.numWLs),Ue=_i(Z.start_idler*1e-9,Z.end_idler*1e-9,Z.numWLs);let Le=new Array(me.length).fill(1),Te=new Array(me.length).fill(1);Z.ppktp_checked?D=v.index_function:D=sp,Le=me.map(I=>D(I,Z.Texpt)),Te=Ue.map(I=>D(I,Z.Texpt));const He=co(Z.R1,Z.R2,Ee,Le,me),Ze=co(Z.R1,Z.R2,Ee,Te,Ue),ve=me.map(I=>2*Math.PI*Z.c/I);let be=Ue.map(I=>2*Math.PI*Z.c/I);Pt(ve),Pt(be);const ze=ht*Z.c/(2*Z.WLpumpair*1e-9)**2,w=_i(500,3500,501),E=w.map(I=>D(I*1e-9,Z.Texpt,!1));if((S=l==null?void 0:l.data)!=null&&S.x&&!Re&&l.data.x.length==Z.numWLs&&p==Z.show_2d)o.data.x=w,o.data.y=E,l.data.y=He,h.data.y=Ze,l.change.emit(),h.change.emit(),o.change.emit();else{if(!Z.show_2d){const k=Array(be.length).fill(1);f=Array(ve.length).fill(k)}p=Z.show_2d,l=new Bokeh.ColumnDataSource({data:{x:me.map(k=>k*1e9),y:He}}),h=new Bokeh.ColumnDataSource({data:{x:Ue.map(k=>k*1e9),y:Ze}}),s=new Bokeh.ColumnDataSource({data:{x:m.x,y:m.y}}),o=new Bokeh.ColumnDataSource({data:{x:w,y:E}});const I=new Bokeh.Plotting.figure({tools:"xwheel_zoom, xpan, reset",active_drag:"xwheel_zoom",sizing_mode:"stretch_width",height:250,x_range:[A[0],A[A.length-1]],y_range:[0,gs(He)],output_backend:"webgl"}),T=new Bokeh.Plotting.figure({height:300,x_range:[500,3500],y_range:[1.65,1.825]}),q=new Bokeh.Plotting.figure({height:300,x_range:[-10,10],y_range:[0,5]});I.toolbar.logo=null,I.line({field:"x"},{field:"y"},{source:l,line_width:3,line_color:"#333333"}),I.line({field:"x"},{field:"y"},{source:h,line_width:3,line_color:"#330033"}),q.line({field:"x"},{field:"y"},{line_width:3,source:s,line_color:"#333333"}),T.line({field:"x"},{field:"y"},{source:o,line_width:3,line_color:"#333333"});const R=new Bokeh.Document;R.add_root(I),R.add_root(T),R.add_root(q);const L=document.getElementById("plot");if(L)for(;L.firstChild;)L.firstChild.remove();Bokeh.embed.add_document_standalone(R,L)}be=be.reverse();let B=Z.show_2d?ve.map((I,T)=>be.map((q,R)=>{let L=!1;T==100&&R==401&&(L=!0),T==400&&R==101&&(L=!0);const k=Z.waveguide_checked?Ze[R]*He[T]:1,te=Z.pump_checked?Math.exp(-Math.pow(I+q-2*lt,2)/(2*Math.pow(ze,2))):1,oe=Z.phase_matching_checked?fp(2*Math.PI*Z.c/q,2*Math.PI*Z.c/I,D,Z.Texpt,Z.polling_period,Ee,L):1;return k*te*oe})):f;Z.show_2d?(n(1,r.style.opacity=1,r),F(B,1*(501/Z.numWLs),ta(Dl))):n(1,r.style.opacity=.2,r)}Xa(async()=>{const Z=await fetch("./50_GHz_spectrum.json");n(6,m=await Z.json());const Re=await fetch("./ppKTP_n.json").then(Ue=>Ue.json());v=new pp(Re),_(g,!0);const lt=Es(Pi().domain([g.start_signal,g.end_signal]).range([0,u])),ht=Fs(Pi().domain([g.start_idler,g.end_idler]).range([a,0])),Ee=Au(i).append("g").attr("transform",`translate(100,${100+a})`).call(lt),me=Au(i).append("g").attr("transform","translate(100,100)").call(ht);Ee.append("text").attr("class","axis-label").attr("x",u/2).attr("y",40).style("text-anchor","middle").style("fill","black").text("Signal (nm)"),me.append("text").attr("class","axis-label").attr("x",-a/2).attr("y",-60).attr("transform","rotate(-90)").style("text-anchor","middle").style("fill","black").text("Idler (nm)"),i.setAttribute("width",`${u+200}px`),i.setAttribute("height",`${a+200}px`),n(4,c=!0)});function F(Z,Re,lt){const ht=[].concat.apply([],Z),[Ee,me]=cs(ht),Ue=ve=>{const be=me-Ee;return Math.abs(be)<Number.EPSILON?ve:(ve-Ee)/be},Le=ve=>lt(Ue(ve)),Te={x:Z[0].length,y:Z.length},He=r.getContext("2d");d||(d=!0,n(1,r.style.top="100px",r),n(1,r.style.left="100px",r),n(1,r.style.opacity=1,r),n(1,r.style.imageRendering="pixelated",r)),n(1,r.width=Te.x,r),n(1,r.height=Te.y,r),u=Te.x*Re,a=Te.y*Re,n(1,r.style.width=`${Te.x*Re}px`,r),n(1,r.style.height=`${Te.y*Re}px`,r);const Ze=He.createImageData(Te.x,Te.y);ht.forEach((ve,be)=>{let ze=isNaN(ve)?{r:0,g:0,b:0}:Ut(Le(ve));Ze.data[be*4]=ze.r,Ze.data[be*4+1]=ze.g,Ze.data[be*4+2]=ze.b,Ze.data[be*4+3]=255}),He.putImageData(Ze,0,0)}let N="501";function b(Z){In[Z?"unshift":"push"](()=>{r=Z,n(1,r)})}function O(Z){In[Z?"unshift":"push"](()=>{i=Z,n(2,i)})}function $(){g.start_idler=this.value,n(0,g)}function C(){g.end_idler=this.value,n(0,g)}function M(){g.start_signal=this.value,n(0,g)}function V(){g.end_signal=this.value,n(0,g)}function U(){N=this.value,n(3,N)}const X=Z=>{Number(Z.target.value)>100&&Number(Z.target.value)<1e4&&n(0,g.numWLs=Z.target.value,g),Number(Z.target.value)>2e3&&(n(0,g.numWLs=Z.target.value,g),n(0,g.show_2d=!1,g))};function H(){g.show_2d=this.checked,n(0,g)}function ee(){g.pump_checked=this.checked,n(0,g)}function ae(){g.phase_matching_checked=this.checked,n(0,g)}function Y(){g.waveguide_checked=this.checked,n(0,g)}function pe(Z){e.$$.not_equal(g.ppktp_checked,Z)&&(g.ppktp_checked=Z,n(0,g))}function zt(){g.WLpumpair=At(this.value),n(0,g)}function Nt(){g.WLSigma=At(this.value),n(0,g)}function we(){g.L=At(this.value),n(0,g)}function Bt(){g.L_multiplier=At(this.value),n(0,g)}function vt(){g.L=At(this.value),n(0,g)}function tn(){g.Texpt=At(this.value),n(0,g)}function xt(){g.R1=At(this.value),n(0,g)}function ct(){g.R2=At(this.value),n(0,g)}return e.$$.update=()=>{e.$$.dirty[0]&113&&c&&m&&JSON.stringify(g)!==JSON.stringify(y)&&(n(5,y={...g}),_(g,!1))},[g,r,i,N,c,y,m,b,O,$,C,M,V,U,X,H,ee,ae,Y,pe,zt,Nt,we,Bt,vt,tn,xt,ct]}class mp extends Ao{constructor(t){super(),yo(this,t,gp,Dp,po,{},null,[-1,-1])}}new mp({target:document.getElementById("app")});
